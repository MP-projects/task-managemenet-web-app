/*! For license information please see main.fd0e8151.js.LICENSE.txt */
!function(){var e={637:function(e,t,n){"use strict";var r,i,o=n(388),a=n(971),s=n(826),u=n(386),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=f),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=m;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(h,"0.6.21",t),e.registerVersion("fire-js","")}(_),t.Z=_},826:function(e,t,n){"use strict";n.d(t,{H0:function(){return u},wA:function(){return o},zt:function(){return s}});var r=n(388),i=n(971),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=a);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=(0,r.pi)({identifier:a,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(o)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(i)return null;throw s}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.instanceIdentifier,o=void 0===i?a:i,s=e.options,u=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(o);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:u});try{for(var h=(0,r.XA)(this.instancesDeferred.entries()),f=h.next();!f.done;f=h.next()){var d=(0,r.CR)(f.value,2),p=d[0],v=d[1];c===this.normalizeInstanceIdentifier(p)&&v.resolve(l)}}catch(m){t={error:m}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(l,c),l},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},895:function(e,t,n){"use strict";var r=n(637),i=n(826),o=n(971),a=n(388),s=n(386);e=n.hmd(e);var u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Yd("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),g=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},y=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?(0,o.Pz)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.in.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=y.apply(null,e);b(n)}},E=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];k.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));v.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw v.error(n),new Error(n)},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+y.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));v.warn(n)},C=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",N="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===x||t===N)return-1;if(t===x||e===N)return 1;var n=V(e),r=V(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},R=function e(t){if("object"!==typeof t||null===t)return(0,o.Pz)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=(0,o.Pz)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},O=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var M=function(e){(0,o.hu)(!C(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var j=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,V=function(e){if(j.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},q=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw I("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){return this.appCheck?this.appCheck.getToken(e):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){I('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),G=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(k("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',I(e)},e}(),K=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J="websocket",Q="long_polling",X=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Y(e,t,n){var r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===J)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Q)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Z=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),$={},ee={};function te(e){var t=e.toString();return $[t]||($[t]=new Z),$[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&q((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=E(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Y(t,Q,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&W.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=O(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){k("frame writing exception"),u.stack&&k(u.stack),k(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||k("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){k("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=E(this.connId),this.stats_=te(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&W.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Y(e,J,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?i.headers.Authorization=this.authToken||"":i.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var a={NODE_ENV:"production",PUBLIC_URL:"/task-managemenet-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new se(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],i)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==se&&!e.forceDisallow_},e.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=O(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||I("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=E("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?S("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&I("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ge(e){return e.pieces_.length-e.pieceNum_}function ye(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function ke(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Ee(e){return e.pieceNum_>=e.pieces_.length}function Se(e,t){var n=me(e),r=me(t);if(null===n)return t;if(n===r)return Se(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Te(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ie(e,t){if(ge(e)!==ge(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ce(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ge(e)>ge(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var xe=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Ne(this)};function Ne(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ae(e))}function Ae(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,De,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),Oe=1e3,Le=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=E("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Oe,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),Re.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this,n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();I("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):S("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Oe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,m,g=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.CR.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?k("getToken() completed but was canceled"):(k("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){I(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&I(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){k("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){k("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Oe,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){k("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){k("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Me=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),je=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Me(x,e),r=new Me(x,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Me.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(N,Pe)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Me(e,Pe)},t.prototype.toString=function(){return".key"},t}(je),Ue=new Fe,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),qe=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new qe(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qe.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}();function Ge(e,t){return A(e.name,t.name)}function Ke(e,t){return A(e,t)}var He,We,Je,Qe=function(e){return"number"===typeof e?"number:"+M(e):"string:"+e},Xe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===De||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===De||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ye=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Xe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Ee(t)?this:".priority"===me(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===ge(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?M(this.value_):this.value_,this.lazyHash_=g(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Ze,$e,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return new Me(N,new Ye("[PRIORITY-POST]",Je))},t.prototype.makePost=function(e,t){var n=We(e);return new Me(t,new Ye("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(je),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new qe(a,o.node,qe.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new qe(a,o.node,qe.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new qe(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,qe.BLACK):(s(h,qe.BLACK),s(h,qe.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(ot&&tt,"ChildrenNode.ts has not been loaded"),Ze=Ze||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Me.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),h=(0,a.pi)({},this.indexSet_);h[l]=t;var f=(0,a.pi)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Me.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Me(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Me(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Xe(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return $e||($e=new e(new ze(Ke),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||$e},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?$e:t},e.prototype.getChild=function(e){var t=me(e);return null===t?this:this.getImmediateChild(t).getChild(ye(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Me(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?$e:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=me(e);if(null===n)return t;(0,o.hu)(".priority"!==me(e)||1===ge(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ye(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Qe(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":g(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Me(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Me(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Me.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(Ke),st.EMPTY_NODE,at.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Me,{MIN:{value:new Me(x,st.EMPTY_NODE)},MAX:{value:new Me(N,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,Ye.__childrenNodeConstructor=st,De=ut,function(e){Je=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ye(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return L(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Me(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ge,(function(e){return e.name}),Ke);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){We=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!Ee(t)&&".priority"!==me(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Me(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Me(N,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(je),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Me.MIN},t.prototype.maxPost=function(){return Me.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Me(t,n)},t.prototype.toString=function(){return".value"},t}(je),ft=new ht,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return(0,o.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=V(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return N;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},mt=function(e){if("-2147483648"===e)return x;var t=V(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function gt(e){return{type:"value",snapshotNode:e}}function yt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(yt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(yt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),kt=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Me(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Me(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Et=function(){function e(e){this.rangedFilter_=new kt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Me(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Me(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var v=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(yt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(yt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),St=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:N},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Tt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function It(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ct(e,t){var n=e.copy();return n.index_=t,n}function xt(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Ue?t="$key":((0,o.hu)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Nt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var At=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=E("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=xt(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=xt(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=(0,o.cI)(h.responseText)}catch(t){I("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&I("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Pt=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Dt(){return{value:null,children:new Map}}function Rt(e,t,n){if(Ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Dt()),Rt(e.children.get(r),t=ye(t),n)}}function Ot(e,t){if(Ee(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Rt(e,new pe(t),n)})),Ot(e,t)}if(e.children.size>0){var r=me(t);if(t=ye(t),e.children.has(r))Ot(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Lt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Lt(r,new pe(t.toString()+"/"+e),n)}))}var Mt,jt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new jt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Mt||(Mt={}));var Vt,qt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Mt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Ee(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return(0,o.hu)(me(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)},e}(),Bt=function(){function e(e,t){this.source=e,this.path=t,this.type=Mt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve()):new e(this.source,ye(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Mt.OVERWRITE}return e.prototype.operationForChild=function(t){return Ee(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)},e}(),Gt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Mt.MERGE}return e.prototype.operationForChild=function(t){if(Ee(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,ve(),n.value):new e(this.source,ve(),n)}return(0,o.hu)(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Kt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Ee(e))return this.isFullyInitialized()&&!this.filtered_;var t=me(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Wt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Me(t.childName,t.snapshotNode),i=new Me(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Jt(e,t){return{eventCache:e,serverCache:t}}function Qt(e,t,n,r){return Jt(new Kt(t,n,r),e.serverCache)}function Xt(e,t,n,r){return Jt(e.eventCache,new Kt(t,n,r))}function Yt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var $t=function(){function e(e,t){void 0===t&&(Vt||(Vt=new ze(P)),t=Vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Ee(e))return null;var n=me(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ye(e),t);return null!=i?{path:ke(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Ee(t))return this;var n=me(t),r=this.children.get(n);return null!==r?r.subtree(ye(t)):new e(null)},e.prototype.set=function(t,n){if(Ee(t))return new e(n,this.children);var r=me(t),i=(this.children.get(r)||new e(null)).set(ye(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Ee(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(ye(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Ee(e))return this.value;var t=me(e),n=this.children.get(t);return n?n.get(ye(e)):null},e.prototype.setTree=function(t,n){if(Ee(t))return n;var r=me(t),i=(this.children.get(r)||new e(null)).setTree(ye(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(ke(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Ee(e))return null;var i=me(e),o=this.children.get(i);return o?o.findOnPath_(ye(e),ke(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Ee(t))return this;this.value&&r(n,this.value);var i=me(t),o=this.children.get(i);return o?o.foreachOnPath_(ye(t),ke(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(ke(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new $t(null))},e}();function tn(e,t,n){if(Ee(t))return new en(new $t(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Se(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new $t(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return L(n,(function(e,n){r=tn(r,ke(t,e),n)})),r}function rn(e,t){if(Ee(t))return en.empty();var n=e.writeTree_.setTree(t,new $t(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Se(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Me(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Me(e,n.value))})),t}function un(e,t){if(Ee(t))return e;var n=an(e,t);return new en(null!=n?new $t(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return hn(ve(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(ke(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ke(e,".priority"),r)),n}function fn(e,t){return Tn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:Ce(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=mn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):L(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,ke(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return Ce(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ce(ke(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function mn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Ce(n,s)?r=tn(r,u=Se(n,s),a.snap):Ce(s,n)&&(u=Se(s,n),r=tn(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Ce(n,s))r=nn(r,u=Se(n,s),a.children);else if(Ce(s,n))if(Ee(u=Se(s,n)))r=nn(r,ve(),a.children);else{var c=(0,o.DV)(a.children,me(u));if(c){var l=c.getChild(ye(u));r=tn(r,ve(),l)}}}}}return r}function gn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ve())){return ln(mn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ce(e.path,t)||Ce(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ve())?ln(s,n||st.EMPTY_NODE):null}function yn(e,t,n,r){return gn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=ke(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,ke(e.treePath,t))}function kn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function En(e,t,n){return function(e,t,n,r){var i=ke(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Sn(e,t){return Tn(ke(e.treePath,t),e.writeTree)}function Tn(e,t){return{treePath:e,writeTree:t}}var In=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,yt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Cn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),xn=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return En(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zt(this.viewCache_),i=kn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Nn(e,t,n,r,i){var a,s,u=new In;if(n.type===Mt.OVERWRITE){var c=n;c.source.fromUser?a=Dn(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Ee(c.path),a=Pn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Mt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=ke(n,r);Rn(t,me(c))&&(s=Dn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=ke(n,r);Rn(t,me(c))||(s=Dn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Ln(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Mt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new xn(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Ee(n)||".priority"===me(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=yn(r,Zt(t));else{var f=t.serverCache.getNode();(0,o.hu)(f instanceof st,"serverChildren would be complete if leaf node"),h=bn(r,f)}l=e.filter.updateFullNode(c,h,a)}else{var d=me(n),p=En(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,ye(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,ye(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=yn(r,Zt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,ve()),Qt(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Ee(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Ee(n)){var c=new $t(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),Ln(e,t,n,c,i,o,s,a)}return t}var l=new $t(null);return r.foreach((function(e,t){var r=ke(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ln(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Mt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Xt(t,o.getNode(),o.isFullyInitialized()||Ee(n),o.isFiltered());return An(e,a,n,r,Cn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Yt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(gt(Yt(t)))}}(t,a,f),{viewCache:a,changes:f}}function An(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Ee(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Zt(t),h=bn(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=yn(r,Zt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=me(n);if(".priority"===d){(0,o.hu)(1===ge(n),"Can't have a priority with additional path components");var p=s.getNode(),v=_n(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=ye(n),g=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=_n(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(d).updateChild(m,y):s.getNode().getImmediateChild(d)}else g=En(r,d,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),d,g,m,i,a):s.getNode()}}return Qt(t,u,s.isFullyInitialized()||Ee(n),e.filter.filtersNodes())}function Pn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Ee(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=me(n);if(!c.isCompleteForPath(n)&&ge(n)>1)return t;var d=ye(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Cn,null)}var v=Xt(t,u,c.isFullyInitialized()||Ee(n),l.filtersNodes());return An(e,v,n,i,new xn(i,v,o),s)}function Dn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new xn(i,t,o);if(Ee(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Qt(t,u,!0,e.filter.filtersNodes());else{var h=me(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Qt(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=ye(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Ee(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===be(f)&&v.getChild(we(f)).isEmpty()?v:v.updateChild(f,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=Qt(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Rn(e,t){return e.eventCache.isCompleteForChild(t)}function On(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ln(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Ee(n)?r:new $t(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=On(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new pe(n),h,i,o,a,s)}})),c}var Mn,jn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new Et(n):new kt(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Kt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Kt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jt(h,l),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Zt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Ee(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Vn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function qn(e,t,n,r){t.type===Mt.MERGE&&null!==t.source.queryId&&((0,o.hu)(Zt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Yt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Nn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Bn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Bn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Wt(e,i,"child_removed",t,r,n),Wt(e,i,"child_added",t,r,n),Wt(e,i,"child_moved",o,r,n),Wt(e,i,"child_changed",t,r,n),Wt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Gn=function(){this.views=new Map};function Kn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),qn(c,t,n,r)}var l=[];try{for(var h=(0,a.XA)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(qn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Hn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=yn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=bn(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Jt(new Kt(s,u,!1),new Kt(r,i,!1));return new jn(t,c)}return a}function Wn(e,t,n,r,i,o){var a=Hn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(yt(e,t))})),n.isFullyInitialized()&&r.push(gt(n.getNode())),Bn(e,r,n.getNode(),t)}(a,n)}function Jn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=$n(e);if("default"===u)try{for(var f=(0,a.XA)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=(0,a.CR)(d.value,2),v=p[0],m=p[1];l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(m=e.views.get(u))&&(l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return h&&!$n(e)&&c.push(new((0,o.hu)(Mn,"Reference.ts has not been loaded"),Mn)(t._repo,t._path)),{removed:c,events:l}}function Qn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Xn(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Yn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Zn(e,t){return null!=Yn(e,t)}function $n(e){return null!=er(e)}function er(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new $t(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=$t.fromObject(n);return hr(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new $t(null);return null!=r.snap?i=i.set(ve(),!0):L(r.children,(function(e){i=i.set(new pe(e),!0)})),hr(e,new qt(r.path,i,n))}return[]}function ar(e,t,n){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Zn(o,t))){var s=Jn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return $n(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&$n(t))return[er(t)];var r=[];return t&&(r=Qn(t)),L(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=pr(e,p);e.listenProvider_.startListening(_r(v),vr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_r(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(mr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=mr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Se(e,r);i=i||Xn(t,n),a=a||$n(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||$n(u),i=i||Xn(u,ve())):(u=new Gn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Xn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=Zn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=mr(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=tr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Wn(u,t,n,fn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Yn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!$n(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Ee(e)&&t&&$n(t))return[er(t).query];var r=[];return t&&(r=r.concat(Qn(t).map((function(e){return e.query})))),L(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(_r(h),vr(e,h))}return s}(e,t,d))}return f}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Xn(n,Se(e,t));if(r)return r}));return gn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Se(e,n);r=r||Xn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Xn(i,ve()):(i=new Gn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Kt(r,!0,!1):null;return function(e){return Yt(e.viewCache_)}(Hn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function hr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,ve()))}function fr(e,t,n,r){if(Ee(e.path))return dr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Xn(i,ve()));var o=[],a=me(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Sn(r,a);o=o.concat(fr(s,u,c,l))}return i&&(o=o.concat(Kn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Xn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Sn(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Kn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=gr(e,n);if(r){var i=yr(r),o=i.path,a=i.queryId,s=Se(o,t);return br(e,o,new Bt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=mr(t);return e.queryToTagMap.get(n)}function mr(e){return e._path.toString()+"$"+e._queryIdentifier}function gr(e,t){return e.tagToQueryMap.get(t)}function yr(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Kn(r,n,fn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),kr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=ke(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Er=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Sr(e[".sv"],t,n):"object"===typeof e[".sv"]?Tr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Sr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+e)},Tr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Ir=function(e,t,n,r){return xr(t,new kr(n,e),r)},Cr=function(e,t,n){return xr(e,new wr(t),n)};function xr(e,t,n){var r,i=e.getPriority().val(),o=Er(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Er(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ye(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ye(o))),u.forEachChild(tt,(function(e,i){var o=xr(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Nr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Ar(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=me(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Nr(i,r,a),i=me(n=ye(n))}return r}function Pr(e){return e.node.value}function Dr(e,t){e.node.value=t,jr(e)}function Rr(e){return e.node.childCount>0}function Or(e,t){L(e.node.children,(function(n,r){t(new Nr(n,e,r))}))}function Lr(e,t,n,r){n&&!r&&t(e),Or(e,(function(e){Lr(e,t,!0,r)})),n&&r&&t(e)}function Mr(e){return new pe(null===e.parent?e.name:Mr(e.parent)+"/"+e.name)}function jr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Pr(e)&&!Rr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,jr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,jr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Vr=10485760,qr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Br=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!C(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},Gr=function(e,t,n,r){r&&void 0===t||Kr((0,o.gK)(e,"value"),t,n)},Kr=function e(t,n,r){var i=r instanceof pe?new xe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ae(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ae(i)+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+Ae(i));if("string"===typeof n&&n.length>Vr/3&&(0,o.ug)(n)>Vr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ae(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(L(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!qr(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ae(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Ne(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+Ae(i)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,(function(e,t){var r=new pe(e);if(Kr(i,t,ke(n,r)),".priority"===be(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!qr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Te);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Ce(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Wr=function(e,t,n){if(!n||void 0!==t){if(C(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Xr=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Yr=function(e,t){if(".info"===me(t))throw new Error(e+" failed = Can't modify data under /.info/")},Zr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Br(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},$r=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ie(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Ie(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)||Ce(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&k("event: "+n.toString()),q(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dt(),this.transactionQueueTree_=new Nr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new At(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){L(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new Pt,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=gr(e,r);if(i){var o=yr(i),a=o.path,s=o.queryId,u=Se(a,t),c=$t.fromObject(n);return br(e,a,new Gt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=gr(e,r);if(null!=i){var o=yr(i),a=o.path,s=o.queryId,u=Se(a,t);return br(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=$t.fromObject(n);return hr(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ct(n);s=ar(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Si(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){di(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=li(e),n=Dt();Lt(e.onDisconnect_,ve(),(function(r,i){var o=Ir(r,i,e.serverSyncTree_,t);Rt(n,r,o)}));var r=[];Lt(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Ni(e,t);Si(e,i)})),e.onDisconnect_=Dt(),ri(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=Cr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||I("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var h=Ni(e,t);Si(e,h),ri(e.eventQueue_,h,[])}function mi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ot(e.onDisconnect_,t),wi(e,n,r,i)}))}function gi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rt(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function yi(e,t,n){var r;r=".info"===me(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),k.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function wi(e,t,n,r){t&&q((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function ki(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Ei(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||xi(e,t),Pr(t)){var n=Ii(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ki(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Se(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){_i(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);xi(e,Ar(e.transactionQueueTree_,t)),Ei(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)q(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{I("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Si(e,t)}}),s)}(e,Mr(t),n)}else Rr(t)&&Or(t,(function(t){Ei(e,t)}))}function Si(e,t){var n=Ti(e,t),r=Mr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Se(n,l.path),f=!1;if((0,o.hu)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=ki(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Kr("transaction failed: Data returned ",p,l.path);var v=ct(p);"object"===typeof p&&null!=p&&(0,o.r3)(p,".priority")||(v=v.updatePriority(d.getPriority()));var m=l.currentWriteId,g=li(e),y=Cr(v,d,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=pi(e),a.splice(a.indexOf(m),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,m,!0))}else f=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);xi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)q(r[u]);Ei(e,e.transactionQueueTree_)}(e,Ii(e,n),r),r}function Ti(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===Pr(r);)r=Ar(r,n),n=me(t=ye(t));return r}function Ii(e,t){var n=[];return Ci(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ci(e,t,n){var r=Pr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Or(t,(function(t){Ci(e,t,n)}))}function xi(e,t){var n=Pr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Dr(t,n.length>0?n:void 0)}Or(t,(function(t){xi(e,t)}))}function Ni(e,t){var n=Mr(Ti(e,t)),r=Ar(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ai(e,t)})),Ai(e,r),Lr(r,(function(t){Ai(e,t)})),n}function Ai(e,t){var n=Pr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Dr(t,void 0):n.length=a+1,ri(e.eventQueue_,Mr(t),i);for(s=0;s<r.length;s++)q(r[s])}}var Pi=function(e,t){var n=Di(e),r=n.namespace;"firebase.com"===n.domain&&T(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&I("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new X(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Di=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):I("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ri=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),Oi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Li=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Mi=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return mi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Yr("OnDisconnect.remove",this._path);var e=new o.BH;return gi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Yr("OnDisconnect.set",this._path),Gr("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return gi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Yr("OnDisconnect.setWithPriority",this._path),Gr("OnDisconnect.setWithPriority",e,this._path,!1),Wr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Yr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return k("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&L(n,(function(n,r){var i=ct(r);Rt(e.onDisconnect_,ke(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),ji=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Ee(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new qi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Nt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Nt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ie(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==x)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==N)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof lt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var qi=function(e){function t(t,n){return e.call(this,t,n,new St,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(ji),Bi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Ki(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ki(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Ki(e._root,t):e._root}function Gi(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=Pi(t,e._repo.repoInfo_.nodeAdmin);Zr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||T("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Ki(e,t){var n,r,i,a;return null===me((e=(0,o.m9)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Xr(n,r,i,a)):Xr("child","path",t,!1),new qi(e._repo,ke(e._path,t))}function Hi(e,t){e=(0,o.m9)(e),Yr("push",e._path),Gr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Ki(e,i),s=Ki(e,i);return n=null!=t?Ji(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Wi(e){return Yr("remove",e._path),Ji(e,null)}function Ji(e,t){e=(0,o.m9)(e),Yr("set",e._path),Gr("set",t,e._path,!1);var n=new o.BH;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Qi(e,t){e=(0,o.m9)(e),Yr("setPriority",e._path),Wr("setPriority",t,!1);var n=new o.BH;return vi(e._repo,ke(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t,n){if(Yr("setWithPriority",e._path),Gr("setWithPriority",t,e._path,!1),Wr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Yi(e,t){Hr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(L(n,(function(n,r){i=!1,a[n]=Ir(ke(t,n),ct(r),e.serverSyncTree_,o)})),i)k("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||I("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Si(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),L(n,(function(n){var r=Ni(e,ke(t,n));Si(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Zi(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new Bi(t,new qi(e._repo,e._path),e._queryParams.getIndex())}))}var $i=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ri("value",this,new Bi(e.snapshotNode,new qi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Oi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Oi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Ki(new qi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ri(e.type,this,new Bi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){a(t,n),yi(e._repo,e,c)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Li(n,o||void 0),c="value"===t?new $i(u):new eo(t,u);return function(e,t,n){var r;r=".info"===me(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return yi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new Li(n):null;"value"===t?r=new $i(i):t&&(r=new eo(t,i)),yi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Gr("endAt",this._value,e._path,!0);var t=It(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return Qr("endAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Gr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=mt(t)),r=It(e,t,n)):r=It(e,t,null==n?x:mt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function fo(e,t){return Qr("endBefore","key",t,!0),new ho(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Gr("startAt",this._value,e._path,!0);var t=Tt(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return void 0===e&&(e=null),Qr("startAt","key",t,!0),new po(e,t)}var mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Gr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=Tt(e,t,n)):r=Tt(e,t,null==n?N:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ji(e._repo,e._path,t,e._orderByCalled)},t}(uo);function go(e,t){return Qr("startAfter","key",t,!0),new mo(e,t)}var yo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new yo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ji(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var ko=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Ee(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=Ct(e._queryParams,n);return Ui(r),new ji(e._repo,e._path,r,!0)},t}(uo);function Eo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Xr("orderByChild","path",e,!1),new ko(e)}var So=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=Ct(e._queryParams,Ue);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function To(){return new So}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=Ct(e._queryParams,tt);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function Co(){return new Io}var xo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=Ct(e._queryParams,ft);return Ui(t),new ji(e._repo,e._path,t,!0)},t}(uo);function No(){return new xo}var Ao=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Gr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function Po(e,t){return Qr("equalTo","key",t,!0),new Ao(e,t)}function Do(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!Mn,"__referenceConstructor has already been defined"),Mn=e}(qi),function(e){(0,o.hu)(!zn,"__referenceConstructor has already been defined"),zn=e}(qi);var Ro={},Oo=!1;function Lo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||T("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),k("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Pi(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/task-managemenet-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=Pi(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new K(K.OWNER):new G(e.name,e.options,t);Zr("Invalid Firebase Database URL",s),Ee(s.path)||T("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ro[t.name];i||(i={},Ro[t.name]=i);var o=i[e.toURLString()];o&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Oo,n,r),i[e.toURLString()]=o,o}(u,e,l,new z(e.name,n));return new Mo(h,e)}var Mo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new qi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Ro[t];n&&n[e.key]===e||T("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&T("Cannot call "+e+" on a deleted database.")},e}();function jo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&T("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&T('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new K(K.OWNER);else if(r.mockUserToken){var s=(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new K(s)}!function(e,t,n,r){e.repoInfo_=new X(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Uo(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var Vo={".sv":"timestamp"};var qo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Bo(e,t,n){var r;if(e=(0,o.m9)(e),Yr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=no(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ki(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Kr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Ar(e.transactionQueueTree_,t),h=Pr(l)||[];h.push(s),Dr(l,h);var f=void 0;"object"===typeof c&&null!==c&&(0,o.r3)(c,".priority")?(f=(0,o.DV)(c,".priority"),(0,o.hu)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,f),v=Cr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var g=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,g),Ei(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Bi(r,new qi(e._repo,e._path),tt),a.resolve(new qo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Go=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Ko=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Xr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Xr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Wo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Ko(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Jr("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Zi(this._delegate).then((function(t){return new Ko(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=new o.BH,c=function(e,t){var r=new Ko(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Do(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,Do(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,Do(this._delegate,Eo(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,Do(this._delegate,To()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Do(this._delegate,Co()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,Do(this._delegate,No()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,Do(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,Do(this._delegate,go(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,Do(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,Do(this._delegate,fo(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,Do(this._delegate,Po(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Wo(this.database,new qi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Wo=function(e){function t(t,n){var r=e.call(this,t,new ji(n._repo,n._path,new St,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Ki(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Ji(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,I("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Yi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Xi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Wi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),$r("Reference.transaction","applyLocally",n,!0);var i=Bo(this._delegate,e,{applyLocally:n}).then((function(e){return new Go(e.committed,new Ko(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Yr("Reference.onDisconnect",this._delegate._path),new zo(new Mi(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),Jo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),jo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Wo){var t=Gi(this._delegate,e.toString());return new Wo(this,t)}t=zi(this._delegate,e);return new Wo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Gi(this._delegate,e);return new Wo(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Vo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Qo=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new jt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);L(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.zt("auth-internal",new i.H0("database-standalone"));return l.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Jo(Lo(t,l,void 0,n,u),t),namespace:a}}}),Xo=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Yo=le,Zo=X,$o=Object.freeze({__proto__:null,DataConnection:Xo,RealTimeConnection:Yo,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Le.prototype.put=t}},ConnectionTarget:Zo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Oo=e}(e)}}),ea=Jo.ServerValue;!function(t){c(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Jo(Lo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Wo,Query:Ho,Database:Jo,DataSnapshot:Ko,enableLogging:w,INTERNAL:Qo,ServerValue:ea,TEST_ACCESS:$o}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.10.0"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},386:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{Am:function(){return d},Ub:function(){return f},Yd:function(){return h},in:function(){return o}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},365:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},971:function(e,t,n){"use strict";n.d(t,{$s:function(){return ee},BH:function(){return v},DV:function(){return V},Dv:function(){return J},GJ:function(){return F},LL:function(){return P},Mn:function(){return T},Pz:function(){return L},Sg:function(){return m},UG:function(){return b},UI:function(){return B},US:function(){return l},Wj:function(){return X},Yr:function(){return I},ZB:function(){return p},ZR:function(){return A},b$:function(){return k},cI:function(){return O},d:function(){return E},dS:function(){return Z},eu:function(){return x},g5:function(){return u},gK:function(){return Q},gQ:function(){return G},h$:function(){return h},hl:function(){return C},hu:function(){return s},jU:function(){return _},lb:function(){return Y},m9:function(){return te},ne:function(){return K},p$:function(){return d},r3:function(){return U},ru:function(){return w},uI:function(){return y},ug:function(){return $},w1:function(){return S},w9:function(){return j},xO:function(){return z},xb:function(){return q},z$:function(){return g},zI:function(){return N}});var r=n(388),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},h=function(e){var t=c(e);return l.encodeByteArray(t,!0)},f=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function m(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),l.encodeString(JSON.stringify(a),!1),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function w(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function k(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){return g().indexOf("Electron/")>=0}function S(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return g().indexOf("MSAppHost/")>=0}function I(){return!0===i||!0===o}function C(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function N(){return!(!navigator||!navigator.cookieEnabled)}var A=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),P=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?D(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new A(i,s,r);return u},e}();function D(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function O(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}var M=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=O(f(o[0])||""),n=O(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},j=function(e){var t=M(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},F=function(e){var t=M(e).claims;return"object"===typeof t&&!0===t.admin};function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function B(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var G=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function K(e,t){var n=new H(e,t);return n.subscribe.bind(n)}var H=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function W(){}var J=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Q(e,t){return e+" failed: "+t+" argument "}function X(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Q(e,t)+"must be a valid function.")}function Y(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Q(e,t)+"must be a valid context object.")}var Z=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ee(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function te(e){return e&&e._delegate?e._delegate:e}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Se=null;function Te(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Ie(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,Ve={onError:function(e){Me=!0,je=e}};function qe(e,t,n,r,i,o,a,s,u){Me=!1,je=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Je=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,St,Tt,It=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){It=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Dt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&qt(xt,e),null!==Nt&&qt(Nt,e),null!==At&&qt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var zt=_.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Ht(e,t,n,r){var i=bt,o=zt.transition;zt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,zt.transition=o}}function Wt(e,t,n,r){if(Gt){var i=Qt(e,t,n,r);if(null===i)Gr(e,t,r,Jt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Qt(e,t,n,r))&&Gr(e,t,r,Jt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Jt=null;function Qt(e,t,n,r){if(Jt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),hn=j({},cn,{view:0,detail:0}),fn=on(hn),dn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),vn=on(j({},dn,{dataTransfer:0})),mn=on(j({},hn,{relatedTarget:0})),gn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),_n=on(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return Sn}var In=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(In),xn=on(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Pn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Jn(e){Fr(e,0)}function Qn(e){if(W(_i(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Zn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Kn(t,Wn,e,we(e)),Pe(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Tr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Ir=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Or=Pr[Rr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(xr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(o(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=o,i=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ir:case Cr:case xr:u=gn;break;case Nr:u=An;break;case"scroll":u=fn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=De(p,f))&&l.push(Kr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:_i(u),d=null==c?s:_i(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=f;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)f=Wr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Wr(l),f=Wr(f)}l=null}else l=null;null!==u&&Jr(a,s,u,l,!1),null!==c&&null!==h&&Jr(a,h,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Gn(s))if(Yn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?_i(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(g=Hr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),$t=Zt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=De(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=De(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=De(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,mi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var ki=[],Ei=-1;function Si(e){return{current:e}}function Ti(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ii(e,t){Ei++,ki[Ei]=e.current,e.current=t}var Ci={},xi=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(o(168));Ii(xi,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,Ii(xi,e),Ii(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),Ii(xi,e)):Ti(Ni),Ii(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function qi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),We($e,Bi),i}finally{bt=t,Vi=!1}}return null}var zi=[],Gi=0,Ki=null,Hi=0,Wi=[],Ji=0,Qi=null,Xi=1,Yi="";function Zi(e,t){zi[Gi++]=Hi,zi[Gi++]=Ki,Ki=e,Hi=t}function $i(e,t,n){Wi[Ji++]=Xi,Wi[Ji++]=Yi,Wi[Ji++]=Qi,Qi=e;var r=Xi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Xi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function to(e){for(;e===Ki;)Ki=zi[--Gi],zi[Gi]=null,Hi=zi[--Gi],zi[Gi]=null;for(;e===Qi;)Qi=Wi[--Ji],Wi[Ji]=null,Yi=Wi[--Ji],Wi[Ji]=null,Xi=Wi[--Ji],Wi[Ji]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=_.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Si(null),bo=null,_o=null,wo=null;function ko(){wo=_o=bo=null}function Eo(e){var t=yo.current;Ti(yo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Co=null;function xo(e){null===Co?Co=[e]:Co.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=h}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo=(new r.Component).refs;function qo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Mo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Go(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Di(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Di(t)?Ai:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(qo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case D:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Jo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Jo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Jo(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),io&&Zi(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return io&&Zi(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),io&&Zi(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(i,v),io&&Zi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return io&&Zi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Zi(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=Wo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===E?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Oc(a.type,a.key,a.props,null,r.mode,u)).ref=Wo(r,o,a),u.return=r,r=u)}return s(r);case k:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case D:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(L(a))return m(r,o,a,u);Jo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=Xo(!0),Zo=Xo(!1),$o={},ea=Si($o),ta=Si($o),na=Si($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(Ii(na,t),Ii(ta,e),Ii(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(ea),Ii(ea,t)}function oa(){Ti(ea),Ti(ta),Ti(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ii(ta,e),Ii(ea,n))}function sa(e){ta.current===e&&(Ti(ea),Ti(ta))}var ua=Si(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ha(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var fa=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,_a=0,wa=0;function ka(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Ta(){var e=0!==_a;return _a=0,e}function Ia(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function xa(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var h=l.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,va.lanes|=h,Mu|=h}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Pa(){}function Da(e,t){var n=va,r=Ca(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ga(La.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Oa.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function La(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Ao(e,1);null!==t&&nc(t,e,1,-1)}function Fa(e){var t=Ia();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Ca().memoizedState}function qa(e,t,n,r){var i=Ia();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ca();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return qa(8390656,8,e,t)}function Ga(e,t){return Ba(2048,8,e,t)}function Ka(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Wa.bind(null,t,e),n)}function Qa(){}function Xa(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Mu|=n,e.baseState=!0),t)}function $a(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=No(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,xo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=No(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Io,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Io,useCallback:function(e,t){return Ia().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qa(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var n=Ia();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ia();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ia().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Ia().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=$a.bind(null,e[1]),Ia().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ia();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(La.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ia(),t=Nu.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Ga,useImperativeHandle:Ja,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Ya,useReducer:Na,useRef:Va,useState:function(){return Na(xa)},useDebugValue:Qa,useDeferredValue:function(e){return Za(Ca(),ma.memoizedState,e)},useTransition:function(){return[Na(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1},cs={readContext:Io,useCallback:Xa,useContext:Io,useEffect:Ga,useImperativeHandle:Ja,useInsertionEffect:Ka,useLayoutEffect:Ha,useMemo:Ya,useReducer:Aa,useRef:Va,useState:function(){return Aa(xa)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===ma?t.memoizedState=e:Za(t,ma.memoizedState,e)},useTransition:function(){return[Aa(xa)[0],Ca().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Ku=r),fs(0,t)},n}function vs(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Yo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return To(t,i),r=Sa(e,t,n,r,o,i),n=Ta(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Cs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ru,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ru,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Ru,Du),Du|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Ru,Du),Du|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Di(n)?Ai:xi.current;return o=Pi(t,o),To(t,i),n=Sa(e,t,n,r,o,i),r=Ta(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function xs(e,t,n,r,i){if(Di(n)){var o=!0;Mi(t)}else o=!1;if(To(t,i),null===t.stateNode)zs(e,t),Go(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Io(c):c=Pi(t,c=Di(n)?Ai:xi.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Ko(t,a,r,c),Po=!1;var f=t.memoizedState;a.state=f,Fo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ni.current||Po?("function"===typeof l&&(qo(t,n,l,r),u=t.memoizedState),(s=Po||zo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Io(u):u=Pi(t,u=Di(n)?Ai:xi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&Ko(t,a,r,u),Po=!1,f=t.memoizedState,a.state=f,Fo(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ni.current||Po?("function"===typeof d&&(qo(t,n,d,r),p=t.memoizedState),(c=Po||zo(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,o,i)}function Ns(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function Ps(e,t,n,r,i){return po(),vo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ds,Rs,Os,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ii(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Ji++]=Xi,Wi[Ji++]=Yi,Wi[Ji++]=Qi,Xi=e.id,Yi=e.overflow,Qi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Di(t.type)&&Ri(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ti(Ni),Ti(xi),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),$(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ds(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":H(e),$(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ti(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Ou&&(Ou=3):vc())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Br(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(Ti(ua),null===(a=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ks(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Ks(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Bu&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Hs(t),null}else 2*Ye()-a.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ua.current,Ii(ua,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Js(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ti(Ni),Ti(xi),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ti(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Zs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||$s(n,t);case 6:var r=lu,i=hu;lu=null,fu(e,t,n),hu=i,null!==(lu=r)&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(hu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=hu,lu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),lu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Xs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,fu(e,t,n),Xs=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,hu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));du(a,s,i),lu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),gu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),gu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),gu(e);break;case 13:vu(t,e),gu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Ye())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||h,vu(t,e),Xs=l):vu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:$s(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:$s(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,Zs=p):wu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),gu(e),4&r&&pu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=a,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?ku(i):null!==u?(u.return=a,Zs=u):ku(i);for(;null!==o;)Zs=o,bu(o,t,n),o=o.sibling;Zs=i,Qs=s,Xs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_u(e)}}function _u(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function ku(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,Su=Math.ceil,Tu=_.ReactCurrentDispatcher,Iu=_.ReactCurrentOwner,Cu=_.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Pu=0,Du=0,Ru=Si(0),Ou=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,Vu=null,qu=0,Bu=1/0,zu=null,Gu=!1,Ku=null,Hu=null,Wu=!1,Ju=null,Qu=0,Xu=0,Yu=null,Zu=-1,$u=0;function ec(){return 0!==(6&xu)?Ye():-1!==Zu?Zu:Zu=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Pu?Pu&-Pu:null!==mo.transition?(0===$u&&($u=vt()),$u):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(o(185));gt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(ju|=n),4===Ou&&sc(e,Pu)),rc(e,r),1===n&&0===xu&&0===(1&t.mode)&&(Bu=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Nu?Pu:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(uc.bind(null,e)):qi(uc.bind(null,e)),ai((function(){0===(6&xu)&&Bi()})),n=null;else{switch(_t(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zu=-1,$u=0,0!==(6&xu))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=xu;xu|=2;var a=pc();for(Nu===e&&Pu===t||(zu=null,Bu=Ye()+500,fc(e,t));;)try{yc();break}catch(u){dc(e,u)}ko(),Tu.current=a,xu=i,null!==Au?t=0:(Nu=null,Pu=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,fc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Lu,fc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Vu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=qu+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),t);break}wc(e,Vu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,zu),r);break}wc(e,Vu,zu);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vu,Vu=n,null!==t&&ac(t)),e}function ac(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&xu))throw Error(o(327));kc();var t=ft(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,fc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,zu),rc(e,Ye()),null}function cc(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(Bu=Ye()+500,Ui&&Bi())}}function lc(e){null!==Ju&&0===Ju.tag&&0===(6&xu)&&kc();var t=xu;xu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(xu=t))&&Bi()}}function hc(){Du=Ru.current,Ti(Ru)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ti(Ni),Ti(xi),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ti(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Au=e=Rc(e.current,null),Pu=Du=t,Ou=0,Lu=null,Fu=ju=Mu=0,Vu=Uu=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(r=(n=Co[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Co=null}return e}function dc(e,t){for(;;){var n=Au;try{if(ko(),fa.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,_a=0,Iu.current=null,null===n||null===n.return){Ou=1,Lu=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Ou&&(Ou=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(_){t=_,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Tu.current;return Tu.current=as,null===e?as:e}function vc(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||sc(Nu,Pu)}function mc(e,t){var n=xu;xu|=2;var r=pc();for(Nu===e&&Pu===t||(zu=null,fc(e,t));;)try{gc();break}catch(i){dc(e,i)}if(ko(),xu=n,Tu.current=r,null!==Au)throw Error(o(261));return Nu=null,Pu=0,Ou}function gc(){for(;null!==Au;)bc(Au)}function yc(){for(;null!==Au&&!Qe();)bc(Au)}function bc(e){var t=Eu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?_c(e):Au=t,Iu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Du)))return void(Au=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function wc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Ju);if(0!==(6&xu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nu&&(Au=Nu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Nc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=xu;xu|=4,Iu.current=null,function(e,t){if(ei=Gt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===a&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Xe(),xu=u,bt=s,Cu.transition=a}else e.current=n;if(Wu&&(Wu=!1,Ju=e,Qu=i),0===(a=e.pendingLanes)&&(Hu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Ku,Ku=null,e;0!==(1&Qu)&&0!==e.tag&&kc(),0!==(1&(a=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function kc(){if(null!==Ju){var e=_t(Qu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Ju)var r=!1;else{if(e=Ju,Ju=null,Qu=0,0!==(6&xu))throw Error(o(331));var i=xu;for(xu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(ou(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zs=y;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var _=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Zs=_;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(k){Sc(u,u.return,k)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(xu=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Ec(e,t,n){e=Lo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Lo(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Pu&n)===n&&(4===Ou||3===Ou&&(130023424&Pu)===Pu&&500>Ye()-qu?fc(e,0):Fu|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ao(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Nc(e,t){return We(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Lc(n.children,i,a,t);case S:s=8,i|=8;break;case T:return(e=Pc(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Pc(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case x:s=11;break e;case P:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function qc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Vc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=Oo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,gt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,a))&&(nc(e,i,a,o),Mo(e,i,a)),a}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:As(t),po();break;case 5:aa(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ii(ua,1&ua.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ii(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Gs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Pi(t,xi.current);To(t,n),i=Sa(null,t,r,e,i,n);var a=Ta();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=Bo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ns(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=go(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=xs(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Es(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(As(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ii(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),r=r(i=Io(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Es(e,t,r,i=go(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),zs(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,To(t,n),Go(t,r,i),Ho(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var Jc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Kc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Gc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(a)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Gc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&xu)&&(Bu=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Ao(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},kt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ao(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},St=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));W(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[bi,_i,wi,Ie,Ce,cc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return qc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Jc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Jc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+x(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+x(s=e[c],c);u+=N(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=o+x(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,_(e),!v)if(null!==r(c))v=!0,R(k);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var o=d;try{for(_(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),_(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&O(w,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,T=null,I=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?E():(S=!1,T=null)}}else S=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,E=function(){D.postMessage(null)}}else E=function(){g(A,0)};function R(e){T=e,S||(S=!0,E())}function O(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,O(w,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},388:function(e,t,n){"use strict";n.d(t,{CR:function(){return c},Jh:function(){return s},XA:function(){return u},ZT:function(){return i},ev:function(){return l},mG:function(){return a},pi:function(){return o}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".48843309.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="task-management-web-app:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/task-managemenet-web-app/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktask_management_web_app=self.webpackChunktask_management_web_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e,t=n(791),r=n(250);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var u=function(e){return e};var c="beforeunload",l="popstate";function h(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function d(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,t.createContext)(null);var g=(0,t.createContext)(null);var y=(0,t.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=x(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=w(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=T(i[a],r);return o}function w(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||b(!1),o.relativePath=o.relativePath.slice(r.length));var a=N([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&b(!1),w(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:S(a,e.index),routesMeta:s})})),t}var k=/^:\w+$/,E=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(k.test(t)?3:""===t?1:10)}),r)}function T(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;o.push({params:r,pathname:N([i,l.pathname]),pathnameBase:A(N([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function C(e,t,n){var r,i="string"===typeof e?v(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(o),hash:D(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var N=function(e){return e.join("/").replace(/\/\/+/g,"/")},A=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function R(e){O()||b(!1);var n=(0,t.useContext)(m),r=n.basename,i=n.navigator,o=F(e),a=o.hash,s=o.pathname,u=o.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),h=null!=l&&l.endsWith("/");c="/"===s?r+(h?"/":""):N([r,s])}return i.createHref({pathname:c,search:u,hash:a})}function O(){return null!=(0,t.useContext)(g)}function L(){return O()||b(!1),(0,t.useContext)(g).location}function M(){O()||b(!1);var e=(0,t.useContext)(m),n=e.basename,r=e.navigator,i=(0,t.useContext)(y).matches,o=L().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=C(e,JSON.parse(a),o);"/"!==n&&(i.pathname=N([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return u}function j(){var e=(0,t.useContext)(y).matches,n=e[e.length-1];return n?n.params:{}}function F(e){var n=(0,t.useContext)(y).matches,r=L().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return C(e,JSON.parse(i),r)}),[e,i,r])}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,o){return(0,t.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})}),null)}function V(e){var n=e.to,r=e.replace,i=e.state;O()||b(!1);var o=M();return(0,t.useEffect)((function(){o(n,{replace:r,state:i})})),null}function q(e){b(!1)}function B(n){var r=n.basename,i=void 0===r?"/":r,o=n.children,a=void 0===o?null:o,s=n.location,u=n.navigationType,c=void 0===u?e.Pop:u,l=n.navigator,h=n.static,f=void 0!==h&&h;O()&&b(!1);var d=A(i),p=(0,t.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=v(s));var y=s,_=y.pathname,w=void 0===_?"/":_,k=y.search,E=void 0===k?"":k,S=y.hash,T=void 0===S?"":S,I=y.state,C=void 0===I?null:I,N=y.key,P=void 0===N?"default":N,D=(0,t.useMemo)((function(){var e=x(w,d);return null==e?null:{pathname:e,search:E,hash:T,state:C,key:P}}),[d,w,E,T,C,P]);return null==D?null:(0,t.createElement)(m.Provider,{value:p},(0,t.createElement)(g.Provider,{children:a,value:{location:D,navigationType:c}}))}function z(e){var n=e.children,r=e.location;return function(e,n){O()||b(!1);var r,i=(0,t.useContext)(y).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,L());if(n){var c,l="string"===typeof n?v(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||b(!1),r=l}else r=u;var h=r.pathname||"/",f=_(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return U(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:N([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:N([s,e.pathnameBase])})})),i)}(G(n),r)}function G(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==q&&b(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=G(e.props.children)),n.push(r)}else n.push.apply(n,G(e.props.children))})),n}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var W=["onClick","reloadDocument","replace","state","target","to"],J=["aria-current","caseSensitive","className","end","style","to","children"];function Q(n){var r=n.basename,i=n.children,o=n.window,m=(0,t.useRef)();null==m.current&&(m.current=function(t){void 0===t&&(t={});var n=t.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,u({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(l,(function(){if(a)w.call(a),a=null;else{var t=e.Pop,n=o(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=y-r;s&&(a={action:t,location:i,retry:function(){C(-1*s)}},C(s))}}else I(t)}}));var m=e.Pop,g=o(),y=g[0],b=g[1],_=f(),w=f();function k(e){return"string"===typeof e?e:p(e)}function E(e,t){return void 0===t&&(t=null),u(s({pathname:b.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:d()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},k(e)]}function T(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){m=e;var t=o();y=t[0],b=t[1],_.call({action:m,location:b})}function C(e){i.go(e)}null==y&&(y=0,i.replaceState(s({},i.state,{idx:y}),""));var x={get action(){return m},get location(){return b},createHref:k,push:function t(n,o){var a=e.Push,s=E(n,o);if(T(a,s,(function(){t(n,o)}))){var u=S(s,y+1),c=u[0],l=u[1];try{i.pushState(c,"",l)}catch(h){r.location.assign(l)}I(a)}},replace:function t(n,r){var o=e.Replace,a=E(n,r);if(T(o,a,(function(){t(n,r)}))){var s=S(a,y),u=s[0],c=s[1];i.replaceState(u,"",c),I(o)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return _.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(c,h),function(){t(),w.length||r.removeEventListener(c,h)}}};return x}({window:o}));var g=m.current,y=a((0,t.useState)({action:g.action,location:g.location}),2),b=y[0],_=y[1];return(0,t.useLayoutEffect)((function(){return g.listen(_)}),[g]),(0,t.createElement)(B,{basename:r,children:i,location:b.location,navigationType:b.action,navigator:g})}var X=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,u=e.target,c=e.to,l=H(e,W),h=R(c),f=function(e,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=M(),u=L(),c=F(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||p(u)===p(c);s(e,{replace:n,state:a})}}),[u,s,c,o,a,i,e])}(c,{replace:a,state:s,target:u});return(0,t.createElement)("a",K({},l,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));var Y=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,o=e.caseSensitive,a=void 0!==o&&o,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,h=e.style,f=e.to,d=e.children,p=H(e,J),v=L(),m=F(f),g=v.pathname,y=m.pathname;a||(g=g.toLowerCase(),y=y.toLowerCase());var b,_=g===y||!l&&g.startsWith(y)&&"/"===g.charAt(y.length),w=_?i:void 0;b="function"===typeof u?u({isActive:_}):[u,_?"active":null].filter(Boolean).join(" ");var k="function"===typeof h?h({isActive:_}):h;return(0,t.createElement)(X,K({},p,{"aria-current":w,className:b,ref:n,style:k,to:f}),"function"===typeof d?d({isActive:_}):d)}));function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=n(637);te.Z.registerVersion("firebase","8.5.0","app");var ne=n(971),re=n(386),ie=function(e,t){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ie(e,t)};function oe(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ae,se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ue=ue||{},ce=se||self;function le(){}function he(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fe(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var de="closure_uid_"+(1e9*Math.random()>>>0),pe=0;function ve(e,t,n){return e.call.apply(e.bind,arguments)}function me(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ge(e,t,n){return(ge=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:me).apply(null,arguments)}function ye(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function be(){return Date.now()}function _e(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function we(){this.j=this.j,this.i=this.i}we.prototype.j=!1,we.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,de)&&e[de]||(e[de]=++pe)})(this)},we.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ke=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ee=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Se(e){return Array.prototype.concat.apply([],arguments)}function Te(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ie(e){return/^[\s\xa0]*$/.test(e)}var Ce,xe=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ne(e,t){return-1!=e.indexOf(t)}function Ae(e,t){return e<t?-1:e>t?1:0}e:{var Pe=ce.navigator;if(Pe){var De=Pe.userAgent;if(De){Ce=De;break e}}Ce=""}function Re(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Oe(e){var t={};for(var n in e)t[n]=e[n];return t}var Le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Le.length;o++)n=Le[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function je(e){return je[" "](e),e}je[" "]=le;var Fe,Ue=Ne(Ce,"Opera"),Ve=Ne(Ce,"Trident")||Ne(Ce,"MSIE"),qe=Ne(Ce,"Edge"),Be=qe||Ve,ze=Ne(Ce,"Gecko")&&!(Ne(Ce.toLowerCase(),"webkit")&&!Ne(Ce,"Edge"))&&!(Ne(Ce,"Trident")||Ne(Ce,"MSIE"))&&!Ne(Ce,"Edge"),Ge=Ne(Ce.toLowerCase(),"webkit")&&!Ne(Ce,"Edge");function Ke(){var e=ce.document;return e?e.documentMode:void 0}e:{var He="",We=function(){var e=Ce;return ze?/rv:([^\);]+)(\)|;)/.exec(e):qe?/Edge\/([\d\.]+)/.exec(e):Ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ge?/WebKit\/(\S+)/.exec(e):Ue?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(We&&(He=We?We[1]:""),Ve){var Je=Ke();if(null!=Je&&Je>parseFloat(He)){Fe=String(Je);break e}}Fe=He}var Qe,Xe={};function Ye(e){return function(e,t){var n=Xe;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=xe(String(Fe)).split("."),r=xe(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Ae(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Ae(0==a[2].length,0==s[2].length)||Ae(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(ce.document&&Ve){var Ze=Ke();Qe=Ze||(parseInt(Fe,10)||void 0)}else Qe=void 0;var $e=Qe,et=!Ve||9<=Number($e),tt=Ve&&!Ye("9"),nt=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",le,t),ce.removeEventListener("test",le,t)}catch($p){}return e}();function rt(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function it(e,t){if(rt.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(ze){e:{try{je(t.nodeName);var i=!0;break e}catch(Zp){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ot[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},_e(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,tt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(sv){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}function ct(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function lt(e){this.src=e,this.a={},this.b=0}function ht(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=ke(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ct(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function ft(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}lt.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ft(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new ut(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var dt="closure_lm_"+(1e6*Math.random()|0),pt={};function vt(e,t,n,r,i){if(r&&r.once)return gt(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)vt(e,t[o],n,r,i);return null}return n=Tt(n),e&&e[at]?e.va(t,n,fe(r)?!!r.capture:!!r,i):mt(e,t,n,!1,r,i)}function mt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=fe(i)?!!i.capture:!!i;if(a&&!et)return null;var s=Et(e);if(s||(e[dt]=s=new lt(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=kt,t=et?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_t(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gt(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)gt(e,t[o],n,r,i);return null}return n=Tt(n),e&&e[at]?e.wa(t,n,fe(r)?!!r.capture:!!r,i):mt(e,t,n,!0,r,i)}function yt(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)yt(e,t[o],n,r,i);else r=fe(r)?!!r.capture:!!r,n=Tt(n),e&&e[at]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=ft(o=e.a[t],n,r,i))&&(ct(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Et(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ft(t,n,r,i)),(n=-1<e?t[e]:null)&&bt(n))}function bt(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[at])ht(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_t(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Et(t))?(ht(n,e),0==n.b&&(n.src=null,t[dt]=null)):ct(e)}}}function _t(e){return e in pt?pt[e]:pt[e]="on"+e}function wt(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&bt(e),n.call(r,t)}function kt(e,t){if(e.Y)return!0;if(!et){if(!t)e:{t=["window","event"];for(var n=ce,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return wt(e,t=new it(t,this))}return wt(e,new it(t,this))}function Et(e){return(e=e[dt])instanceof lt?e:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(e){return"function"===typeof e?e:(e[St]||(e[St]=function(t){return e.handleEvent(t)}),e[St])}function It(){we.call(this),this.c=new lt(this),this.J=this,this.C=null}function Ct(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new rt(t,e);else if(t instanceof rt)t.target=t.target||e;else{var i=t;Me(t=new rt(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=xt(a,r,!0,t)&&i}if(i=xt(a=t.a=e,r,!0,t)&&i,i=xt(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=xt(a=t.a=n[o],r,!1,t)&&i}function xt(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ht(e.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}_e(It,we),It.prototype[at]=!0,(ae=It.prototype).addEventListener=function(e,t,n,r){vt(this,e,t,n,r)},ae.removeEventListener=function(e,t,n,r){yt(this,e,t,n,r)},ae.G=function(){if(It.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ct(n[r]);delete t.a[e],t.b--}}this.C=null},ae.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ae.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Nt=ce.JSON.stringify;function At(){this.b=this.a=null}var Pt,Dt=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Ot}),(function(e){e.reset()}));function Rt(){var e=Ft,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ot(){this.next=this.b=this.a=null}function Lt(e){ce.setTimeout((function(){throw e}),0)}function Mt(e,t){Pt||function(){var e=ce.Promise.resolve(void 0);Pt=function(){e.then(Ut)}}(),jt||(Pt(),jt=!0),Ft.add(e,t)}At.prototype.add=function(e,t){var n=Dt.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ot.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ot.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Ft=new At;function Ut(){for(var e;e=Rt();){try{e.a.call(e.b)}catch($p){Lt($p)}var t=Dt;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}jt=!1}function Vt(e,t){It.call(this),this.b=e||1,this.a=t||ce,this.f=ge(this.Za,this),this.g=be()}function qt(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Bt(e,t,n){if("function"===typeof e)n&&(e=ge(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ge(e.handleEvent,e)}return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function zt(e){e.a=Bt((function(){e.a=null,e.c&&(e.c=!1,zt(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}_e(Vt,It),(ae=Vt.prototype).aa=!1,ae.M=null,ae.Za=function(){if(this.aa){var e=be()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ct(this,"tick"),this.aa&&(qt(this),this.start()))}},ae.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=be())},ae.G=function(){Vt.X.G.call(this),qt(this),delete this.a};var Gt=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:zt(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(ce.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(we);function Kt(e){we.call(this),this.b=e,this.a={}}_e(Kt,we);var Ht=[];function Wt(e,t,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=vt(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Jt(e){Re(e.a,(function(e,t){this.a.hasOwnProperty(t)&&bt(e)}),e),e.a={}}function Qt(){this.a=!0}function Xt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Nt(n)}catch(uv){return t}}(e,n)+(r?" "+r:"")}))}Kt.prototype.G=function(){Kt.X.G.call(this),Jt(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt={},Zt=null;function $t(){return Zt=Zt||new It}function en(e){rt.call(this,Yt.Fa,e)}function tn(e){var t=$t();Ct(t,new en(t,e))}function nn(e,t){rt.call(this,Yt.STAT_EVENT,e),this.stat=t}function rn(e){var t=$t();Ct(t,new nn(t,e))}function on(e){rt.call(this,Yt.Ga,e)}function an(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ce.setTimeout((function(){e()}),t)}Yt.Fa="serverreachability",_e(en,rt),Yt.STAT_EVENT="statevent",_e(nn,rt),Yt.Ga="timingevent",_e(on,rt);var sn={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},un={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function cn(){}function ln(e){var t;return(t=e.a)||(t=e.a={}),t}function hn(){}cn.prototype.a=null;var fn,dn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function pn(){rt.call(this,"d")}function vn(){rt.call(this,"c")}function mn(){}function gn(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Kt(this),this.P=yn,e=Be?125:void 0,this.R=new Vt(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}_e(pn,rt),_e(vn,rt),_e(mn,cn),fn=new mn;var yn=45e3,bn={},_n={};function wn(e,t,n){e.H=1,e.i=zn(jn(t)),e.j=n,e.I=!0,kn(e,null)}function kn(e,t){e.u=be(),Tn(e),e.l=jn(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),nr(n.b,"t",r),e.D=0,e.a=Xr(e.g,e.g.C?t:null),0<e.O&&(e.F=new Gt(ge(e.Ca,e,e.a),e.O)),Wt(e.J,e.a,"readystatechange",e.Xa),t=e.B?Oe(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),tn(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function En(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Sn(e,n);if(i==_n){4==t&&(e.h=4,rn(14),r=!1),Xt(e.c,e.f,null,"[Incomplete Response]");break}if(i==bn){e.h=4,rn(15),Xt(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Xt(e.c,e.f,i,null),An(e,i)}4==t&&0==n.length&&(e.h=1,rn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Br(t),t.F=!0,rn(11))):(Xt(e.c,e.f,n,"[Invalid Chunked Response]"),Nn(e),xn(e))}function Sn(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?_n:(n=Number(t.substring(n,r)),isNaN(n)?bn:(r+=1)+n>t.length?_n:(t=t.substr(r,n),e.D=r+n,t))}function Tn(e){e.T=be()+e.P,In(e,e.P)}function In(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=an(ge(e.Va,e),t)}function Cn(e){e.o&&(ce.clearTimeout(e.o),e.o=null)}function xn(e){0==e.g.v||e.A||Kr(e.g,e)}function Nn(e){Cn(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,qt(e.R),Jt(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function An(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||cr(n.b,e)))if(n.I=e.N,!e.C&&cr(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Bd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;Gr(n),Rr(n)}qr(n),rn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=an(ge(n.Sa,n),6e3));if(1>=ur(n.b)&&n.ea){try{n.ea()}catch(Bd){}n.ea=void 0}}else Wr(n,11)}else if((e.C||n.a==e)&&Gr(n),!Ie(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Ne(l,"spdy")||Ne(l,"quic")||Ne(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(lr(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Bn(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=be()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((u=n).la=Qr(u,u.C?u.ga:null,u.fa),d.C){hr(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Cn(p),Tn(p)),u.a=d}else Vr(u);0<n.g.length&&Mr(n)}else"stop"!=i[0]&&"close"!=i[0]||Wr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Wr(n,7):Dr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);tn(4)}catch(Bd){}}function Pn(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(he(e)||"string"===typeof e)Ee(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(he(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(he(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Dn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dn)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];On(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)On(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function On(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ae=gn.prototype).setTimeout=function(e){this.P=e},ae.Xa=function(e){e=e.target;var t=this.F;t&&3==xr(e)?t.f():this.Ca(e)},ae.Ca=function(e){try{if(e==this.a)e:{var t=xr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!Be&&!this.a.$())){this.A||4!=t||7==n||tn(8==n||0>=r?3:2),Cn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ie(a)){var u=a;break t}}u=null}if(!u){this.b=!1,this.h=3,rn(12),Nn(this),xn(this);break e}Xt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,An(this,u)}this.I?(En(this,t,o),Be&&this.b&&3==t&&(Wt(this.J,this.R,"tick",this.Wa),this.R.start())):(Xt(this.c,this.f,o,null),An(this,o)),4==t&&Nn(this),this.b&&!this.A&&(4==t?Kr(this.g,this):(this.b=!1,Tn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,rn(12)):(this.h=0,rn(13)),Nn(this),xn(this)}}}catch(Xp){}},ae.Wa=function(){if(this.a){var e=xr(this.a),t=this.a.$();this.D<t.length&&(Cn(this),En(this,e,t),this.b&&4!=e&&Tn(this))}},ae.cancel=function(){this.A=!0,Nn(this)},ae.Va=function(){this.o=null;var e=be();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(tn(3),rn(17)),Nn(this),this.h=2,xn(this)):In(this,this.T-e)},(ae=Dn.prototype).K=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ae.L=function(){return Rn(this),this.a.concat()},ae.get=function(e,t){return On(this.b,e)?this.b[e]:t},ae.set=function(e,t){On(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ae.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ln=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Mn){this.a=void 0!==t?t:e.a,Fn(this,e.f),this.j=e.j,Un(this,e.c),Vn(this,e.h),this.g=e.g,t=e.b;var n=new Zn;n.c=t.c,t.a&&(n.a=new Dn(t.a),n.b=t.b),qn(this,n),this.i=e.i}else e&&(n=String(e).match(Ln))?(this.a=!!t,Fn(this,n[1]||"",!0),this.j=Gn(n[2]||""),Un(this,n[3]||"",!0),Vn(this,n[4]),this.g=Gn(n[5]||"",!0),qn(this,n[6]||"",!0),this.i=Gn(n[7]||"")):(this.a=!!t,this.b=new Zn(null,this.a))}function jn(e){return new Mn(e)}function Fn(e,t,n){e.f=n?Gn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Un(e,t,n){e.c=n?Gn(t,!0):t}function Vn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function qn(e,t,n){t instanceof Zn?(e.b=t,function(e,t){t&&!e.f&&($n(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Kn(t,Xn)),e.b=new Zn(t,e.a))}function Bn(e,t,n){e.b.set(t,n)}function zn(e){return Bn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^be()).toString(36)),e}function Gn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Kn(t,Wn,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Kn(t,Wn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Qn:Jn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Kn(n,Yn)),e.join("")};var Wn=/[#\/\?@]/g,Jn=/[#\?:]/g,Qn=/[#\?]/g,Xn=/[#\?@]/g,Yn=/#/g;function Zn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $n(e){e.a||(e.a=new Dn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function er(e,t){$n(e),t=rr(e,t),On(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,On((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function tr(e,t){return $n(e),t=rr(e,t),On(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(rr(e,t),Te(n)),e.b+=n.length)}function rr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(ae=Zn.prototype).add=function(e,t){$n(this),this.c=null,e=rr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ae.forEach=function(e,t){$n(this),this.a.forEach((function(n,r){Ee(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ae.L=function(){$n(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ae.K=function(e){$n(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=Se(t,this.a.get(rr(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Se(t,e[n])}return t},ae.set=function(e,t){return $n(this),this.c=null,tr(this,e=rr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ae.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},ae.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ir=function(e,t){this.b=e,this.a=t};function or(e){this.g=e||ar,ce.PerformanceNavigationTiming?e=0<(e=ce.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ce.ia&&ce.ia.ya&&ce.ia.ya()&&ce.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ar=10;function sr(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ur(e){return e.b?1:e.a?e.a.size:0}function cr(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function lr(e,t){e.a?e.a.add(t):e.b=t}function hr(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function fr(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=oe(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Te(e.c)}function dr(){}function pr(){this.a=new dr}function vr(e,t,n){var r=n||"";try{Pn(e,(function(e,n){var i=e;fe(e)&&(i=Nt(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Zp){}}or.prototype.cancel=function(){var e,t;if(this.c=fr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=oe(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},dr.prototype.stringify=function(e){return ce.JSON.stringify(e,void 0)},dr.prototype.parse=function(e){return ce.JSON.parse(e,void 0)};var gr=ce.JSON.parse;function yr(e){It.call(this),this.headers=new Dn,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=br,this.D=this.F=!1}_e(yr,It);var br="",_r=/^https?$/i,wr=["POST","PUT"];function kr(e){return"content-type"==e.toLowerCase()}function Er(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Sr(e),Ir(e)}function Sr(e){e.u||(e.u=!0,Ct(e,"complete"),Ct(e,"error"))}function Tr(e){if(e.b&&"undefined"!=typeof ue&&(!e.s[1]||4!=xr(e)||2!=e.W()))if(e.l&&4==xr(e))Bt(e.za,0,e);else if(Ct(e,"readystatechange"),4==xr(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Ln)[1]||null;if(!o&&ce.self&&ce.self.location){var a=ce.self.location.protocol;o=a.substr(0,a.length-1)}i=!_r.test(o?o.toLowerCase():"")}t=i}if(t)Ct(e,"complete"),Ct(e,"success");else{e.h=6;try{var s=2<xr(e)?e.a.statusText:""}catch(n){s=""}e.f=s+" ["+e.W()+"]",Sr(e)}}finally{Ir(e)}}}function Ir(e,t){if(e.a){Cr(e);var n=e.a,r=e.s[0]?le:null;e.a=null,e.s=null,t||Ct(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cr(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(ce.clearTimeout(e.m),e.m=null)}function xr(e){return e.a?e.a.readyState:0}function Nr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Re(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bn(e,t,n))}function Ar(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pr(e){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ar("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ar("baseRetryDelayMs",5e3,e),this.Ra=Ar("retryDelaySeedMs",1e4,e),this.Ma=Ar("forwardChannelMaxRetries",2,e),this.ma=Ar("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new or(e&&e.concurrentRequestLimit),this.ka=new pr,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Dr(e){if(Or(e),3==e.v){var t=e.R++,n=jn(e.B);Bn(n,"SID",e.J),Bn(n,"RID",t),Bn(n,"TYPE","terminate"),Fr(e,n),(t=new gn(e,e.c,t,void 0)).H=2,t.i=zn(jn(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(t.i.toString(),"")),!n&&ce.Image&&((new Image).src=t.i,n=!0),n||(t.a=Xr(t.g,null),t.a.ba(t.i)),t.u=be(),Tn(t)}Jr(e)}function Rr(e){e.a&&(Br(e),e.a.cancel(),e.a=null)}function Or(e){Rr(e),e.j&&(ce.clearTimeout(e.j),e.j=null),Gr(e),e.b.cancel(),e.h&&("number"===typeof e.h&&ce.clearTimeout(e.h),e.h=null)}function Lr(e,t){e.g.push(new ir(e.Oa++,t)),3==e.v&&Mr(e)}function Mr(e){sr(e.b)||e.h||(e.h=!0,Mt(e.Ba,e),e.u=0)}function jr(e,t){var n;n=t?t.f:e.R++;var r=jn(e.B);Bn(r,"SID",e.J),Bn(r,"RID",n),Bn(r,"AID",e.P),Fr(e,r),e.i&&e.l&&Nr(r,e.i,e.l),n=new gn(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=Ur(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),lr(e.b,n),wn(n,r,t)}function Fr(e,t){e.f&&Pn({},(function(e,n){Bn(t,n,e)}))}function Ur(e,t,n){n=Math.min(e.g.length,n);var r=e.f?ge(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{vr(l,a,"req"+c+"_")}catch(Ai){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Vr(e){e.a||e.j||(e.T=1,Mt(e.Aa,e),e.o=0)}function qr(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=an(ge(e.Aa,e),Hr(e,e.o)),e.o++,!0)}function Br(e){null!=e.s&&(ce.clearTimeout(e.s),e.s=null)}function zr(e){e.a=new gn(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=jn(e.la);Bn(t,"RID","rpc"),Bn(t,"SID",e.J),Bn(t,"CI",e.H?"0":"1"),Bn(t,"AID",e.P),Fr(e,t),Bn(t,"TYPE","xmlhttp"),e.i&&e.l&&Nr(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=zn(jn(t)),n.j=null,n.I=!0,kn(n,e)}function Gr(e){null!=e.m&&(ce.clearTimeout(e.m),e.m=null)}function Kr(e,t){var n=null;if(e.a==t){Gr(e),Br(e),e.a=null;var r=2}else{if(!cr(e.b,t))return;n=t.s,hr(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=be()-t.u;var i=e.u;Ct(r=$t(),new on(r,n,t,i)),Mr(e)}else Vr(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ur(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=an(ge(e.Ba,e,t),Hr(e,e.u)),e.u++,!0))}(e,t)||2==r&&qr(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Wr(e,5);break;case 4:Wr(e,10);break;case 3:Wr(e,6);break;default:Wr(e,2)}}function Hr(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Wr(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=ge(e.Ya,e);n||(n=new Mn("//www.google.com/images/cleardot.gif"),ce.location&&"http"==ce.location.protocol||Fn(n,"https"),zn(n)),function(e,t){var n=new Qt;if(ce.Image){var r=new Image;r.onload=ye(mr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ye(mr,n,r,"TestLoadImage: error",!1,t),r.onabort=ye(mr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ye(mr,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rn(2);e.v=0,e.f&&e.f.ra(t),Jr(e),Or(e)}function Jr(e){e.v=0,e.I=-1,e.f&&(0==fr(e.b).length&&0==e.g.length||(e.b.c.length=0,Te(e.g),e.g.length=0),e.f.qa())}function Qr(e,t,n){var r=function(e){return e instanceof Mn?jn(e):new Mn(e,void 0)}(n);if(""!=r.c)t&&Un(r,t+"."+r.c),Vn(r,r.h);else{var i=ce.location;r=function(e,t,n,r){var i=new Mn(null,void 0);return e&&Fn(i,e),t&&Un(i,t),n&&Vn(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Re(e.V,(function(e,t){Bn(r,t,e)})),t=e.A,n=e.na,t&&n&&Bn(r,t,n),Bn(r,"VER",e.ha),Fr(e,r),r}function Xr(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new yr(e.Na)).F=e.C,t}function Yr(){}function Zr(){if(Ve&&!(10<=Number($e)))throw Error("Environmental error: no available transport.")}function $r(e,t){It.call(this),this.a=new Pr(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ie(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ie(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new ni(this)}function ei(e){pn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function ti(){vn.call(this),this.status=1}function ni(e){this.a=e}(ae=yr.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ln(this.H):ln(fn),this.a.onreadystatechange=ge(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(Zp){return void Er(this,Zp)}e=n||"";var i=new Dn(this.headers);r&&Pn(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=kr,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=ce.FormData&&e instanceof ce.FormData,!(0<=ke(wr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cr(this),0<this.o&&((this.D=function(e){return Ve&&Ye(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ge(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(Zp){Er(this,Zp)}},ae.xa=function(){"undefined"!=typeof ue&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ct(this,"timeout"),this.abort(8))},ae.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Ct(this,"complete"),Ct(this,"abort"),Ir(this))},ae.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ir(this,!0)),yr.X.G.call(this)},ae.za=function(){this.j||(this.A||this.l||this.g?Tr(this):this.Ua())},ae.Ua=function(){Tr(this)},ae.W=function(){try{return 2<xr(this)?this.a.status:-1}catch(Yp){return-1}},ae.$=function(){try{return this.a?this.a.responseText:""}catch(Yp){return""}},ae.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gr(t)}},ae.ua=function(){return this.h},ae.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(ae=Pr.prototype).ha=8,ae.v=1,ae.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new gn(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Me(r=Oe(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=Ur(this,n,t),Bn(i=jn(this.B),"RID",e),Bn(i,"CVER",22),this.A&&Bn(i,"X-HTTP-Session-Id",this.A),Fr(this,i),this.i&&r&&Nr(i,this.i,r),lr(this.b,n),this.Ia&&Bn(i,"TYPE","init"),this.da?(Bn(i,"$req",t),Bn(i,"SID","null"),n.U=!0,wn(n,i,null)):wn(n,i,t),this.v=2}}else 3==this.v&&(e?jr(this,e):0==this.g.length||sr(this.b)||jr(this))},ae.Aa=function(){if(this.j=null,zr(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=an(ge(this.Ta,this),e)}},ae.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,rn(10),Rr(this),zr(this))},ae.Sa=function(){null!=this.m&&(this.m=null,Rr(this),qr(this),rn(19))},ae.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),rn(2)):(this.c.info("Failed to ping google.com"),rn(1))},(ae=Yr.prototype).ta=function(){},ae.sa=function(){},ae.ra=function(){},ae.qa=function(){},ae.Ja=function(){},Zr.prototype.a=function(e,t){return new $r(e,t)},_e($r,It),$r.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;rn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Qr(e,null,e.fa),Mr(e)},$r.prototype.close=function(){Dr(this.a)},$r.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Lr(this.a,t)}else this.l?((t={}).__data__=Nt(e),Lr(this.a,t)):Lr(this.a,e)},$r.prototype.G=function(){this.a.f=null,delete this.f,Dr(this.a),delete this.a,$r.X.G.call(this)},_e(ei,pn),_e(ti,vn),_e(ni,Yr),ni.prototype.ta=function(){Ct(this.a,"a")},ni.prototype.sa=function(e){Ct(this.a,new ei(e))},ni.prototype.ra=function(e){Ct(this.a,new ti(e))},ni.prototype.qa=function(){Ct(this.a,"b")},Zr.prototype.createWebChannel=Zr.prototype.a,$r.prototype.send=$r.prototype.h,$r.prototype.open=$r.prototype.g,$r.prototype.close=$r.prototype.close,sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,un.COMPLETE="complete",hn.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",It.prototype.listen=It.prototype.va,yr.prototype.listenOnce=yr.prototype.wa,yr.prototype.getLastError=yr.prototype.Qa,yr.prototype.getLastErrorCode=yr.prototype.ua,yr.prototype.getStatus=yr.prototype.W,yr.prototype.getResponseJson=yr.prototype.Pa,yr.prototype.getResponseText=yr.prototype.$,yr.prototype.send=yr.prototype.ba;var ri=function(){return new Zr},ii=function(){return $t()},oi=sn,ai=un,si=Yt,ui={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ci=hn,li=yr,hi=n(388),fi=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();fi.o=-1;var di={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},pi=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,hi.ZT)(t,e),t}(Error),vi=new re.Yd("@firebase/firestore");function mi(){return vi.logLevel}function gi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=re.in.DEBUG){var r=t.map(_i);vi.debug.apply(vi,(0,hi.ev)(["Firestore (8.5.0): "+e],r))}}function yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=re.in.ERROR){var r=t.map(_i);vi.error.apply(vi,(0,hi.ev)(["Firestore (8.5.0): "+e],r))}}function bi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vi.logLevel<=re.in.WARN){var r=t.map(_i);vi.warn.apply(vi,(0,hi.ev)(["Firestore (8.5.0): "+e],r))}}function _i(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wi(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw yi(t),new Error(t)}function ki(e,t){e||wi()}function Ei(e,t){return e}function Si(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ti=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Si(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Ii(e,t){return e<t?-1:e>t?1:0}function Ci(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xi(e){return e+"\0"}var Ni=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pi(di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pi(di.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pi(di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pi(di.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Ii(this.nanoseconds,e.nanoseconds):Ii(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ai=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Ni(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Pi(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Di(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ri(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Oi=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&wi(),void 0===n?n=e.length-t:n>e.length-t&&wi(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Li=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new pi(di.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Oi),Mi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Mi.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new pi(di.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new pi(di.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new pi(di.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pi(di.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Oi),Fi=function(){function e(e){this.fields=e,e.sort(ji.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ci(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Ui=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Ii(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Ui.EMPTY_BYTE_STRING=new Ui("");var Vi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(e){if(ki(!!e),"string"==typeof e){var t=0,n=Vi.exec(e);if(ki(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bi(e.seconds),nanos:Bi(e.nanos)}}function Bi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function zi(e){return"string"==typeof e?Ui.fromBase64String(e):Ui.fromUint8Array(e)}function Gi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ki(e){var t=e.mapValue.fields.__previous_value__;return Gi(t)?Ki(t):t}function Hi(e){var t=qi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ni(t.seconds,t.nanos)}function Wi(e){return null==e}function Ji(e){return 0===e&&1/e==-1/0}function Qi(e){return"number"==typeof e&&Number.isInteger(e)&&!Ji(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xi=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Li.fromString(t))},e.fromName=function(t){return new e(Li.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Li.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Li.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Li(t.slice()))},e}();function Yi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gi(e)?4:10:wi()}function Zi(e,t){var n=Yi(e);if(n!==Yi(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Hi(e).isEqual(Hi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=qi(e.timestampValue),r=qi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return zi(e.bytesValue).isEqual(zi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bi(e.geoPointValue.latitude)===Bi(t.geoPointValue.latitude)&&Bi(e.geoPointValue.longitude)===Bi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bi(e.integerValue)===Bi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Bi(e.doubleValue),r=Bi(t.doubleValue);return n===r?Ji(n)===Ji(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ci(e.arrayValue.values||[],t.arrayValue.values||[],Zi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pi(n)!==Pi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zi(n[i],r[i])))return!1;return!0}(e,t);default:return wi()}}function $i(e,t){return void 0!==(e.values||[]).find((function(e){return Zi(e,t)}))}function eo(e,t){var n=Yi(e),r=Yi(t);if(n!==r)return Ii(n,r);switch(n){case 0:return 0;case 1:return Ii(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Bi(e.integerValue||e.doubleValue),r=Bi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return to(e.timestampValue,t.timestampValue);case 4:return to(Hi(e),Hi(t));case 5:return Ii(e.stringValue,t.stringValue);case 6:return function(e,t){var n=zi(e),r=zi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ii(n[i],r[i]);if(0!==o)return o}return Ii(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ii(Bi(e.latitude),Bi(t.latitude));return 0!==n?n:Ii(Bi(e.longitude),Bi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=eo(n[i],r[i]);if(o)return o}return Ii(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Ii(r[a],o[a]);if(0!==s)return s;var u=eo(n[r[a]],i[o[a]]);if(0!==u)return u}return Ii(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wi()}}function to(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ii(e,t);var n=qi(e),r=qi(t),i=Ii(n.seconds,r.seconds);return 0!==i?i:Ii(n.nanos,r.nanos)}function no(e){return ro(e)}function ro(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=qi(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?zi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xi.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ro(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ro(e.fields[o])}return t+"}"}(e.mapValue):wi();var t,n}function io(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function oo(e){return!!e&&"integerValue"in e}function ao(e){return!!e&&"arrayValue"in e}function so(e){return!!e&&"nullValue"in e}function uo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function co(e){return!!e&&"mapValue"in e}var lo=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(ji.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Zi(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Yi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=co(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(ji.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!co(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function ho(e){var t=[];return Di(e.fields||{},(function(e,n){var r=new ji([e]);if(co(n)){var i=ho(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new Fi(t)}var fo=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Ai.min(),lo.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,lo.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,lo.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=lo.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=lo.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),po=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function vo(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new po(e,t,n,r,i,o,a)}function mo(e){var t=Ei(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+no(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Wi(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=No(t.startAt)),t.endAt&&(n+="|ub:",n+=No(t.endAt)),t.h=n}return t.h}function go(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Po(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Zi(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ro(e.startAt,t.startAt)&&Ro(e.endAt,t.endAt)}function yo(e){return Xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,hi.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new _o(e,n,r):"array-contains"===n?new So(e,r):"in"===n?new To(e,r):"not-in"===n?new Io(e,r):"array-contains-any"===n?new Co(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new wo(e,n):new ko(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(eo(t,this.value)):null!==t&&Yi(this.value)===Yi(t)&&this.m(eo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wi()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),_o=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=Xi.fromName(r.referenceValue),i}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){var t=Xi.comparator(e.key,this.key);return this.m(t)},t}(bo),wo=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Eo("in",n),r}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bo),ko=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Eo("not-in",n),r}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(bo);function Eo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xi.fromName(e.referenceValue)}))}var So=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return ao(t)&&$i(t.arrayValue,this.value)},t}(bo),To=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&$i(this.value.arrayValue,t)},t}(bo),Io=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){if($i(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$i(this.value.arrayValue,t)},t}(bo),Co=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,hi.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!ao(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return $i(t.value.arrayValue,e)}))},t}(bo),xo=function(e,t){this.position=e,this.before=t};function No(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return no(e)})).join(",")}var Ao=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Po(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Do(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Xi.comparator(Xi.fromName(a.referenceValue),n.key):eo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ro(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Zi(e.position[n],t.position[n]))return!1;return!0}var Oo=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Lo(e,t,n,r,i,o,a,s){return new Oo(e,t,n,r,i,o,a,s)}function Mo(e){return new Oo(e)}function jo(e){return!Wi(e.limit)&&"F"===e.limitType}function Fo(e){return!Wi(e.limit)&&"L"===e.limitType}function Uo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vo(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function qo(e){return null!==e.collectionGroup}function Bo(e){var t=Ei(e);if(null===t.p){t.p=[];var n=Vo(t),r=Uo(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ao(n)),t.p.push(new Ao(ji.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ao(ji.keyField(),u))}}}return t.p}function zo(e){var t=Ei(e);if(!t.T)if("F"===t.limitType)t.T=vo(t.path,t.collectionGroup,Bo(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Bo(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ao(o.field,a))}var s=t.endAt?new xo(t.endAt.position,!t.endAt.before):null,u=t.startAt?new xo(t.startAt.position,!t.startAt.before):null;t.T=vo(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Go(e,t,n){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ko(e,t){return go(zo(e),zo(t))&&e.limitType===t.limitType}function Ho(e){return mo(zo(e))+"|lt:"+e.limitType}function Wo(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+no(t.value);var t})).join(", ")+"]"),Wi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+No(e.startAt)),e.endAt&&(t+=", endAt: "+No(e.endAt)),"Target("+t+")"}(zo(e))+"; limitType="+e.limitType+")"}function Jo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Do(e.startAt,Bo(e),t))&&(!e.endAt||!Do(e.endAt,Bo(e),t))}(e,t)}function Qo(e){return function(t,n){for(var r=!1,i=0,o=Bo(e);i<o.length;i++){var a=o[i],s=Xo(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Xo(e,t,n){var r=e.field.isKeyField()?Xi.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eo(r,i):wi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wi()}}function Yo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ji(t)?"-0":t}}function Zo(e){return{integerValue:""+e}}function $o(e,t){return Qi(t)?Zo(t):Yo(e,t)}var ea=function(){this._=void 0};function ta(e,t,n){return e instanceof ia?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof oa?aa(e,t):e instanceof sa?ua(e,t):function(e,t){var n=ra(e,t),r=la(n)+la(e.A);return oo(n)&&oo(e.A)?Zo(r):Yo(e.R,r)}(e,t)}function na(e,t,n){return e instanceof oa?aa(e,t):e instanceof sa?ua(e,t):n}function ra(e,t){return e instanceof ca?oo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t}(ea),oa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,hi.ZT)(t,e),t}(ea);function aa(e,t){for(var n=ha(t),r=function(e){n.some((function(t){return Zi(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var sa=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,hi.ZT)(t,e),t}(ea);function ua(e,t){for(var n=ha(t),r=function(e){n=n.filter((function(t){return!Zi(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ca=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,hi.ZT)(t,e),t}(ea);function la(e){return Bi(e.integerValue||e.doubleValue)}function ha(e){return ao(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fa=function(e,t){this.field=e,this.transform=t},da=function(e,t){this.version=e,this.transformResults=t},pa=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function va(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ma=function(){};function ga(e,t,n){e instanceof ka?function(e,t,n){var r=e.value.clone(),i=Ta(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ea?function(e,t,n){if(va(e.precondition,t)){var r=Ta(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ya(e,t,n){e instanceof ka?function(e,t,n){if(va(e.precondition,t)){var r=e.value.clone(),i=Ia(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(wa(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ea?function(e,t,n){if(va(e.precondition,t)){var r=Ia(e.fieldTransforms,n,t),i=t.data;i.setAll(Sa(e)),i.setAll(r),t.convertToFoundDocument(wa(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){va(e.precondition,t)&&t.convertToNoDocument(Ai.min())}(e,t)}function ba(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=ra(o.transform,a||null);null!=s&&(null==n&&(n=lo.empty()),n.set(o.field,s))}return n||null}function _a(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ci(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof oa&&t instanceof oa||e instanceof sa&&t instanceof sa?Ci(e.elements,t.elements,Zi):e instanceof ca&&t instanceof ca?Zi(e.A,t.A):e instanceof ia&&t instanceof ia}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function wa(e){return e.isFoundDocument()?e.version:Ai.min()}var ka=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,hi.ZT)(t,e),t}(ma),Ea=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,hi.ZT)(t,e),t}(ma);function Sa(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ta(e,t,n){var r=new Map;ki(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,na(a,s,n[i]))}return r}function Ia(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ta(s,u,t))}return r}var Ca,xa,Na=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,hi.ZT)(t,e),t}(ma),Aa=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,hi.ZT)(t,e),t}(ma),Pa=function(e){this.count=e};function Da(e){switch(e){case di.OK:return wi();case di.CANCELLED:case di.UNKNOWN:case di.DEADLINE_EXCEEDED:case di.RESOURCE_EXHAUSTED:case di.INTERNAL:case di.UNAVAILABLE:case di.UNAUTHENTICATED:return!1;case di.INVALID_ARGUMENT:case di.NOT_FOUND:case di.ALREADY_EXISTS:case di.PERMISSION_DENIED:case di.FAILED_PRECONDITION:case di.ABORTED:case di.OUT_OF_RANGE:case di.UNIMPLEMENTED:case di.DATA_LOSS:return!0;default:return wi()}}function Ra(e){if(void 0===e)return yi("GRPC error has no .code"),di.UNKNOWN;switch(e){case Ca.OK:return di.OK;case Ca.CANCELLED:return di.CANCELLED;case Ca.UNKNOWN:return di.UNKNOWN;case Ca.DEADLINE_EXCEEDED:return di.DEADLINE_EXCEEDED;case Ca.RESOURCE_EXHAUSTED:return di.RESOURCE_EXHAUSTED;case Ca.INTERNAL:return di.INTERNAL;case Ca.UNAVAILABLE:return di.UNAVAILABLE;case Ca.UNAUTHENTICATED:return di.UNAUTHENTICATED;case Ca.INVALID_ARGUMENT:return di.INVALID_ARGUMENT;case Ca.NOT_FOUND:return di.NOT_FOUND;case Ca.ALREADY_EXISTS:return di.ALREADY_EXISTS;case Ca.PERMISSION_DENIED:return di.PERMISSION_DENIED;case Ca.FAILED_PRECONDITION:return di.FAILED_PRECONDITION;case Ca.ABORTED:return di.ABORTED;case Ca.OUT_OF_RANGE:return di.OUT_OF_RANGE;case Ca.UNIMPLEMENTED:return di.UNIMPLEMENTED;case Ca.DATA_LOSS:return di.DATA_LOSS;default:return wi()}}(xa=Ca||(Ca={}))[xa.OK=0]="OK",xa[xa.CANCELLED=1]="CANCELLED",xa[xa.UNKNOWN=2]="UNKNOWN",xa[xa.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xa[xa.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xa[xa.NOT_FOUND=5]="NOT_FOUND",xa[xa.ALREADY_EXISTS=6]="ALREADY_EXISTS",xa[xa.PERMISSION_DENIED=7]="PERMISSION_DENIED",xa[xa.UNAUTHENTICATED=16]="UNAUTHENTICATED",xa[xa.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xa[xa.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xa[xa.ABORTED=10]="ABORTED",xa[xa.OUT_OF_RANGE=11]="OUT_OF_RANGE",xa[xa.UNIMPLEMENTED=12]="UNIMPLEMENTED",xa[xa.INTERNAL=13]="INTERNAL",xa[xa.UNAVAILABLE=14]="UNAVAILABLE",xa[xa.DATA_LOSS=15]="DATA_LOSS";var Oa=function(){function e(e,t){this.comparator=e,this.root=t||Ma.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ma.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ma.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new La(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new La(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new La(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new La(this.root,e,this.comparator,!0)},e}(),La=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ma=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw wi();if(this.right.isRed())throw wi();var e=this.left.check();if(e!==this.right.check())throw wi();return e+(this.isRed()?0:1)},e}();Ma.EMPTY=null,Ma.RED=!0,Ma.BLACK=!1,Ma.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw wi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw wi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw wi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw wi()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw wi()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ma(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var ja=function(){function e(e){this.comparator=e,this.data=new Oa(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Fa(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Fa(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Fa=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Ua=new Oa(Xi.comparator);function Va(){return Ua}var qa=new Oa(Xi.comparator);function Ba(){return qa}var za=new Oa(Xi.comparator);function Ga(){return za}var Ka=new ja(Xi.comparator);function Ha(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Ka,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wa=new ja(Ii);function Ja(){return Wa}var Qa=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Xa.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ai.min(),r,Ja(),Va(),Ha())},e}(),Xa=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Ui.EMPTY_BYTE_STRING,n,Ha(),Ha(),Ha())},e}(),Ya=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Za=function(e,t){this.targetId=e,this.V=t},$a=function(e,t,n,r){void 0===n&&(n=Ui.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},es=function(){function e(){this.S=0,this.D=rs(),this.C=Ui.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ha(),t=Ha(),n=Ha();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wi()}})),new Xa(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=rs()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),ts=function(){function e(e){this.W=e,this.G=new Map,this.H=Va(),this.J=ns(),this.Y=new ja(Ii)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:wi()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(yo(i))if(0===n){var o=new Xi(i.path);this.tt(t,o,fo.newNoDocument(o,Ai.min()))}else ki(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&yo(o.target)){var a=new Xi(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,fo.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ha();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Qa(e,n,this.Y,this.H,r);return this.H=Va(),this.J=ns(),this.Y=new ja(Ii),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new es,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new ja(Ii),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||gi("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new es),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ns(){return new Oa(Xi.comparator)}function rs(){return new Oa(Xi.comparator)}var is={asc:"ASCENDING",desc:"DESCENDING"},os={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},as=function(e,t){this.databaseId=e,this.I=t};function ss(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function us(e,t){return e.I?t.toBase64():t.toUint8Array()}function cs(e,t){return ss(e,t.toTimestamp())}function ls(e){return ki(!!e),Ai.fromTimestamp(function(e){var t=qi(e);return new Ni(t.seconds,t.nanos)}(e))}function hs(e,t){return function(e){return new Li(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fs(e){var t=Li.fromString(e);return ki(Ms(t)),t}function ds(e,t){return hs(e.databaseId,t.path)}function ps(e,t){var n=fs(t);if(n.get(1)!==e.databaseId.projectId)throw new pi(di.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pi(di.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xi(ys(n))}function vs(e,t){return hs(e.databaseId,t)}function ms(e){var t=fs(e);return 4===t.length?Li.emptyPath():ys(t)}function gs(e){return new Li(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ys(e){return ki(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bs(e,t,n){return{name:ds(e,t),fields:n.toProto().mapValue.fields}}function _s(e,t,n){var r=ps(e,t.name),i=ls(t.updateTime),o=new lo({mapValue:{fields:t.fields}}),a=fo.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ws(e,t){var n;if(t instanceof ka)n={update:bs(e,t.key,t.value)};else if(t instanceof Na)n={delete:ds(e,t.key)};else if(t instanceof Ea)n={update:bs(e,t.key,t.data),updateMask:Ls(t.fieldMask)};else{if(!(t instanceof Aa))return wi();n={verify:ds(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof ia)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof oa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ca)return{fieldPath:t.field.canonicalString(),increment:n.A};throw wi()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wi()}(e,t.precondition)),n}function ks(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?pa.updateTime(ls(e.updateTime)):void 0!==e.exists?pa.exists(e.exists):pa.none()}(t.currentDocument):pa.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ki("REQUEST_TIME"===t.setToServerValue),n=new ia;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new oa(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sa(i)}else"increment"in t?n=new ca(e,t.increment):wi();var o=ji.fromServerFormat(t.fieldPath);return new fa(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ps(e,t.update.name),o=new lo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Fi(t.map((function(e){return ji.fromServerFormat(e)})))}(t.updateMask);return new Ea(i,o,a,n,r)}return new ka(i,o,n,r)}if(t.delete){var s=ps(e,t.delete);return new Na(s,n)}if(t.verify){var u=ps(e,t.verify);return new Aa(u,n)}return wi()}function Es(e,t){return{documents:[vs(e,t.path)]}}function Ss(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vs(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vs(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(uo(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NAN"}};if(so(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uo(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NAN"}};if(so(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(e.field),op:As(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ps(e.field),direction:Ns(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Wi(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Cs(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Cs(t.endAt)),n}function Ts(e){var t=ms(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ki(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Is(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ao(Ds(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Wi(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=xs(n.startAt));var l=null;return n.endAt&&(l=xs(n.endAt)),Lo(t,i,s,a,u,"F",c,l)}function Is(e){return e?void 0!==e.unaryFilter?[Os(e)]:void 0!==e.fieldFilter?[Rs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Is(e)})).reduce((function(e,t){return e.concat(t)})):wi():[]}function Cs(e){return{before:e.before,values:e.position}}function xs(e){var t=!!e.before,n=e.values||[];return new xo(n,t)}function Ns(e){return is[e]}function As(e){return os[e]}function Ps(e){return{fieldPath:e.canonicalString()}}function Ds(e){return ji.fromServerFormat(e.fieldPath)}function Rs(e){return bo.create(Ds(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wi()}}(e.fieldFilter.op),e.fieldFilter.value)}function Os(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ds(e.unaryFilter.field);return bo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ds(e.unaryFilter.field);return bo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ds(e.unaryFilter.field);return bo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ds(e.unaryFilter.field);return bo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wi()}}function Ls(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ms(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function js(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Us(t)),t=Fs(e.get(n),t);return Us(t)}function Fs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Us(e){return e+"\x01\x01"}function Vs(e){var t=e.length;if(ki(t>=2),2===t)return ki("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Li.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&wi(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:wi()}o=a+2}return new Li(r)}var qs=function(e,t){this.seconds=e,this.nanoseconds=t},Bs=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Bs.store="owner",Bs.key="owner";var zs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};zs.store="mutationQueues",zs.keyPath="userId";var Gs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Gs.store="mutations",Gs.keyPath="batchId",Gs.userMutationsIndex="userMutationsIndex",Gs.userMutationsKeyPath=["userId","batchId"];var Ks=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,js(t)]},e.key=function(e,t,n){return[e,js(t),n]},e}();Ks.store="documentMutations",Ks.PLACEHOLDER=new Ks;var Hs=function(e,t){this.path=e,this.readTime=t},Ws=function(e,t){this.path=e,this.version=t},Js=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Js.store="remoteDocuments",Js.readTimeIndex="readTimeIndex",Js.readTimeIndexPath="readTime",Js.collectionReadTimeIndex="collectionReadTimeIndex",Js.collectionReadTimeIndexPath=["parentPath","readTime"];var Qs=function(e){this.byteSize=e};Qs.store="remoteDocumentGlobal",Qs.key="remoteDocumentGlobalKey";var Xs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Xs.store="targets",Xs.keyPath="targetId",Xs.queryTargetsIndexName="queryTargetsIndex",Xs.queryTargetsKeyPath=["canonicalId","targetId"];var Ys=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Ys.store="targetDocuments",Ys.keyPath=["targetId","path"],Ys.documentTargetsIndex="documentTargetsIndex",Ys.documentTargetsKeyPath=["path","targetId"];var Zs=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Zs.key="targetGlobalKey",Zs.store="targetGlobal";var $s=function(e,t){this.collectionId=e,this.parent=t};$s.store="collectionParents",$s.keyPath=["collectionId","parent"];var eu=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};eu.store="clientMetadata",eu.keyPath="clientId";var tu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};tu.store="bundles",tu.keyPath="bundleId";var nu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};nu.store="namedQueries",nu.keyPath="name";var ru=(0,hi.ev)((0,hi.ev)([],(0,hi.ev)((0,hi.ev)([],(0,hi.ev)((0,hi.ev)([],(0,hi.ev)((0,hi.ev)([],[zs.store,Gs.store,Ks.store,Js.store,Xs.store,Bs.store,Zs.store,Ys.store]),[eu.store])),[Qs.store])),[$s.store])),[tu.store,nu.store]),iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ou=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),au=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},su=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&wi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),uu=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new au,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new hu(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=mu(t.target.error);n.ft.reject(new hu(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new hu(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(gi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new du(t)},e}(),cu=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,ne.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return gi("SimpleDb","Removing database:",e),pu(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,ne.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/task-managemenet-web-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(gi("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new hu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new pi(di.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new hu(e,n))},i.onupgradeneeded=function(e){gi("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){gi("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,u,c,l;return(0,hi.Jh)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(e)];case 2:return s.db=h.sent(),t=uu.open(s.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),su.reject(e)})).toPromise(),u={},a.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,gi("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),lu=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return pu(this.Pt.delete())},e}(),hu=function(e){function t(t,n){var r=this;return(r=e.call(this,di.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,hi.ZT)(t,e),t}(pi);function fu(e){return"IndexedDbTransactionError"===e.name}var du=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(gi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pu(n)},e.prototype.add=function(e){return gi("SimpleDb","ADD",this.store.name,e,e),pu(this.store.add(e))},e.prototype.get=function(e){var t=this;return pu(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gi("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return gi("SimpleDb","DELETE",this.store.name,e),pu(this.store.delete(e))},e.prototype.count=function(){return gi("SimpleDb","COUNT",this.store.name),pu(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){gi("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new su((function(n,r){t.onerror=function(e){var t=mu(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new su((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new lu(i),a=t(i.primaryKey,i.value,o);if(a instanceof su){var s=a.catch((function(e){return o.done(),su.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return su.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function pu(e){return new su((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=mu(e.target.error);n(t)}}))}var vu=!1;function mu(e){var t=cu._t((0,ne.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new pi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return vu||(vu=!0,setTimeout((function(){throw r}),0)),r}}return e}var gu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,hi.ZT)(t,e),t}(ou);function yu(e,t){var n=Ei(e);return cu.It(n.Mt,t)}var bu=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ga(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&ya(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&ya(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ai.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ha())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ci(this.mutations,e.mutations,(function(e,t){return _a(e,t)}))&&Ci(this.baseMutations,e.baseMutations,(function(e,t){return _a(e,t)}))},e}(),_u=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){ki(t.mutations.length===r.length);for(var i=Ga(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),wu=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Ai.min()),void 0===o&&(o=Ai.min()),void 0===a&&(a=Ui.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),ku=function(e){this.Lt=e};function Eu(e,t){if(t.document)return _s(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Xi.fromSegments(t.noDocument.path),r=xu(t.noDocument.readTime),i=fo.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=Xi.fromSegments(t.unknownDocument.path);return r=xu(t.unknownDocument.version),fo.newUnknownDocument(o,r)}return wi()}function Su(e,t,n){var r=Tu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ds(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:ss(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Js(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Cu(t.version);return a=t.hasCommittedMutations,new Js(null,new Hs(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Cu(t.version);return new Js(new Ws(c,l),null,null,!0,r,i)}return wi()}function Tu(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Iu(e){var t=new Ni(e[0],e[1]);return Ai.fromTimestamp(t)}function Cu(e){var t=e.toTimestamp();return new qs(t.seconds,t.nanoseconds)}function xu(e){var t=new Ni(e.seconds,e.nanoseconds);return Ai.fromTimestamp(t)}function Nu(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ks(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ks(e.Lt,t)})),s=Ni.fromMillis(t.localWriteTimeMs);return new bu(t.batchId,s,n,a)}function Au(e){var t,n,r=xu(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?xu(e.lastLimboFreeSnapshotVersion):Ai.min();return void 0!==e.query.documents?(ki(1===(n=e.query).documents.length),t=zo(Mo(ms(n.documents[0])))):t=function(e){return zo(Ts(e))}(e.query),new wu(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Ui.fromBase64String(e.resumeToken))}function Pu(e,t){var n,r=Cu(t.snapshotVersion),i=Cu(t.lastLimboFreeSnapshotVersion);n=yo(t.target)?Es(e.Lt,t.target):Ss(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Xs(t.targetId,mo(t.target),r,o,t.sequenceNumber,i,n)}function Du(e){var t=Ts({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Go(t,t.limit,"L"):t}var Ru=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ou(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:xu(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ou(e).put({bundleId:(n=t).id,createTime:Cu(ls(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Lu(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Du(t.bundledQuery),readTime:xu(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Lu(e).put(function(e){return{name:e.name,readTime:Cu(ls(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ou(e){return yu(e,tu.store)}function Lu(e){return yu(e,nu.store)}var Mu=function(){function e(){this.Bt=new ju}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),su.resolve()},e.prototype.getCollectionParents=function(e,t){return su.resolve(this.Bt.getEntries(t))},e}(),ju=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ja(Li.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new ja(Li.comparator)).toArray()},e}(),Fu=function(){function e(){this.qt=new ju}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:js(i)};return Uu(e).put(o)}return su.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xi(t),""],!1,!0);return Uu(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Vs(o.parent))}return n}))},e}();function Uu(e){return yu(e,$s.store)}var Vu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Bu(e,t,n){var r=e.store(Gs.store),i=e.store(Ks.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.Ot({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){ki(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ks.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return su.waitFor(o).next((function(){return c}))}function zu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wi();t=e.noDocument}return JSON.stringify(t).length}qu.DEFAULT_COLLECTION_PERCENTILE=10,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qu.DEFAULT=new qu(41943040,qu.DEFAULT_COLLECTION_PERCENTILE,qu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qu.DISABLED=new qu(-1,0,0);var Gu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return ki(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).Ot({index:Gs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Wu(e),a=Hu(e);return a.add({}).next((function(s){ki("number"==typeof s);for(var u=new bu(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ws(e.Lt,t)})),i=n.mutations.map((function(t){return ws(e.Lt,t)}));return new Gs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new ja((function(e,t){return Ii(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Ks.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Ks.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),su.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Hu(e).get(t).next((function(e){return e?(ki(e.userId===n.userId),Nu(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?su.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Hu(e).Ot({index:Gs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ki(t.batchId>=r),o=Nu(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Hu(e).Ot({index:Gs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).Nt(Gs.userMutationsIndex,n).next((function(e){return e.map((function(e){return Nu(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Ks.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Wu(e).Ot({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Vs(u);if(s===n.userId&&t.path.isEqual(l))return Hu(e).get(c).next((function(e){if(!e)throw wi();ki(e.userId===n.userId),o.push(Nu(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ja(Ii),i=[];return t.forEach((function(t){var o=Ks.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=Wu(e).Ot({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Vs(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),su.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Ks.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new ja(Ii);return Wu(e).Ot({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Vs(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Hu(e).get(t).next((function(e){if(null===e)throw wi();ki(e.userId===n.userId),r.push(Nu(n.R,e))})))})),su.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Bu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),su.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return su.resolve();var r=IDBKeyRange.lowerBound(Ks.prefixForUser(t.userId)),i=[];return Wu(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Vs(e[1]);i.push(o)}else r.done()})).next((function(){ki(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Ku(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Ju(e).get(this.userId).next((function(e){return e||new zs(t.userId,-1,"")}))},e}();function Ku(e,t,n){var r=Ks.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Wu(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Hu(e){return yu(e,Gs.store)}function Wu(e){return yu(e,Ks.store)}function Ju(e){return yu(e,zs.store)}var Qu=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Xu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Qu(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ai.fromTimestamp(new Ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Yu(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return ki(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Yu(e).Ot((function(a,s){var u=Au(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return su.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Yu(e).Ot((function(e,n){var r=Au(n);t(r)}))},e.prototype.Xt=function(e){return Zu(e).get(Zs.key).next((function(e){return ki(null!==e),e}))},e.prototype.Zt=function(e,t){return Zu(e).put(Zs.key,t)},e.prototype.te=function(e,t){return Yu(e).put(Pu(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=mo(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Yu(e).Ot({range:r,index:Xs.queryTargetsIndexName},(function(e,n,r){var o=Au(n);go(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=$u(e);return t.forEach((function(t){var a=js(t.path);i.push(o.put(new Ys(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),su.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=$u(e);return su.forEach(t,(function(t){var o=js(t.path);return su.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=$u(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$u(e),i=Ha();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Vs(e[1]),o=new Xi(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=js(t.path),r=IDBKeyRange.bound([n],[xi(n)],!1,!0),i=0;return $u(e).Ot({index:Ys.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Yu(e).get(t).next((function(e){return e?Au(e):null}))},e}();function Yu(e){return yu(e,Xs.store)}function Zu(e){return yu(e,Zs.store)}function $u(e){return yu(e,Ys.store)}function ec(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){if(e.code!==di.FAILED_PRECONDITION||e.message!==iu)throw e;return gi("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function tc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Ii(n,i);return 0===a?Ii(r,o):a}var nc=function(){function e(e){this.ne=e,this.buffer=new ja(tc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),rc=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;gi("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,hi.mG)(t,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return fu(t=n.sent())?(gi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,ec(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ic=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return su.resolve(fi.o);var r=new nc(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gi("LruGarbageCollector","Garbage collection skipped; disabled"),su.resolve(Vu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gi("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Vu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gi("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),mi()<=re.in.DEBUG&&gi("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),su.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),oc=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ic(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ac(e,n)},e.prototype.removeReference=function(e,t,n){return ac(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ac(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Ju(e).$t((function(r){return Ku(e,r,t).next((function(e){return e&&(n=!0),su.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),$u(e).delete([0,js(a.path)])}))}));i.push(u)}})).next((function(){return su.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ac(e,t)},e.prototype.we=function(e,t){var n,r=$u(e),i=fi.o;return r.Ot({index:Ys.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==fi.o&&t(new Xi(Vs(n)),i),i=s,n=a):i=fi.o})).next((function(){i!==fi.o&&t(new Xi(Vs(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ac(e,t){return $u(e).put(function(e,t){return new Ys(0,js(e.path),t)}(t,e.currentSequenceNumber))}var sc=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Di(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Ri(this.inner)},e}(),uc=function(){function e(){this.changes=new sc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Ai.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:fo.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?su.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),cc=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return fc(e).put(dc(t),n)},e.prototype.removeEntry=function(e,t){var n=fc(e),r=dc(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return fc(e).get(dc(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return fc(e).get(dc(t)).next((function(e){return{document:n.ye(t,e),size:zu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Va();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Va(),i=new Oa(Xi.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,zu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return su.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return fc(e).Ot({range:r},(function(e,t,r){for(var a=Xi.fromSegments(e);o&&Xi.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Va(),o=t.path.length+1,a={};if(n.isEqual(Ai.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Tu(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Js.collectionReadTimeIndex}return fc(e).Ot(a,(function(e,n,a){if(e.length===o){var s=Eu(r.R,n);t.path.isPrefixOf(s.key.path)?Jo(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new lc(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return hc(e).get(Qs.key).next((function(e){return ki(!!e),e}))},e.prototype.me=function(e,t){return hc(e).put(Qs.key,t)},e.prototype.ye=function(e,t){if(t){var n=Eu(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Ai.min()))return n}return fo.newInvalidDocument(e)},e}(),lc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new sc((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,hi.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new ja((function(e,t){return Ii(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Su(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=zu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Su(t.Ie.R,fo.newNoDocument(o,Ai.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),su.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(uc);function hc(e){return yu(e,Qs.store)}function fc(e){return yu(e,Js.store)}function dc(e){return e.path.toArray()}var pc=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;ki(n<r&&n>=0&&r<=11);var o=new uu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Bs.store)}(e),function(e){e.createObjectStore(zs.store,{keyPath:zs.keyPath}),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ks.store)}(e),vc(e),function(e){e.createObjectStore(Js.store)}(e));var a=su.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ys.store),e.deleteObjectStore(Xs.store),e.deleteObjectStore(Zs.store)}(e),vc(e)),a=a.next((function(){return function(e){var t=e.store(Zs.store),n=new Zs(0,0,Ai.min().toTimestamp(),0);return t.put(Zs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Gs.store).Nt().next((function(n){e.deleteObjectStore(Gs.store),e.createObjectStore(Gs.store,{keyPath:Gs.keyPath,autoIncrement:!0}).createIndex(Gs.userMutationsIndex,Gs.userMutationsKeyPath,{unique:!0});var r=t.store(Gs.store),i=n.map((function(e){return r.put(e)}));return su.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(eu.store,{keyPath:eu.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Qs.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Js.store);t.createIndex(Js.readTimeIndex,Js.readTimeIndexPath,{unique:!1}),t.createIndex(Js.collectionReadTimeIndex,Js.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(tu.store,{keyPath:tu.keyPath})}(e),function(e){e.createObjectStore(nu.store,{keyPath:nu.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Js.store).Ot((function(e,n){t+=zu(n)})).next((function(){var n=new Qs(t);return e.store(Qs.store).put(Qs.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(zs.store),r=e.store(Gs.store);return n.Nt().next((function(n){return su.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Gs.userMutationsIndex,i).next((function(r){return su.forEach(r,(function(r){ki(r.userId===n.userId);var i=Nu(t.R,r);return Bu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Ys.store),n=e.store(Js.store);return e.store(Zs.store).get(Zs.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Li(n),a=function(e){return[0,js(e)]}(o);r.push(t.get(a).next((function(n){return n?su.resolve():function(n){return t.put(new Ys(0,js(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return su.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore($s.store,{keyPath:$s.keyPath});var n=t.store($s.store),r=new ju,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:js(i)})}};return t.store(Js.store).Ot({kt:!0},(function(e,t){var n=new Li(e);return i(n.popLast())})).next((function(){return t.store(Ks.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],Vs(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Xs.store);return n.Ot((function(e,r){var i=Au(r),o=Pu(t.R,i);return n.put(o)}))},e}();function vc(e){e.createObjectStore(Ys.store,{keyPath:Ys.keyPath}).createIndex(Ys.documentTargetsIndex,Ys.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Xs.store,{keyPath:Xs.keyPath}).createIndex(Xs.queryTargetsIndexName,Xs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zs.store)}var mc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gc=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new pi(di.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oc(this,i),this.Le=n+"main",this.R=new ku(u),this.Be=new cu(this.Le,11,new pc(this.R)),this.qe=new Xu(this.referenceDelegate,this.R),this.Ut=new Fu,this.Ue=function(e,t){return new cc(e,t)}(this.R,this.Ut),this.Qe=new Ru,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new pi(di.FAILED_PRECONDITION,mc);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new fi(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,hi.mG)(t,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,hi.mG)(t,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,hi.mG)(t,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bc(t).put(new eu(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(fu(t))return gi("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return yc(e).get(Bs.key).next((function(e){return su.resolve(t.tn(e))}))},e.prototype.en=function(e){return bc(e).delete(this.clientId)},e.prototype.nn=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yu(e,eu.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return su.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?su.resolve(!0):yc(e).get(Bs.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new pi(di.FAILED_PRECONDITION,mc);return!1}}return!(!t.networkEnabled||!t.inForeground)||bc(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gi("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e=this;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bs.store,eu.store],(function(t){var n=new gu(t,fi.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bc(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Gu.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;gi("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,ru,(function(o){return i=new gu(o,r.Ne?r.Ne.next():fi.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw yi("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new pi(di.FAILED_PRECONDITION,iu);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return yc(e).get(Bs.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new pi(di.FAILED_PRECONDITION,mc)}))},e.prototype.Ze=function(e){var t=new Bs(this.clientId,this.allowTabSynchronization,Date.now());return yc(e).put(Bs.key,t)},e.yt=function(){return cu.yt()},e.prototype.Xe=function(e){var t=this,n=yc(e);return n.get(Bs.key).next((function(e){return t.tn(e)?(gi("IndexedDbPersistence","Releasing primary lease."),n.delete(Bs.key)):su.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(yi("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return gi("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return yi("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){yi("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function yc(e){return yu(e,Bs.store)}function bc(e){return yu(e,eu.store)}function _c(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wc=function(e,t){this.progress=e,this.wn=t},kc=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return Xi.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):qo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new Xi(t)).next((function(e){var t=Ba();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Ba();return this.Ut.getCollectionParents(e,i).next((function(a){return su.forEach(a,(function(a){var s=function(e,t){return new Oo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=fo.newInvalidDocument(c),r=r.insert(c,l)),ya(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Jo(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ha(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ea&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Ec=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ha(),i=Ha(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Sc=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ai.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(jo(t)||Fo(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(mi()<=re.in.DEBUG&&gi("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wo(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new ja(Qo(e));return t.forEach((function(t,r){Jo(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return mi()<=re.in.DEBUG&&gi("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ai.min())},e}(),Tc=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Oa(Ii),this.kn=new sc((function(e){return mo(e)}),go),this.On=Ai.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new kc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Ic(e,t,n,r){return new Tc(e,t,n,r)}function Cc(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return n=Ei(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new kc(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ha(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function xc(e,t){var n=Ei(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=su.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);ki(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Nc(e){var t=Ei(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ac(e,t){var n=Ei(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return ki(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Va();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Pc(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ai.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return su.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function Pc(e,t,n,r,i){var o=Ha();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Va();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ai.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):gi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Dc(e,t){var n=Ei(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Rc(e,t){var n=Ei(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,su.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new wu(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Oc(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:r=Ei(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!fu(a=s.sent()))throw a;return gi("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Lc(e,t,n){var r=Ei(e),i=Ai.min(),o=Ha();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ei(e),i=r.kn.get(n);return void 0!==i?su.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,zo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ai.min(),n?o:Ha())})).next((function(e){return{documents:e,Bn:o}}))}))}function Mc(e,t){var n=Ei(e),r=Ei(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function jc(e){var t=Ei(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ei(e),i=Va(),o=Tu(n),a=fc(t),s=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Js.readTimeIndex,range:s},(function(e,t){var n=Eu(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Iu(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Fc(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){return[2,(t=Ei(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=fc(e),n=Ai.min();return t.Ot({index:Js.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Iu(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Uc(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return(0,hi.Jh)(this,(function(p){switch(p.label){case 0:for(i=Ei(e),o=Ha(),a=Va(),s=Ga(),u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Qn(l.metadata.readTime));return f=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Rc(i,function(e){return zo(Mo(Li.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Pc(e,f,a,Ai.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Vc(e,t,n){return void 0===n&&(n=Ha()),(0,hi.mG)(this,void 0,void 0,(function(){var r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return[4,Rc(e,zo(Du(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ei(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ls(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(Ui.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var qc=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return su.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ls(n.createTime)}),su.resolve()},e.prototype.getNamedQuery=function(e,t){return su.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Du(e.bundledQuery),readTime:ls(e.readTime)}}(t)),su.resolve()},e}(),Bc=function(){function e(){this.Wn=new ja(zc.Gn),this.zn=new ja(zc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new zc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new zc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new Xi(new Li([])),r=new zc(n,e),i=new zc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new Xi(new Li([])),n=new zc(t,e),r=new zc(t,e+1),i=Ha();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new zc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),zc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return Xi.comparator(e.key,t.key)||Ii(e.ns,t.ns)},e.Hn=function(e,t){return Ii(e.ns,t.ns)||Xi.comparator(e.key,t.key)},e}(),Gc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new ja(zc.Gn)}return e.prototype.checkEmpty=function(e){return su.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new bu(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new zc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return su.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return su.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return su.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return su.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return su.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new zc(t,0),i=new zc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),su.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new ja(Ii);return t.forEach((function(e){var t=new zc(e,0),i=new zc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),su.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;Xi.isDocumentKey(i)||(i=i.child(""));var o=new zc(new Xi(i),0),a=new ja(Ii);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),su.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;ki(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return su.forEach(t.mutations,(function(i){var o=new zc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new zc(t,0),r=this.rs.firstAfterOrEqual(n);return su.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,su.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Kc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Oa(Xi.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return su.resolve(n?n.document.clone():fo.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Va();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():fo.newInvalidDocument(e))})),su.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Va(),i=new Xi(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Jo(t,c)&&(r=r.insert(c.key,c.clone()))}return su.resolve(r)},e.prototype.fs=function(e,t){return su.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Hc(this)},e.prototype.getSize=function(e){return su.resolve(this.size)},e}(),Hc=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,hi.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),su.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(uc),Wc=function(){function e(e){this.persistence=e,this.ds=new sc((function(e){return mo(e)}),go),this.lastRemoteSnapshotVersion=Ai.min(),this.highestTargetId=0,this.ws=0,this._s=new Bc,this.targetCount=0,this.ys=Qu.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),su.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return su.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return su.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),su.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),su.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,su.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),su.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,su.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),su.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return su.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return su.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),su.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),su.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),su.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return su.resolve(n)},e.prototype.containsKey=function(e,t){return su.resolve(this._s.containsKey(t))},e}(),Jc=function(){function e(e,t){var n=this;this.gs={},this.Ne=new fi(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Wc(this),this.Ut=new Mu,this.Ue=function(e,t){return new Kc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new ku(t),this.Qe=new qc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Gc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;gi("MemoryPersistence","Starting transaction:",e);var i=new Qc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return su.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Qc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,hi.ZT)(t,e),t}(ou),Xc=function(){function e(e){this.persistence=e,this.As=new Bc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw wi()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),su.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),su.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),su.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return su.forEach(this.vs,(function(r){var i=Xi.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return su.or([function(){return su.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Yc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Zc(e,t){return"firestore_clients_"+e+"_"+t}function $c(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function el(e,t){return"firestore_targets_"+e+"_"+t}Yc.UNAUTHENTICATED=new Yc(null),Yc.GOOGLE_CREDENTIALS=new Yc("google-credentials-uid"),Yc.FIRST_PARTY=new Yc("first-party-uid");var tl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new pi(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(yi("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),nl=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new pi(i.error.code,i.error.message)),o?new e(t,i.state,r):(yi("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),rl=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ja(),a=0;i&&a<r.activeTargetIds.length;++a)i=Qi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(yi("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),il=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(yi("SharedClientState","Failed to parse online state: "+t),null)},e}(),ol=function(){function e(){this.activeTargetIds=Ja()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),al=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Oa(Ii),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Zc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new ol),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l,h=this;return(0,hi.Jh)(this,(function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Zc(this.persistenceKey,r)))&&(o=rl.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.Os;u<c.length;u++)l=c[u],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(el(this.persistenceKey,e));if(n){var r=nl.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(el(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return gi("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){gi("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){gi("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gi("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,hi.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,a;return(0,hi.Jh)(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=fi.o;if(null!=e)try{var n=JSON.parse(e);ki("number"==typeof n),t=n}catch(e){yi("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==fi.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new tl(this.currentUser,e,t,n),i=$c(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=$c(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=el(this.persistenceKey,e),i=new nl(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return rl.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tl.Vs(new Yc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return nl.Vs(r,t)},e.prototype.js=function(e){return il.Vs(e)},e.prototype.ii=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(gi("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Ja();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),sl=function(){function e(){this.li=new ol,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new ol,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),ul=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),cl=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){gi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){gi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ll={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hl=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),fl=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return(0,hi.ZT)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new li;a.listenOnce(ai.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case oi.NO_ERROR:var t=a.getResponseJson();gi("Connection","XHR received:",JSON.stringify(t)),i(t);break;case oi.TIMEOUT:gi("Connection",'RPC "'+e+'" timed out'),o(new pi(di.DEADLINE_EXCEEDED,"Request time out"));break;case oi.HTTP_ERROR:var n=a.getStatus();if(gi("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(di).indexOf(t)>=0?t:di.UNKNOWN}(r.status);o(new pi(s,r.message))}else o(new pi(di.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new pi(di.UNAVAILABLE,"Connection failed."));break;default:wi()}}finally{gi("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=ri(),i=ii(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),(0,ne.uI)()||(0,ne.b$)()||(0,ne.d)()||(0,ne.w1)()||(0,ne.Mn)()||(0,ne.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");gi("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new hl({Ei:function(e){c?gi("Connection","Not sending because WebChannel is closed:",e):(u||(gi("Connection","Opening WebChannel transport."),s.open(),u=!0),gi("Connection","WebChannel sending:",e),s.send(e))},Ti:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ci.EventType.OPEN,(function(){c||gi("Connection","WebChannel transport opened.")})),h(s,ci.EventType.CLOSE,(function(){c||(c=!0,gi("Connection","WebChannel transport closed"),l.Vi())})),h(s,ci.EventType.ERROR,(function(e){c||(c=!0,bi("Connection","WebChannel transport errored:",e),l.Vi(new pi(di.UNAVAILABLE,"The operation could not be completed")))})),h(s,ci.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];ki(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gi("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Ca[e];if(void 0!==t)return Ra(t)}(o),u=i.message;void 0===a&&(a=di.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new pi(a,u)),s.close()}else gi("Connection","WebChannel received:",n),l.Si(n)}})),h(i,si.STAT_EVENT,(function(e){e.stat===ui.PROXY?gi("Connection","Detected buffering proxy"):e.stat===ui.NOPROXY&&gi("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);gi("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return gi("RestConnection","Received: ",e),e}),(function(t){throw bi("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ll[e];return this.Di+"/v1/"+t+":"+n},e}());function dl(){return"undefined"!=typeof window?window:null}function pl(){return"undefined"!=typeof document?document:null}function vl(e){return new as(e,!0)}var ml=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&gi("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),gl=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ml(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===di.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===di.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new pi(di.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,hi.mG)(e,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return gi("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(gi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),yl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,hi.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(ki(void 0===t||"string"==typeof t),Ui.fromBase64String(t||"")):(ki(void 0===t||t instanceof Uint8Array),Ui.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?di.UNKNOWN:Ra(e.code);return new pi(t,e.message||"")}(s);n=new $a(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ps(e,r.document.name),o=ls(r.document.updateTime);var s=new lo({mapValue:{fields:r.document.fields}}),u=(a=fo.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new Ya(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ps(e,r.document),o=r.readTime?ls(r.readTime):Ai.min(),s=fo.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ya([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ps(e,r.document),o=r.removedTargetIds||[],n=new Ya([],o,i,null);else{if(!("filter"in t))return wi();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Pa(r),o=l.targetId,n=new Za(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Ai.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ai.min():t.readTime?ls(t.readTime):Ai.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=gs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=yo(r)?{documents:Es(e,r)}:{query:Ss(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=us(e,t.resumeToken):t.snapshotVersion.compareTo(Ai.min())>0&&(n.readTime=ss(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wi()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=gs(this.R),t.removeTarget=e,this.cr(t)},t}(gl),bl=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,hi.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(ki(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(ki(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ls(e.updateTime):ls(t);return n.isEqual(Ai.min())&&(n=ls(t)),new da(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ls(e.commitTime);return this.listener.Tr(n,t)}return ki(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=gs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ws(t.R,e)}))};this.cr(n)},t}(gl),_l=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,hi.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new pi(di.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===di.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new pi(di.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===di.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new pi(di.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),wl=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(yi(t),this.Vr=!1):gi("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),kl=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,hi.mG)(o,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return Pl(this)?(gi("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return(t=Ei(e)).$r.add(4),[4,Sl(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,El(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new wl(n,r)};function El(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:if(!Pl(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Sl(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Tl(e,t){var n=Ei(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Al(n)?Nl(n):Hl(n).er()&&Cl(n,t))}function Il(e,t){var n=Ei(e),r=Hl(n);n.Or.delete(t),r.er()&&xl(n,t),0===n.Or.size&&(r.er()?r.ir():Pl(n)&&n.Br.set("Unknown"))}function Cl(e,t){e.qr.U(t.targetId),Hl(e).mr(t)}function xl(e,t){e.qr.U(t),Hl(e).yr(t)}function Nl(e){e.qr=new ts({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Hl(e).start(),e.Br.Sr()}function Al(e){return Pl(e)&&!Hl(e).tr()&&e.Or.size>0}function Pl(e){return 0===Ei(e).$r.size}function Dl(e){e.qr=void 0}function Rl(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return e.Or.forEach((function(t,n){Cl(e,t)})),[2]}))}))}function Ol(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(n){return Dl(e),Al(e)?(e.Br.Nr(t),Nl(e)):e.Br.set("Unknown"),[2]}))}))}function Ll(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof $a&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),gi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Ml(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ya?e.qr.X(t):t instanceof Za?e.qr.rt(t):e.qr.et(t),n.isEqual(Ai.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Nc(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(Ui.EMPTY_BYTE_STRING,n.snapshotVersion)),xl(e,t);var r=new wu(n.target,t,1,n.sequenceNumber);Cl(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return gi("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Ml(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Ml(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r=this;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:if(!fu(t))throw t;return e.$r.add(1),[4,Sl(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Nc(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,hi.mG)(r,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return gi("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,El(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function jl(e,t){return t().catch((function(n){return Ml(e,n,t)}))}function Fl(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:t=Ei(e),n=Wl(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Pl(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Dc(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Wl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Ml(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Ul(t)&&Vl(t),[2]}}))}))}function Ul(e){return Pl(e)&&!Wl(e).tr()&&e.kr.length>0}function Vl(e){Wl(e).start()}function ql(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return Wl(e).Ar(),[2]}))}))}function Bl(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,hi.Jh)(this,(function(o){for(t=Wl(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function zl(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=_u.from(r,t,n),[4,jl(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Fl(e)];case 2:return o.sent(),[2]}}))}))}function Gl(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t&&Wl(e).pr?[4,function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return Da(r=t.code)&&r!==di.ABORTED?(n=e.kr.shift(),Wl(e).sr(),[4,jl(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Fl(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ul(e)&&Vl(e),[2]}}))}))}function Kl(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return n=Ei(e),t?(n.$r.delete(2),[4,El(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Sl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Hl(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Ei(e);return r.br(),new yl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Rl.bind(null,e),Ri:Ol.bind(null,e),_r:Ll.bind(null,e)}),e.Mr.push((function(n){return(0,hi.mG)(t,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Al(e)?Nl(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Dl(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Wl(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Ei(e);return r.br(),new bl(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:ql.bind(null,e),Ri:Gl.bind(null,e),Ir:Bl.bind(null,e),Tr:zl.bind(null,e)}),e.Mr.push((function(n){return(0,hi.mG)(t,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Fl(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(gi("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Jl=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new au,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pi(di.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ql(e,t){if(yi("AsyncQueue",t+": "+e),fu(e))return new pi(di.UNAVAILABLE,t+": "+e);throw e}var Xl=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||Xi.comparator(t.key,n.key)}:function(e,t){return Xi.comparator(e.key,t.key)},this.keyedMap=Ba(),this.sortedSet=new Oa(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Yl=function(){function e(){this.Kr=new Oa(Xi.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):wi():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Zl=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Xl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ko(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),$l=function(){this.Wr=void 0,this.listeners=[]},eh=function(){this.queries=new sc((function(e){return Ho(e)}),Ko),this.onlineState="Unknown",this.Gr=new Set};function th(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:if(n=Ei(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new $l),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=Ql(s,"Initialization of query '"+Wo(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&oh(n),[2]}}))}))}function nh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,hi.Jh)(this,(function(s){return n=Ei(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function rh(e,t){for(var n=Ei(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&oh(n)}function ih(e,t,n){var r=Ei(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function oh(e){e.Gr.forEach((function(e){e.next()}))}var ah=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Zl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),sh=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),uh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ps(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?_s(this.R,e.document,!1):fo.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return ls(e)},e}(),ch=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=lh(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new uh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Ha()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return[4,Uc(this.localStore,new uh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,Vc(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new wc(Object.assign({},this.progress),e))]}}))}))},e}();function lh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var hh=function(e){this.key=e},fh=function(e){this.key=e},dh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ha(),this.mutatedKeys=Ha(),this.lo=Qo(e),this.fo=new Xl(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Yl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=jo(this.query)&&i.size===this.query.limit?i.last():null,c=Fo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Jo(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),jo(this.query)||Fo(this.query))for(;a.size>this.query.limit;){var l=jo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wi()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Zl(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ha(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new fh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new hh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ha();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Zl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ph=function(e,t,n){this.query=e,this.targetId=t,this.view=n},vh=function(e){this.key=e,this.bo=!1},mh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new sc((function(e){return Ho(e)}),Ko),this.Vo=new Map,this.So=new Set,this.Do=new Oa(Xi.comparator),this.Co=new Map,this.No=new Bc,this.xo={},this.Fo=new Map,this.ko=Qu.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function gh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return n=Hh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Rc(n.localStore,zo(t))];case 2:return a=u.sent(),s=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,yh(n,t,r,"current"===s)];case 3:i=u.sent(),n.isPrimaryClient&&Tl(n.remoteStore,a),u.label=4;case 4:return[2,i]}}))}))}function yh(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,hi.Jh)(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return(i=t.view._o(n)).Nn?[4,Lc(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Ph(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Lc(e.localStore,t,!0)];case 1:return i=l.sent(),o=new dh(t,i.Bn),a=o._o(i.documents),s=Xa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(a,e.isPrimaryClient,s),Ph(e,n,u.To),c=new ph(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),u.snapshot)]}}))}))}function bh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return n=Ei(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!Ko(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Oc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Il(n.remoteStore,r.targetId),Nh(n,r.targetId)})).catch(ec)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Nh(n,r.targetId),[4,Oc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function _h(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:r=Wh(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(e,t){var n,r=Ei(e),i=Ni.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ha());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=ba(c,n.get(c.key));null!=l&&a.push(new Ea(c.key,l,ho(l.toProto().mapValue),pa.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Oa(Ii)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Oh(r,i.changes)];case 3:return s.sent(),[4,Fl(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=Ql(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function wh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:n=Ei(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ac(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(ki(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?ki(r.bo):e.removedDocuments.size>0&&(ki(r.bo),r.bo=!1))})),[4,Oh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ec(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function kh(e,t,n){var r=Ei(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ei(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&oh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Eh(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:return(r=Ei(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Oa(Xi.comparator)).insert(o,fo.newNoDocument(o,Ai.min())),s=Ha().add(o),u=new Qa(Ai.min(),new Map,new ja(Ii),a,s),[4,wh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Rh(r),[3,4];case 2:return[4,Oc(r.localStore,t,!1).then((function(){return Nh(r,t,n)})).catch(ec)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Sh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:n=Ei(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,xc(n.localStore,t)];case 2:return i=o.sent(),xh(n,r,null),Ch(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Oh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ec(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Th(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:r=Ei(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return ki(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),xh(r,t,n),Ch(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Oh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ec(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ih(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:Pl((n=Ei(e)).remoteStore)||gi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(e){var t=Ei(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=Ql(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Ch(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function xh(e,t,n){var r=Ei(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Nh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ah(e,t)}))}function Ah(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Il(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Rh(e))}function Ph(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof hh?(e.No.addReference(o.key,t),Dh(e,o)):o instanceof fh?(gi("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Ah(e,o.key)):wi()}}function Dh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(gi("SyncEngine","New document in limbo: "+n),e.So.add(r),Rh(e))}function Rh(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Xi(Li.fromString(t)),r=e.ko.next();e.Co.set(r,new vh(n)),e.Do=e.Do.insert(n,r),Tl(e.remoteStore,new wu(zo(Mo(n.path)),r,2,fi.o))}}function Oh(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return r=Ei(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.$o(s,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Ec.Pn(s.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l;return(0,hi.Jh)(this,(function(h){switch(h.label){case 0:n=Ei(e),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return su.forEach(t,(function(t){return su.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return su.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!fu(r=h.sent()))throw r;return gi("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],s=a.targetId,a.fromCache||(u=n.Fn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(s,l));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Lh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return(n=Ei(e)).currentUser.isEqual(t)?[3,3]:(gi("SyncEngine","User change. New user:",t.toKey()),[4,Cc(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new pi(di.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Oh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Mh(e,t){var n=Ei(e),r=n.Co.get(t);if(r&&r.bo)return Ha().add(r.key);var i=Ha(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function jh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return[4,Lc((n=Ei(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Ph(n,t.targetId,i.To),i)]}}))}))}function Fh(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){return[2,jc((t=Ei(e)).localStore).then((function(e){return Oh(t,e)}))]}))}))}function Uh(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Ei(e),r=Ei(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):su.resolve(null)}))}))}((i=Ei(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Fl(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(xh(i,t,r||null),Ch(i,t),function(e,t){Ei(Ei(e)._n).Gt(t)}(i.localStore,t)):wi(),a.label=4;case 4:return[4,Oh(i,o)];case 5:return a.sent(),[3,7];case 6:gi("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Vh(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return(0,hi.Jh)(this,(function(l){switch(l.label){case 0:return Hh(n=Ei(e)),Wh(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,qh(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Kl(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],Tl(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return Nh(n,t),Oc(n.localStore,t,!0)})),Il(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,qh(n,u)];case 5:return l.sent(),function(e){var t=Ei(e);t.Co.forEach((function(e,n){Il(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Oa(Xi.comparator)}(n),n.Oo=!1,[4,Kl(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function qh(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p,v;return(0,hi.Jh)(this,(function(m){switch(m.label){case 0:n=Ei(e),r=[],i=[],o=0,a=t,m.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,Rc(n.localStore,zo(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=h[l],d=n.Po.get(f),[4,jh(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Mc(n.localStore,s)];case 8:return v=m.sent(),[4,Rc(n.localStore,v)];case 9:return u=m.sent(),[4,yh(n,Bh(v),s,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Bh(e){return Lo(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zh(e){var t=Ei(e);return Ei(Ei(t.localStore).persistence).fn()}function Gh(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return(i=Ei(e)).Oo?(gi("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,jc(i.localStore)];case 3:return o=s.sent(),a=Qa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Oh(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Oc(i.localStore,t,!0)];case 6:return s.sent(),Nh(i,t,r),[3,8];case 7:wi(),s.label=8;case 8:return[2]}}))}))}function Kh(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return(0,hi.Jh)(this,(function(d){switch(d.label){case 0:if(!(r=Hh(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(gi("SyncEngine","Adding an already active target "+a),[3,5]):[4,Mc(r.localStore,a)]):[3,6];case 2:return s=d.sent(),[4,Rc(r.localStore,s)];case 3:return u=d.sent(),[4,yh(r,Bh(s),u.targetId,!1)];case 4:d.sent(),Tl(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Oc(r.localStore,e,!1).then((function(){Il(r.remoteStore,e),Nh(r,e)})).catch(ec)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Hh(e){var t=Ei(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eh.bind(null,t),t.vo._r=rh.bind(null,t.eventManager),t.vo.Mo=ih.bind(null,t.eventManager),t}function Wh(e){var t=Ei(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Th.bind(null,t),t}function Jh(e,t,n){var r=Ei(e);(function(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=c.sent(),[4,function(e,t){var n=Ei(e),r=ls(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qe.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return c.sent()?[4,t.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(lh(r)),i=new ch(r,e.localStore,t.R),[4,t.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=c.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Oh(e,s.wn,void 0)];case 12:return c.sent(),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qe.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return c.sent(),n._completeWith(s.progress),[3,15];case 14:return bi("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Qh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return this.R=vl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Ic(this.persistence,new Sc,e.initialUser,this.R)},e.prototype.qo=function(e){return new Jc(Xc.bs,this.R)},e.prototype.Bo=function(e){return new sl},e.prototype.terminate=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Xh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,hi.ZT)(t,e),t.prototype.initialize=function(t){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Fc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Wh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Fl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Ic(this.persistence,new Sc,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new rc(t,e.asyncQueue)},t.prototype.qo=function(e){var t=_c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?qu.withCacheSize(this.cacheSizeBytes):qu.DEFAULT;return new gc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dl(),pl(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new sl},t}(Qh),Yh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,hi.ZT)(t,e),t.prototype.initialize=function(t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof al?(this.sharedClientState.syncEngine={ui:Uh.bind(null,n),ai:Gh.bind(null,n),hi:Kh.bind(null,n),fn:zh.bind(null,n),ci:Fh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,hi.mG)(r,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return[4,Vh(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=dl();if(!al.yt(t))throw new pi(di.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_c(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new al(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Xh),Zh=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n=this;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Lh.bind(null,this.syncEngine),[4,Kl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new eh},e.prototype.createDatastore=function(e){var t,n=vl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new fl(t));return function(e,t,n){return new _l(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return kh(a.syncEngine,e,0)},o=cl.yt()?new cl:new ul,new kl(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new mh(e,t,n,r,i,o);return a&&(s.Oo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=Ei(e),gi("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Sl(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function $h(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,hi.mG)(this,void 0,void 0,(function(){var r;return(0,hi.Jh)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ef=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),tf=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new au,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new sh(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),nf=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new pi(di.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return n=Ei(e),r=gs(n.R)+"/documents",i={documents:t.map((function(e){return ds(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){ki(!!t.found),t.found.name,t.found.updateTime;var n=ps(e,t.found.name),r=ls(t.found.updateTime),i=new lo({mapValue:{fields:t.found.fields}});return fo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ki(!!t.missing),ki(!!t.readTime);var n=ps(e,t.missing),r=ls(t.readTime);return fo.newNoDocument(n,r)}(e,t):wi()}(n.R,e);a.set(t.key.toString(),t)})),s=[],[2,(t.forEach((function(e){var t=a.get(e.toString());ki(!!t),s.push(t)})),s)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Na(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=Xi.fromPath(n);t.mutations.push(new Aa(r,t.precondition(r)))})),[4,function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return n=Ei(e),r=gs(n.R)+"/documents",i={writes:t.map((function(e){return ws(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wi();t=Ai.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new pi(di.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?pa.updateTime(t):pa.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ai.min()))throw new pi(di.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pa.updateTime(t)}return pa.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),rf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ml(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,hi.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,hi.Jh)(this,(function(r){return e=new nf(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Wi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Da(t)}return!1},e}(),of=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Yc.UNAUTHENTICATED,this.clientId=Ti.u(),this.credentialListener=function(){},this.receivedInitialUser=new au,this.credentials.setChangeListener((function(e){gi("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new pi(di.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new au;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,hi.mG)(e,void 0,void 0,(function(){var e,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Ql(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function af(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),gi("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return(0,hi.mG)(i,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return[4,Cc(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function sf(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,uf(e)];case 1:return n=i.sent(),gi("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return(n=Ei(e)).asyncQueue.verifyOperationInProgress(),gi("RemoteStore","RemoteStore received new credentials"),r=Pl(n),n.$r.add(3),[4,Sl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,El(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function uf(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(gi("FirestoreClient","Using default OfflineComponentProvider"),[4,af(e,new Qh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function cf(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(gi("FirestoreClient","Using default OnlineComponentProvider"),[4,sf(e,new Zh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function lf(e){return uf(e).then((function(e){return e.persistence}))}function hf(e){return uf(e).then((function(e){return e.localStore}))}function ff(e){return cf(e).then((function(e){return e.remoteStore}))}function df(e){return cf(e).then((function(e){return e.syncEngine}))}function pf(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,cf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=gh.bind(null,t.syncEngine),n.onUnlisten=bh.bind(null,t.syncEngine),n)]}}))}))}function vf(e,t,n){var r=this;void 0===n&&(n={});var i=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(r,void 0,void 0,(function(){var r;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ef({next:function(o){t.enqueueAndForget((function(){return nh(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new pi(di.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new pi(di.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ah(Mo(n.path),o,{includeMetadataChanges:!0,so:!0});return th(e,a)},[4,pf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function mf(e,t,n){var r=this;void 0===n&&(n={});var i=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(r,void 0,void 0,(function(){var r;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new ef({next:function(n){t.enqueueAndForget((function(){return nh(e,a)})),n.fromCache&&"server"===r.source?i.reject(new pi(di.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ah(n,o,{includeMetadataChanges:!0,so:!0});return th(e,a)},[4,pf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var gf=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},yf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),bf=new Map,_f=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},wf=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Yc.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),kf=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Ef=function(){function e(e){var t=this;this.oc=null,this.currentUser=Yc.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(gi("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ki("string"==typeof n.accessToken),new _f(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return ki(null===e||"string"==typeof e),new Yc(e)},e}(),Sf=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Yc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),Tf=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new Sf(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Yc.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function If(e,t,n){if(!n)throw new pi(di.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Cf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new pi(di.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function xf(e,t,n,r){if(!0===t&&!0===r)throw new pi(di.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Nf(e){if(!Xi.isDocumentKey(e))throw new pi(di.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Af(e){if(Xi.isDocumentKey(e))throw new pi(di.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Pf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":wi()}function Df(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pi(di.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pf(e);throw new pi(di.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Rf(e,t){if(t<=0)throw new pi(di.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Of=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pi(di.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pi(di.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,xf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Lf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Of({}),this._settingsFrozen=!1,e instanceof yf?(this._databaseId=e,this._credentials=new wf):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pi(di.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(e.options.projectId)}(e),this._credentials=new Ef(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new pi(di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new pi(di.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Of(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new wf;switch(e.type){case"gapi":var t=e.client;return ki(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Tf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new pi(di.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=bf.get(this))&&(gi("ComponentProvider","Removing Datastore"),bf.delete(this),e.terminate()),Promise.resolve();var e},e}(),Mf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ff(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),jf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ff=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Mo(r))||this)._path=r,i.type="collection",i}return(0,hi.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Mf(this.firestore,null,new Xi(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(jf);function Uf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ne.m9)(e),If("collection","path",t),e instanceof Lf)return Af(n=Li.fromString.apply(Li,(0,hi.ev)([t],r))),new Ff(e,null,n);if(!(e instanceof Mf||e instanceof Ff))throw new pi(di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Af(n=Li.fromString.apply(Li,(0,hi.ev)([e.path],r)).child(Li.fromString(t))),new Ff(e.firestore,null,n)}function Vf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,ne.m9)(e),1===arguments.length&&(t=Ti.u()),If("doc","path",t),e instanceof Lf)return Nf(n=Li.fromString.apply(Li,(0,hi.ev)([t],r))),new Mf(e,null,new Xi(n));if(!(e instanceof Mf||e instanceof Ff))throw new pi(di.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nf(n=e._path.child(Li.fromString.apply(Li,(0,hi.ev)([t],r)))),new Mf(e.firestore,e instanceof Ff?e.converter:null,new Xi(n))}function qf(e,t){return e=(0,ne.m9)(e),t=(0,ne.m9)(t),(e instanceof Mf||e instanceof Ff)&&(t instanceof Mf||t instanceof Ff)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bf(e,t){return e=(0,ne.m9)(e),t=(0,ne.m9)(t),e instanceof jf&&t instanceof jf&&e.firestore===t.firestore&&Ko(e._query,t._query)&&e.converter===t.converter}var zf=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ml(this,"async_queue_retry"),this.Ec=function(){var t=pl();t&&gi("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=pl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=pl();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!fu(e=n.sent()))throw e;return gi("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=Jl.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&wi()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function Gf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Kf=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new au,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Hf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new zf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,hi.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Jf(this),this._firestoreClient.terminate()},t}(Lf);function Wf(e){return e._firestoreClient||Jf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Jf(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new gf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new of(e._credentials,e._queue,r)}function Qf(e,t,n){var r=this,i=new au;return e.asyncQueue.enqueue((function(){return(0,hi.mG)(r,void 0,void 0,(function(){var r;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,af(e,n)];case 1:return o.sent(),[4,sf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===di.FAILED_PRECONDITION||e.code===di.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Xf(e){if(e._initialized||e._terminated)throw new pi(di.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Yf=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new pi(di.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Zf=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Ui.fromBase64String(t))}catch(t){throw new pi(di.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Ui.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),$f=function(e){this._methodName=e},ed=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new pi(di.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pi(di.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Ii(this._lat,e._lat)||Ii(this._long,e._long)},e}(),td=/^__.*__$/,nd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)},e}(),rd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function id(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wi()}}var od=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return Td(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(id(this.Dc)&&td.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),ad=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||vl(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new od({Dc:e,methodName:t,Lc:n,path:ji.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function sd(e){var t=e._freezeSettings(),n=vl(e._databaseId);return new ad(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ud(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);wd("Data must be an object, but it was:",a,r);var s,u,c=bd(r,a);if(o.merge)s=new Fi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=kd(t,f[h],n);if(!a.contains(d))throw new pi(di.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Id(l,d)||l.push(d)}s=new Fi(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new nd(new lo(c),s,u)}var cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}($f);function ld(e,t,n){return new od({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var hd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new fa(e.path,new ia)},t.prototype.isEqual=function(e){return e instanceof t},t}($f),fd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,hi.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=ld(this,e,!0),n=this.qc.map((function(e){return yd(e,t)})),r=new oa(n);return new fa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($f),dd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return(0,hi.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=ld(this,e,!0),n=this.qc.map((function(e){return yd(e,t)})),r=new sa(n);return new fa(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}($f),pd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return(0,hi.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new ca(e.R,$o(e.R,this.Uc));return new fa(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}($f);function vd(e,t,n,r){var i=e.Bc(1,t,n);wd("Data must be an object, but it was:",i,r);var o=[],a=lo.empty();Di(r,(function(e,r){var s=Sd(t,e,n);r=(0,ne.m9)(r);var u=i.kc(s);if(r instanceof cd)o.push(s);else{var c=yd(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Fi(o);return new rd(a,s,i.fieldTransforms)}function md(e,t,n,r,i,o){var a=e.Bc(1,t,n),s=[kd(t,r,n)],u=[i];if(o.length%2!=0)throw new pi(di.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(kd(t,o[c])),u.push(o[c+1]);for(var l=[],h=lo.empty(),f=s.length-1;f>=0;--f)if(!Id(l,s[f])){var d=s[f],p=u[f];p=(0,ne.m9)(p);var v=a.kc(d);if(p instanceof cd)l.push(d);else{var m=yd(p,v);null!=m&&(l.push(d),h.set(d,m))}}var g=new Fi(l);return new rd(h,g,a.fieldTransforms)}function gd(e,t,n,r){return void 0===r&&(r=!1),yd(n,e.Bc(r?4:3,t))}function yd(e,t){if(_d(e=(0,ne.m9)(e)))return wd("Unsupported field value:",t,e),bd(e,t);if(e instanceof $f)return function(e,t){if(!id(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=yd(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,ne.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return $o(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ni.fromDate(e);return{timestampValue:ss(t.R,n)}}if(e instanceof Ni)return n=new Ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ss(t.R,n)};if(e instanceof ed)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Zf)return{bytesValue:us(t.R,e._byteString)};if(e instanceof Mf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:hs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Pf(e))}(e,t)}function bd(e,t){var n={};return Ri(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Di(e,(function(e,r){var i=yd(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _d(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ni||e instanceof ed||e instanceof Zf||e instanceof Mf||e instanceof $f)}function wd(e,t,n){if(!_d(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Pf(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function kd(e,t,n){if((t=(0,ne.m9)(t))instanceof Yf)return t._internalPath;if("string"==typeof t)return Sd(e,t);throw Td("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ed=new RegExp("[~\\*/\\[\\]]");function Sd(e,t,n){if(t.search(Ed)>=0)throw Td("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Yf.bind.apply(Yf,(0,hi.ev)([void 0],t.split(".")))))._internalPath}catch(_e){throw Td("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Td(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new pi(di.INVALID_ARGUMENT,(s+=". ")+e+u)}function Id(e,t){return e.some((function(e){return e.isEqual(t)}))}var Cd=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Mf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new xd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Cd);function Nd(e,t){return"string"==typeof t?Sd(e,t):t instanceof Yf?t._internalPath:t._delegate._internalPath}var Ad=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Pd=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,hi.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Cd),Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Pd),Rd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ad(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Dd(n._firestore,n._userDataWriter,r.key,r,new Ad(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pi(di.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Dd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ad(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Dd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ad(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Od(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Od(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wi()}}function Ld(e,t){return e instanceof Pd&&t instanceof Pd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Rd&&t instanceof Rd&&e._firestore===t._firestore&&Bf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Md(e){if(Fo(e)&&0===e.explicitOrderBy.length)throw new pi(di.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jd=function(){};function Fd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Ud=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return(0,hi.ZT)(t,e),t.prototype._apply=function(e){var t=sd(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hd(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Kd(r,e,h))}s={arrayValue:{values:u}}}else s=Kd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hd(a,o),s=gd(n,"where",a,"in"===o||"not-in"===o);var f=bo.create(i,o,s);return function(e,t){if(t.g()){var n=Vo(e);if(null!==n&&!n.isEqual(t.field))throw new pi(di.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Uo(e);null!==r&&Wd(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new pi(di.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new pi(di.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new jf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(jd),Vd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return(0,hi.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new pi(di.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new pi(di.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ao(t,n);return function(e,t){if(null===Uo(e)){var n=Vo(e);null!==n&&Wd(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new jf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Oo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(jd),qd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return(0,hi.ZT)(t,e),t.prototype._apply=function(e){return new jf(e.firestore,e.converter,Go(e._query,this.Gc,this.zc))},t}(jd),Bd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,hi.ZT)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Hc,this.Jc);return new jf(e.firestore,e.converter,function(e,t){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(jd),zd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,hi.ZT)(t,e),t.prototype._apply=function(e){var t=Gd(e,this.type,this.Hc,this.Jc);return new jf(e.firestore,e.converter,function(e,t){return new Oo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(jd);function Gd(e,t,n,r){if(n[0]=(0,ne.m9)(n[0]),n[0]instanceof Cd)return function(e,t,n,r,i){if(!r)throw new pi(di.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Bo(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(io(t,r.key));else{var c=r.data.field(u.field);if(Gi(c))throw new pi(di.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new pi(di.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new xo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sd(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new pi(di.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new pi(di.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!qo(e)&&-1!==c.indexOf("/"))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Li.fromString(c));if(!Xi.isDocumentKey(l))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Xi(l);s.push(io(t,h))}else{var f=gd(n,r,c);s.push(f)}}return new xo(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Kd(e,t,n){if("string"==typeof(n=(0,ne.m9)(n))){if(""===n)throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qo(t)&&-1!==n.indexOf("/"))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Li.fromString(n));if(!Xi.isDocumentKey(r))throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return io(e,new Xi(r))}if(n instanceof Mf)return io(e,n._key);throw new pi(di.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pf(n)+".")}function Hd(e,t){if(!Array.isArray(e)||0===e.length)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new pi(di.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Wd(e,t,n){if(!n.isEqual(t))throw new pi(di.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jd=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wi()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Di(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new ed(Bi(e.latitude),Bi(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ki(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Hi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=qi(e);return new Ni(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Li.fromString(e);ki(Ms(n));var r=new yf(n.get(1),n.get(3)),i=new Xi(n.popFirst(5));return r.isEqual(t)||yi("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Qd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Xd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,hi.ZT)(t,e),t.prototype.convertBytes=function(e){return new Zf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mf(this.firestore,null,t)},t}(Jd),Yd=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sd(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Zd(e,this._firestore),i=Qd(r.converter,t,n),o=ud(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,pa.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Zd(e,this._firestore);return o="string"==typeof(t=(0,ne.m9)(t))||t instanceof Yf?md(this._dataReader,"WriteBatch.update",a._key,t,n,r):vd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,pa.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Zd(e,this._firestore);return this._mutations=this._mutations.concat(new Na(t._key,pa.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new pi(di.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Zd(e,t){if((e=(0,ne.m9)(e)).firestore!==t)throw new pi(di.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var $d=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,hi.ZT)(t,e),t.prototype.convertBytes=function(e){return new Zf(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mf(this.firestore,null,t)},t}(Jd);function ep(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Df(e,Mf);var o=Df(e.firestore,Hf),a=sd(o);return np(o,[("string"==typeof(t=(0,ne.m9)(t))||t instanceof Yf?md(a,"updateDoc",e._key,t,n,r):vd(a,"updateDoc",e._key,t)).toMutation(e._key,pa.exists(!0))])}function tp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,ne.m9)(e);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gf(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gf(i[s])){var f=i[s];i[s]=null===(t=f.next)||void 0===t?void 0:t.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof Mf)c=Df(e.firestore,Hf),l=Mo(e._key.path),u={next:function(t){i[s]&&i[s](rp(c,e,t))},error:i[s+1],complete:i[s+2]};else{var d=Df(e,jf);c=Df(d.firestore,Hf),l=d._query;var p=new $d(c);u={next:function(e){i[s]&&i[s](new Rd(c,p,d,e))},error:i[s+1],complete:i[s+2]},Md(e._query)}return function(e,t,n,r){var i=this,o=new ef(r),a=new ah(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(i,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=th,[4,pf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(i,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=nh,[4,pf(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Wf(c),l,h,u)}function np(e,t){return function(e,t){var n=this,r=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return n=_h,[4,df(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Wf(e),t)}function rp(e,t,n){var r=n.docs.get(t._key),i=new $d(e);return new Pd(e,i,t._key,r,new Ad(n.hasPendingWrites,n.fromCache),t.converter)}var ip=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,hi.ZT)(t,e),t.prototype.get=function(t){var n=this,r=Zd(t,this._firestore),i=new $d(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Pd(n._firestore,i,r._key,e._document,new Ad(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=sd(e)}return e.prototype.get=function(e){var t=this,n=Zd(e,this._firestore),r=new Xd(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wi();var i=e[0];if(i.isFoundDocument())return new Cd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cd(t._firestore,r,n._key,null,n.converter);throw wi()}))},e.prototype.set=function(e,t,n){var r=Zd(e,this._firestore),i=Qd(r.converter,t,n),o=ud(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Zd(e,this._firestore);return o="string"==typeof(t=(0,ne.m9)(t))||t instanceof Yf?md(this._dataReader,"Transaction.update",a._key,t,n,r):vd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Zd(e,this._firestore);return this._transaction.delete(t._key),this},e}());function op(){if("undefined"==typeof Uint8Array)throw new pi(di.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ap(){if("undefined"==typeof atob)throw new pi(di.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sp=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return ap(),new e(Zf.fromBase64String(t))},e.fromUint8Array=function(t){return op(),new e(Zf.fromUint8Array(t))},e.prototype.toBase64=function(){return ap(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return op(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),up=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Xf(e=Df(e,Hf));var n=Wf(e),r=e._freezeSettings(),i=new Zh;return Qf(n,i,new Xh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Xf(e=Df(e,Hf));var t=Wf(e),n=e._freezeSettings(),r=new Zh;return Qf(t,r,new Yh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new pi(di.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new au;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,hi.mG)(t,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return cu.yt()?(t=e+"main",[4,cu.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(_c(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),cp=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof yf||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Df(e,Lf))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&bi("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=(0,ne.Sg)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new pi(di.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new kf(new _f(o,new Yc(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,hi.mG)(t,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,lf(e)];case 1:return t=r.sent(),[4,ff(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Ei(e);return t.$r.delete(0),El(t)}(n))]}}))}))}))}(Wf(Df(this._delegate,Hf)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,hi.mG)(t,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,lf(e)];case 1:return t=r.sent(),[4,ff(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return(t=Ei(e)).$r.add(0),[4,Sl(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Wf(Df(this._delegate,Hf)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&xf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(t,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return t=Ih,[4,df(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Wf(Df(this._delegate,Hf)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new ef(t);return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ei(e).Gr.add(t),t.next()},[4,pf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Ei(e).Gr.delete(t)},[4,pf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Wf(e=Df(e,Hf)),Gf(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new pi(di.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ep(this,Uf(this._delegate,e))}catch(e){throw vp(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new pp(this,Vf(this._delegate,e))}catch(e){throw vp(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new _p(this,function(e,t){if(e=Df(e,Lf),If("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new pi(di.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new jf(e,null,function(e){return new Oo(Li.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw vp(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return cf(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new rf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Wf(e),(function(n){return t(new ip(e,n))}))}(this._delegate,(function(n){return e(new hp(t,n))}))},e.prototype.batch=function(){var e=this;return Wf(this._delegate),new fp(new Yd(this._delegate,(function(t){return np(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new pi(di.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new pi(di.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),lp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,hi.ZT)(t,e),t.prototype.convertBytes=function(e){return new sp(new Zf(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pp.Zc(t,this.firestore,null)},t}(Jd);var hp=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lp(e)}return e.prototype.get=function(e){var t=this,n=Sp(e);return this._delegate.get(n).then((function(e){return new yp(t._firestore,new Pd(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Sp(e);return n?(Cf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,hi.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Sp(e);return this._delegate.delete(t),this},e}(),fp=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Sp(e);return n?(Cf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sp(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,(0,hi.ev)([a,t,n],i)),this},e.prototype.delete=function(e){var t=Sp(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),dp=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Dd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bp(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new lp(t),n),i.set(n,o)),o},e}();dp.eu=new WeakMap;var pp=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lp(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new pi(di.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Mf(n._delegate,r,new Xi(t)))},e.Zc=function(t,n,r){return new e(n,new Mf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ep(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ep(this.firestore,Uf(this._delegate,e))}catch(e){throw vp(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,ne.m9)(e))instanceof Mf&&qf(this._delegate,e)},e.prototype.set=function(e,t){t=Cf("DocumentReference.set",t);try{return function(e,t,n){e=Df(e,Mf);var r=Df(e.firestore,Hf),i=Qd(e.converter,t,n);return np(r,[ud(sd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,pa.none())])}(this._delegate,e,t)}catch(e){throw vp(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ep(this._delegate,e):ep.apply(void 0,(0,hi.ev)([this._delegate,e,t],n))}catch(e){throw vp(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return np(Df((e=this._delegate).firestore,Hf),[new Na(e._key,pa.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mp(t),i=gp(t,(function(t){return new yp(e.firestore,new Pd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return tp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Df(e,Mf);var t=Df(e.firestore,Hf),n=Wf(t),r=new $d(t);return function(e,t){var n=this,r=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Ei(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new pi(di.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ql(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,hf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Pd(t,r,e._key,n,new Ad(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Df(e,Mf);var t=Df(e.firestore,Hf);return vf(Wf(t),e._key,{source:"server"}).then((function(n){return rp(t,e,n)}))}(this._delegate):function(e){e=Df(e,Mf);var t=Df(e.firestore,Hf);return vf(Wf(t),e._key).then((function(n){return rp(t,e,n)}))}(this._delegate)).then((function(e){return new yp(t.firestore,new Pd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(dp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function vp(e,t,n){return e.message=e.message.replace(t,n),e}function mp(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!Gf(r))return r}return{}}function gp(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gf(e[0])?e[0]:Gf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new pp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Ld(this._delegate,e._delegate)},e}(),bp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,hi.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(yp),_p=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lp(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Fd(this._delegate,function(e,t,n){var r=t,i=Nd("where",e);return new Ud(i,r,n)}(t,n,r)))}catch(t){throw vp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Fd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Nd("orderBy",e);return new Vd(r,n)}(t,n)))}catch(t){throw vp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Fd(this._delegate,function(e){return Rf("limit",e),new qd("limit",e,"F")}(t)))}catch(t){throw vp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Fd(this._delegate,function(e){return Rf("limitToLast",e),new qd("limitToLast",e,"L")}(t)))}catch(t){throw vp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Fd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bd("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw vp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Fd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Bd("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw vp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Fd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw vp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Fd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new zd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw vp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Bf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Df(e,jf);var t=Df(e.firestore,Hf),n=Wf(t),r=new $d(t);return function(e,t){var n=this,r=new au;return e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Lc(e,t,!0)];case 1:return s=u.sent(),r=new dh(t,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=Ql(a,"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,hf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Df(e,jf);var t=Df(e.firestore,Hf),n=Wf(t),r=new $d(t);return mf(n,e._query,{source:"server"}).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate):function(e){e=Df(e,jf);var t=Df(e.firestore,Hf),n=Wf(t),r=new $d(t);return Md(e._query),mf(n,e._query).then((function(n){return new Rd(t,r,e,n)}))}(this._delegate)).then((function(e){return new kp(t.firestore,new Rd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mp(t),i=gp(t,(function(t){return new kp(e.firestore,new Rd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return tp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(dp.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),wp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new bp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),kp=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new _p(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new bp(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wp(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bp(n._firestore,r))}))},e.prototype.isEqual=function(e){return Ld(this._delegate,e._delegate)},e}(),Ep=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,hi.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new pp(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new pp(this.firestore,void 0===e?Vf(this._delegate):Vf(this._delegate,e))}catch(e){throw vp(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Df(e.firestore,Hf),r=Vf(e),i=Qd(e.converter,t);return np(n,[ud(sd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,pa.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pp(t.firestore,e)}))},t.prototype.isEqual=function(e){return qf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(dp.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(_p);function Sp(e){return Df(e,Mf)}var Tp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Yf.bind.apply(Yf,(0,hi.ev)([void 0],e)))}return e.documentId=function(){return new e(ji.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,ne.m9)(e))instanceof Yf&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ip=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new hd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new cd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new fd("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new dd("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new pd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Cp(e){return function(e,t){var n=Wf(e=Df(e,Hf)),r=new Kf;return function(e,t,n,r){var i=this,o=function(e,t){return function(e,t){return new tf(e,t)}(function(e,t){if(e instanceof Uint8Array)return $h(e,t);if(e instanceof ArrayBuffer)return $h(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,vl(t));e.asyncQueue.enqueueAndForget((function(){return(0,hi.mG)(i,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return t=Jh,[4,df(e)];case 1:return t.apply(void 0,[n.sent(),o,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function xp(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,hi.mG)(n,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Ei(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qe.getNamedQuery(e,t)}))},[4,hf(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Wf(t=Df(t,Hf)),n).then((function(e){return e?new jf(t,null,e.query):null}))).then((function(e){return e?new _p(r,e):null}))}var Np=n(826),Ap={Firestore:cp,GeoPoint:ed,Timestamp:Ni,Blob:sp,Transaction:hp,WriteBatch:fp,DocumentReference:pp,DocumentSnapshot:yp,Query:_p,QueryDocumentSnapshot:bp,QuerySnapshot:kp,CollectionReference:Ep,FieldPath:Tp,FieldValue:Ip,setLogLevel:function(e){var t;t=e,vi.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Np.wA("firestore",(function(e){return function(e,t){return new cp(e,new Hf(e,t),new up)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ap)))}(e),e.registerVersion("@firebase/firestore","2.3.0")}(te.Z),function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(uv){t.reject(uv)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(ge){this.f(ge)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(uv){return void this.g(uv)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(ge){n.reject(ge)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Tr){o(Tr)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).Qa(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""}function h(){}function f(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function d(e){var t=f(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==f(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function T(e){return e}function I(e,t,n){this.code=N+e,this.message=t||A[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new I(t.substring(N.length),e.message,e.serverResponse):null}S(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var x,N="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(e){for(var t in P)if(P[t].id===e)return{firebaseEndpoint:(e=P[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(sv){return!1}}function O(e){if(Error.captureStackTrace)Error.captureStackTrace(this,O);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");O.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}x=D("__EID__")?"__EID__":void 0,S(O,Error),O.prototype.name="CustomError",S(L,O),L.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new j((function(){return new B}),(function(e){e.reset()}));function q(){var e=kt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var K=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},H=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function J(e,t){return 0<=z(e,t)}function Q(e,t){var n;return(n=0<=(t=z(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Y(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,se=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function he(e,t){return e<t?-1:e>t?1:0}e:{var fe=s.navigator;if(fe){var de=fe.userAgent;if(de){$=de;break e}}$=""}function pe(e){return le($,e)}function ve(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ye(e){var t,n={};for(t in e)n[t]=e[t];return n}var be="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<be.length;o++)n=be[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function we(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break e}}catch(fv){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(v(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(fv){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ke(e,t){this.a=e===Ie&&t||"",this.b=Te}function Ee(e){return e instanceof ke&&e.constructor===ke&&e.b===Te?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}ke.prototype.sa=!0,ke.prototype.ra=function(){return this.a},ke.prototype.toString=function(){return"Const{"+this.a+"}"};var Se,Te={},Ie={};function Ce(){if(void 0===Se){var e=null,t=s.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch($p){s.console&&s.console.error($p.message)}Se=e}else Se=e}return Se}function xe(e,t){this.a=t===Re?e:""}function Ne(e){return e instanceof xe&&e.constructor===xe?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+f(e)),"type_error:TrustedResourceUrl")}function Ae(e,t){var n=Ee(e);if(!De.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ke?Ee(e):encodeURIComponent(String(e))})),function(e){var t=Ce();return new xe(e=t?t.createScriptURL(e):e,Re)}(e)}xe.prototype.sa=!0,xe.prototype.ra=function(){return this.a.toString()},xe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,De=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Re={};function Oe(e,t){this.a=t===qe?e:""}function Le(e){return e instanceof Oe&&e.constructor===Oe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+f(e)),"type_error:SafeUrl")}Oe.prototype.sa=!0,Oe.prototype.ra=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Me=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,je=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Fe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ue(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Fe.test(e))e=new Oe(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(je);e=t&&Me.test(t[1])?new Oe(e,qe):null}return e}function Ve(e){return e instanceof Oe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Fe.test(e)||(e="about:invalid#zClosurez"),new Oe(e,qe))}var qe={},Be=new Oe("about:invalid#zClosurez",qe);function ze(e,t,n){this.a=n===Ge?e:""}ze.prototype.sa=!0,ze.prototype.ra=function(){return this.a.toString()},ze.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ge={};function Ke(e,t,n,r){return e=e instanceof Oe?e:Ve(e),t=t||s,n=n instanceof ke?Ee(n):n||"",t.open(Le(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function Je(e){return Je[" "](e),e}Je[" "]=h;var Qe,Xe=pe("Opera"),Ye=pe("Trident")||pe("MSIE"),Ze=pe("Edge"),$e=Ze||Ye,et=pe("Gecko")&&!(le($.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),tt=le($.toLowerCase(),"webkit")&&!pe("Edge");function nt(){var e=s.document;return e?e.documentMode:void 0}e:{var rt="",it=function(){var e=$;return et?/rv:([^\);]+)(\)|;)/.exec(e):Ze?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):tt?/WebKit\/(\S+)/.exec(e):Xe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(it&&(rt=it?it[1]:""),Ye){var ot=nt();if(null!=ot&&ot>parseFloat(rt)){Qe=String(ot);break e}}Qe=rt}var at,st={};function ut(e){return function(e,t){var n=st;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ee(String(Qe)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=he(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||he(0==a[2].length,0==s[2].length)||he(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(s.document&&Ye){var ct=nt();at=ct||(parseInt(Qe,10)||void 0)}else at=void 0;var lt=at;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Yp){}var ht=!Ye||9<=Number(lt);function ft(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function dt(e,t){ve(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:mt.hasOwnProperty(n)?e.setAttribute(mt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var pt,vt,mt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}G(a?Z(o):o,r)}}}function yt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function bt(e){s.setTimeout((function(){throw e}),0)}function _t(e,t){vt||function(){if(s.Promise&&s.Promise.resolve){var e=s.Promise.resolve(void 0);vt=function(){e.then(Et)}}else vt=function(){var e=Et;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!pe("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(pt||(pt=function(){var e=s.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=yt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){s.setTimeout(e,0)}}()),pt(e)):s.setImmediate(e)}}(),wt||(vt(),wt=!0),kt.add(e,t)}var wt=!1,kt=new U;function Et(){for(var e;e=q();){try{e.a.call(e.b)}catch(sv){bt(sv)}F(V,e)}wt=!1}function St(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Ft(n,It,e)}),(function(e){if(!(e instanceof Kt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Ft(n,Ct,e)}))}catch(iv){Ft(this,Ct,iv)}}var Tt=0,It=2,Ct=3;function xt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}xt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Nt=new j((function(){return new xt}),(function(e){e.reset()}));function At(e,t,n){var r=Nt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof St)return e;var t=new St(h);return Ft(t,It,e),t}function Dt(e){return new St((function(t,n){n(e)}))}function Rt(e,t,n){Ut(e,t,n,null)||_t(k(t,e))}function Ot(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Rt(e[o],k(i,o,!0),k(i,o,!1));else t(r)}))}function Lt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Lt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):qt(n),Bt(n,i,Ct,t)))}e.c=null}else Ft(e,Ct,t)}function Mt(e,t){e.b||e.a!=It&&e.a!=Ct||Vt(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,r){var i=At(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(ge){o(ge)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Kt?o(t):e(i)}catch(ge){o(ge)}}:o})),i.a.c=e,Mt(e,i),i.a}function Ft(e,t,n){e.a==Tt&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ut(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Vt(e),t!=Ct||n instanceof Kt||function(e,t){e.g=!0,_t((function(){e.g&&Gt.call(null,t)}))}(e,n)))}function Ut(e,t,n,r){if(e instanceof St)return Mt(e,At(t||h,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(uv){o(uv)}}(e,i,t,n,r),!0}catch(Zp){return n.call(r,Zp),!0}return!1}function Vt(e){e.h||(e.h=!0,_t(e.gc,e))}function qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Bt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(i){Gt.call(null,i)}F(Nt,t)}function zt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return jt(this,p(e)?e:null,p(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,Mt(this,e),this},e.o=function(e,t){return jt(this,null,e,t)},e.cancel=function(e){if(this.a==Tt){var t=new Kt(e);_t((function(){Lt(this,t)}),this)}},e.$c=function(e){this.a=Tt,Ft(this,It,e)},e.ad=function(e){this.a=Tt,Ft(this,Ct,e)},e.gc=function(){for(var e;e=qt(this);)Bt(this,e,this.a,this.i);this.h=!1};var Gt=bt;function Kt(e){O.call(this,e)}function Ht(){0!=Wt&&(Jt[m(this)]=this),this.xa=this.xa,this.pa=this.pa}S(Kt,O),Kt.prototype.name="cancel";var Wt=0,Jt={};function Qt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=m(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Jt[t]}}Ht.prototype.xa=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xt=Object.freeze||function(e){return e},Yt=!Ye||9<=Number(lt),Zt=Ye&&!ut("9"),$t=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{s.addEventListener("test",h,t),s.removeEventListener("test",h,t)}catch($p){}return e}();function en(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function tn(e,t){if(en.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(et){e:{try{Je(t.nodeName);var i=!0;break e}catch(Zp){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}en.prototype.preventDefault=function(){this.defaultPrevented=!0},S(tn,en);var nn=Xt({2:"touch",3:"pen",4:"mouse"});tn.prototype.preventDefault=function(){tn.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Zt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(sv){}},tn.prototype.g=function(){return this.a};var rn="closure_listenable_"+(1e6*Math.random()|0),on=0;function an(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++on,this.va=this.Pa=!1}function sn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function un(e){this.src=e,this.a={},this.b=0}function cn(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(sn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function ln(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}un.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=ln(e,t,r,i);return-1<a?(t=e[a],n||(t.Pa=!1)):((t=new an(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var hn="closure_lm_"+(1e6*Math.random()|0),fn={};function dn(e,t,n,r,i){if(r&&r.once)vn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=Sn(n),e&&e[rn]?In(e,t,n,v(r)?!!r.capture:!!r,i):pn(e,t,n,!1,r,i)}function pn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=kn(e);if(s||(e[hn]=s=new un(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$t||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else n=Sn(n),e&&e[rn]?Cn(e,t,n,v(r)?!!r.capture:!!r,i):pn(e,t,n,!0,r,i)}function mn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)mn(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Sn(n),e&&e[rn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=ln(o=e.a[t],n,r,i))&&(sn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=kn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ln(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.va){var t=e.src;if(t&&t[rn])cn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kn(t))?(cn(n,e),0==n.b&&(n.src=null,t[hn]=null)):sn(e)}}}function yn(e){return e in fn?fn[e]:fn[e]="on"+e}function bn(e,t,n,r){var i=!0;if((e=kn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=_n(o,r),i=i&&!1!==o)}return i}function _n(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&gn(e),n.call(r,t)}function wn(e,t){if(e.va)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=s,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new tn(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(fv){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=bn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=bn(r[i],e,!1,t),n=n&&o}return n}return _n(e,new tn(t,this))}function kn(e){return(e=e[hn])instanceof un?e:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return p(e)?e:(e[En]||(e[En]=function(t){return e.handleEvent(t)}),e[En])}function Tn(){Ht.call(this),this.v=new un(this),this.ac=this,this.gb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function xn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&cn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Nn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function An(e){var t=null;return new St((function(n,r){-1==(t=Nn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw s.clearTimeout(t),e}))}function Pn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"===typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Dn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(d(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Rn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function On(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ln(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ln(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ln(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(Tn,Ht),Tn.prototype[rn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){dn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){mn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"===typeof e)e=new en(e,n);else if(e instanceof en)e.target=e.target||n;else{var i=e;_e(e=new en(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=xn(a,r,!0,e)&&i}if(i=xn(a=e.b=n,r,!0,e)&&i,i=xn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=xn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)sn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=Rn.prototype).W=function(){On(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return On(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Ln(this.b,e)?this.b[e]:t},e.set=function(e,t){Ln(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Fn(this,e.c),this.l=e.l,this.a=e.a,Un(this,e.g),this.f=e.f,Vn(this,or(e.b)),this.h=e.h):e&&(n=String(e).match(Mn))?(this.i=!!t,Fn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Un(this,n[4]),this.f=Kn(n[5]||"",!0),Vn(this,n[6]||"",!0),this.h=Kn(n[7]||"")):(this.i=!!t,this.b=new $n(null,this.i))}function Fn(e,t,n){e.c=n?Kn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Vn(e,t,n){t instanceof $n?(e.b=t,function(e,t){t&&!e.f&&(er(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Hn(t,Yn)),e.b=new $n(t,e.i))}function qn(e,t,n){e.b.set(t,n)}function Bn(e,t){return e.b.get(t)}function zn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function Gn(e,t,n,r){var i=new jn(null,void 0);return e&&Fn(i,e),t&&(i.a=t),n&&Un(i,n),r&&(i.f=r),i}function Kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Hn(t,Jn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Hn(t,Jn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hn(n,"/"==n.charAt(0)?Xn:Qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Hn(n,Zn)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Fn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Un(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Vn(t,or(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Jn=/[#\/\?@]/g,Qn=/[#\?:]/g,Xn=/[#\?]/g,Yn=/[#\?@]/g,Zn=/#/g;function $n(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function er(e){e.a||(e.a=new Rn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tr(e){var t=Dn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new $n(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(e,t){er(e),t=ar(e,t),Ln(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ln((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&On(e)))}function rr(e,t){return er(e),t=ar(e,t),Ln(e.a.b,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.c=null,e.a.set(ar(e,t),Z(n)),e.b+=n.length)}function or(e){var t=new $n;return t.c=e.c,e.a&&(t.a=new Rn(e.a),t.b=e.b),t}function ar(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sr(e){var t=[];return cr(new ur,e,t),t.join("")}function ur(){}function cr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),cr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),fr(r,n),n.push(":"),cr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":fr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=$n.prototype).add=function(e,t){er(this),this.c=null,e=ar(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){er(this),this.a.forEach((function(n,r){G(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){er(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){er(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=Y(t,this.a.get(ar(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=Y(t,e[n])}return t},e.set=function(e,t){return er(this),this.c=null,rr(this,e=ar(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},hr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(e,t){t.push('"',e.replace(hr,(function(e){var t=lr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),lr[e]=t),t})),'"')}function dr(){var e=Or();return Ye&&!!lt&&11==lt||/Edge\/\d+/.test(e)}function pr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function vr(e,t){t=t||s.window;var n="about:blank";e&&(n=Le(Ue(e)||Be)),t.location.href=n}function mr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Or()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function yr(e){e=e||s.window;try{e.close()}catch(sv){}}function br(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Or().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Pr(Or())==Nr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Ue("undefined"!=typeof n.href?n.href:String(n))||Be,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(we(a=yt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Ve(t),a.href=Le(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ke("",r,n,a),e=Le(t),a&&($e&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new ze(e=(r=Ce())?r.createHTML(e):e,null,Ge),r=a.document)&&(r.write(function(e){return e instanceof ze&&e.constructor===ze?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+f(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ke(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(ae){}return a}var _r=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function kr(){var e=null;return new St((function(t){"complete"==s.document.readyState?t():(e=function(){t()},vn(window,"load",e))})).o((function(t){throw mn(window,"load",e),t}))}function Er(e){return e=e||Or(),!("file:"!==Ur()&&"ionic:"!==Ur()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var e=s.window;try{return!(!e||e==e.top)}catch(sv){return!1}}function Ir(){return"undefined"!==typeof s.WorkerGlobalScope&&"function"===typeof s.importScripts}function Cr(){return te.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":te.Z.INTERNAL.hasOwnProperty("node")?"Node":Ir()?"Worker":"Browser"}function xr(){var e=Cr();return"ReactNative"===e||"Node"===e}var Nr="Firefox",Ar="Chrome";function Pr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Nr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Dr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Rr(e,t){t=t||[];var n,r=[],i={};for(n in Dr)i[Dr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Pr(i=Or()):"Worker"===r&&(r=Pr(i=Or())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Or(){return s.navigator&&s.navigator.userAgent||""}function Lr(e,t){e=e.split("."),t=t||s;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Mr(){try{var e=s.localStorage,t=Gr();if(e)return e.setItem(t,"1"),e.removeItem(t),!dr()||!!s.indexedDB}catch($p){return Ir()&&!!s.indexedDB}return!1}function jr(){return(Fr()||"chrome-extension:"===Ur()||Er())&&!xr()&&Mr()&&!Ir()}function Fr(){return"http:"===Ur()||"https:"===Ur()}function Ur(){return s.location&&s.location.protocol||null}function Vr(e){return!gr(e=e||Or())&&Pr(e)!=Nr}function qr(e){return"undefined"===typeof e?null:sr(e)}function Br(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zr(e){if(null!==e)return JSON.parse(e)}function Gr(e){return e||Math.floor(1e9*Math.random()).toString()}function Kr(e){return"Safari"!=Pr(e=e||Or())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var e=s.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Wr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Or(),t=Cr(),this.b=gr(e)||"ReactNative"===t}function Jr(){var e=s.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Qr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch($p){}return null}function Xr(){return!(!Lr("fireauth.oauthhelper",s)&&!Lr("fireauth.iframe",s))}Wr.prototype.get=function(){var e=s.navigator;return!e||"boolean"!==typeof e.onLine||!Fr()&&"chrome-extension:"!==Ur()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Zr={};function $r(e){Zr[e]||(Zr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var ei={};Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ei,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==ei.abcd}catch(Yp){Yr=!1}function ti(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ni(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ti(e,n,t[n])}function ri(e){var t={};return ni(t,e),t}function ii(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ti(t,n,ii(e[n]));return t}function oi(e){var t=e&&(e[li]?"phone":null);if(!(t&&e&&e[ci]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");ti(this,"uid",e[ci]),ti(this,"displayName",e[si]||null);var n=null;e[ui]&&(n=new Date(e[ui]).toUTCString()),ti(this,"enrollmentTime",n),ti(this,"factorId",t)}function ai(e){try{var t=new hi(e)}catch($p){t=null}return t}oi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var si="displayName",ui="enrolledAt",ci="mfaEnrollmentId",li="phoneInfo";function hi(e){oi.call(this,e),ti(this,"phoneNumber",e[li])}function fi(e){var t={},n=e[mi],r=e[yi],i=e[bi];if(e=ai(e[gi]),!i||i!=pi&&i!=vi&&!n||i==vi&&!r||i==di&&!e)throw Error("Invalid checkActionCode response!");i==vi?(t[wi]=n||null,t[Ei]=n||null,t[_i]=r):(t[wi]=r||null,t[Ei]=r||null,t[_i]=n||null),t[ki]=e||null,ti(this,Ti,i),ti(this,Si,ii(t))}S(hi,oi),hi.prototype.w=function(){var e=hi.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var di="REVERT_SECOND_FACTOR_ADDITION",pi="EMAIL_SIGNIN",vi="VERIFY_AND_CHANGE_EMAIL",mi="email",gi="mfaInfo",yi="newEmail",bi="requestType",_i="email",wi="fromEmail",ki="multiFactorInfo",Ei="previousEmail",Si="data",Ti="operation";function Ii(e){var t=Bn(e=zn(e),Ci)||null,n=Bn(e,xi)||null,r=Bn(e,Pi)||null;if(r=r&&Ri[r]||null,!t||!n||!r)throw new I("argument-error",Ci+", "+xi+"and "+Pi+" are required in a valid action code URL.");ni(this,{apiKey:t,operation:r,code:n,continueUrl:Bn(e,Ni)||null,languageCode:Bn(e,Ai)||null,tenantId:Bn(e,Di)||null})}var Ci="apiKey",xi="oobCode",Ni="continueUrl",Ai="languageCode",Pi="mode",Di="tenantId",Ri={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:pi,verifyAndChangeEmail:vi,verifyEmail:"VERIFY_EMAIL"};function Oi(e){try{return new Ii(e)}catch(sv){return null}}function Li(e){var t=e[Vi];if("undefined"===typeof t)throw new I("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[zi];var r=n[qi];if(n=n[Bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new I("argument-error",qi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new I("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new I("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new I("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new I("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Ui])&&"object"===typeof t){if("string"===typeof(t=t[Gi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new I("argument-error",Gi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new I("argument-error",Ui+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Fi])&&"boolean"!==typeof t)throw new I("argument-error",Fi+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[ji])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new I("argument-error",ji+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",ji="dynamicLinkDomain",Fi="handleCodeInApp",Ui="iOS",Vi="url",qi="installApp",Bi="minimumVersion",zi="packageName",Gi="bundleId";function Ki(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Wi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Ji(e){var t=Xi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Qi(e){try{return new Ji(e)}catch(sv){return null}}function Xi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Wi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(ge){}return null}Ji.prototype.T=function(){return this.f},Ji.prototype.l=function(){return this.c},Ji.prototype.toString=function(){return this.h};var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Zi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Zi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Zi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Zi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Yi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function eo(e){for(var t in $i)if($i[t].fa==e)return $i[t];return null}function to(e){var t={};t["facebook.com"]=ao,t["google.com"]=uo,t["github.com"]=so,t["twitter.com"]=co;var n=e&&e[ro];try{if(n)return t[n]?new t[n](e):new oo(e);if("undefined"!==typeof e[no])return new io(e)}catch(iv){}return null}var no="idToken",ro="providerId";function io(e){var t=e[ro];if(!t&&e[no]){var n=Qi(e[no]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ti(this,"providerId",t),ti(this,"isNewUser",n)}function oo(e){io.call(this,e),ti(this,"profile",ii((e=zr(e.rawUserInfo||"{}"))||{}))}function ao(e){if(oo.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function so(e){if(oo.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",this.profile&&this.profile.login||null)}function uo(e){if(oo.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function co(e){if(oo.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ti(this,"username",e.screenName||null)}function lo(e){var t=zn(e),n=Bn(t,"link"),r=Bn(zn(n),"link");return t=Bn(t,"deep_link_id"),Bn(zn(t),"link")||t||r||n||e}function ho(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?fo:po}S(oo,io),S(ao,oo),S(so,oo),S(uo,oo),S(co,oo);var fo="enroll",po="signin";function vo(){}function mo(e,t){return e.then((function(e){if(e[is]){var n=Qi(e[is]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==N+"user-not-found"?new I("user-mismatch"):e}))}function go(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,ti(this,"providerId",e),ti(this,"signInMethod",e)}function yo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function bo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new go(e.providerId,e.pendingToken)}catch(sv){}return null}function _o(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ti(this,"idToken",t.idToken),t.accessToken&&ti(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ti(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");ti(this,"accessToken",t.oauthToken),ti(this,"secret",t.oauthTokenSecret)}ti(this,"providerId",e),ti(this,"signInMethod",n)}function wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:tr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ko(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new _o(e.providerId,t,e.signInMethod)}catch($p){}}return null}function Eo(e,t){this.Qc=t||[],ni(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(eo(e)||{}).Ja||null,this.ob=null}function So(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');Eo.call(this,e,[])}function To(e){Eo.call(this,e,Zi),this.a=[]}function Io(){To.call(this,"facebook.com")}function Co(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new Io).credential({accessToken:t})}function xo(){To.call(this,"github.com")}function No(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new xo).credential({accessToken:t})}function Ao(){To.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Do(){Eo.call(this,"twitter.com",Yi)}function Ro(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",n,"twitter.com")}function Oo(e,t,n){this.a=e,this.f=t,ti(this,"providerId","password"),ti(this,"signInMethod",n===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Lo(e){return e&&e.email&&e.password?new Oo(e.email,e.password,e.signInMethod):null}function Mo(){ni(this,{providerId:"password",isOAuthProvider:!1})}function jo(e,t){if(!(t=Fo(t)))throw new I("argument-error","Invalid email link!");return new Oo(e,t.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function Fo(e){return(e=Oi(e=lo(e)))&&e.operation===pi?e:null}function Uo(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new I("internal-error");this.a=e,ti(this,"providerId","phone"),this.fa="phone",ti(this,"signInMethod","phone")}function Vo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Uo(t)}return null}function qo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Bo(e){try{this.a=e||te.Z.auth()}catch(sv){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ni(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Uo({eb:e,cb:t})}function Go(e){if(e.temporaryProof&&e.phoneNumber)return new Uo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return Co(n);case"github.com":return No(n);case"twitter.com":return Ro(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new go(t,a):new _o(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new To(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(ae){return null}}function Ko(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function Wo(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Jo(){this.b=null,this.a=[]}ho.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},ho.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},vo.prototype.ka=function(){},vo.prototype.b=function(){},vo.prototype.c=function(){},vo.prototype.w=function(){},go.prototype.ka=function(e){return Is(e,yo(this))},go.prototype.b=function(e,t){var n=yo(this);return n.idToken=t,Cs(e,n)},go.prototype.c=function(e,t){return mo(xs(e,yo(this)),t)},go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},_o.prototype.ka=function(e){return Is(e,wo(this))},_o.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,Cs(e,n)},_o.prototype.c=function(e,t){return mo(xs(e,wo(this)),t)},_o.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Eo.prototype.Ka=function(e){return this.Ib=ye(e),this},S(So,Eo),S(To,Eo),To.prototype.Ca=function(e){return J(this.a,e)||this.a.push(e),this},To.prototype.Qb=function(){return Z(this.a)},To.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,n,this.providerId)},S(Io,To),ti(Io,"PROVIDER_ID","facebook.com"),ti(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(xo,To),ti(xo,"PROVIDER_ID","github.com"),ti(xo,"GITHUB_SIGN_IN_METHOD","github.com"),S(Ao,To),ti(Ao,"PROVIDER_ID","google.com"),ti(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Do,Eo),ti(Do,"PROVIDER_ID","twitter.com"),ti(Do,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(e){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Oo.prototype.b=function(e,t){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,js,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Xs,{idToken:t,email:this.a,password:this.f})},Oo.prototype.c=function(e,t){return mo(this.ka(e),t)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ni(Mo,{PROVIDER_ID:"password"}),ni(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ni(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Uo.prototype.ka=function(e){return e.fb(qo(this))},Uo.prototype.b=function(e,t){var n=qo(this);return n.idToken=t,cu(e,au,n)},Uo.prototype.c=function(e,t){var n=qo(this);return n.operation="REAUTH",mo(e=cu(e,su,n),t)},Uo.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Bo.prototype.fb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return i=o&&o.type==fo?o.Ha().then((function(e){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==po?o.Ha().then((function(t){return function(e,t){return cu(e,$s,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Js,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ni(Bo,{PROVIDER_ID:"phone"}),ni(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Qo,Xo=null;function Yo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Zo(e,t,n){I.call(this,e,n),(e=t||{}).Jb&&ti(this,"email",e.Jb),e.ea&&ti(this,"phoneNumber",e.ea),e.credential&&ti(this,"credential",e.credential),e.Zb&&ti(this,"tenantId",e.Zb)}function $o(e){if(e.code){var t=e.code||"";0==t.indexOf(N)&&(t=t.substring(N.length));var n={credential:Go(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Zo(t,n,e.message)}return null}function ea(){}function ta(e){return e.c||(e.c=e.b())}function na(){}function ra(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ia(){}function oa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function aa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function sa(e,t,n){this.reset(e,t,n,void 0,void 0)}S(Yo,I),S(Zo,I),Zo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&_e(e,t),e},Zo.prototype.toJSON=function(){return this.w()},ea.prototype.c=null,S(na,ea),na.prototype.a=function(){var e=ra(this);return e?new ActiveXObject(e):new XMLHttpRequest},na.prototype.b=function(){var e={};return ra(this)&&(e[0]=!0,e[1]=!0),e},Qo=new na,S(ia,ea),ia.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new oa;throw Error("Unsupported browser")},ia.prototype.b=function(){return{}},(e=oa.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,aa(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",aa(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,aa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},sa.prototype.a=null;function ua(e){this.f=e,this.b=this.c=this.a=null}function ca(e,t){this.name=e,this.value=t}sa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||E(),delete this.a},ca.prototype.toString=function(){return this.name};var la=new ca("SEVERE",1e3),ha=new ca("WARNING",900),fa=new ca("CONFIG",700),da=new ca("FINE",500);function pa(e){return e.c?e.c:e.a?pa(e.a):(M("Root logger has no level set."),null)}ua.prototype.log=function(e,t,n){if(e.value>=pa(this).value)for(p(t)&&(t=t()),e=new sa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var va={},ma=null;function ga(e){var t;if(ma||(ma=new ua(""),va[""]=ma,ma.c=fa),!(t=va[e])){t=new ua(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ga(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,va[e]=t}return t}function ya(e,t){e&&e.log(da,t,void 0)}function ba(e){this.f=e}function _a(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ga("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ba,ea),ba.prototype.a=function(){return new _a(this.f)},ba.prototype.b=function(e){return function(){return e}}({}),S(_a,Tn);var wa=0;function ka(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function Ea(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Sa(e)}function Sa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ta(e){Tn.call(this),this.headers=new Rn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(e=_a.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Sa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ea(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Sa(this)),this.a&&(this.readyState=3,Sa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof s.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ka(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ea(this):Sa(this),3==this.readyState&&ka(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ea(this))},e.sc=function(e){this.a&&(this.response=e,Ea(this))},e.Ua=function(e){var t=this.i;t&&t.log(ha,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ea(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ha,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ha,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(Ta,Tn);var Ia="";Ta.prototype.b=ga("goog.net.XhrIo");var Ca=/^https?$/i,xa=["POST","PUT"];function Na(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Qo.a(),e.C=e.D?ta(e.D):ta(Qo),e.a.onreadystatechange=w(e.Vb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(fv){return ya(e.b,Fa(e,"Error opening Xhr: "+fv.message)),void Pa(e,fv)}t=r||"";var o=new Rn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"===typeof e)G(e,t,void 0);else for(var n=Dn(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Aa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=s.FormData&&t instanceof s.FormData,!J(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{La(e),0<e.g&&(e.u=function(e){return Ye&&ut(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=Nn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(fv){ya(e.b,Fa(e,"Send error: "+fv.message)),Pa(e,fv)}}function Aa(e){return"content-type"==e.toLowerCase()}function Pa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Da(e),Oa(e)}function Da(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof a)if(e.C[1]&&4==Ma(e)&&2==ja(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))Nn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Mn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(uv){ya(e.b,"Can not get status: "+uv.message),c=""}e.h=c+" ["+ja(e)+"]",Da(e)}}finally{Oa(e)}}}function Oa(e,t){if(e.a){La(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(la,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function La(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(s.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<Ma(e)?e.a.status:-1}catch(sv){return-1}}function Fa(e,t){return t+" ["+e.R+" "+e.l+" "+ja(e)+"]"}function Ua(e){var t=Xa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Va(e,t,n){e.a=!0,e.c=n,e.f=!t,Ga(e)}function qa(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function Ba(e,t,n,r){e.g.push([t,n,r]),e.a&&Ga(e)}function za(e){return W(e.g,(function(e){return p(e[1])}))}function Ga(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ja[t];n&&(s.clearTimeout(n.a),delete Ja[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"===typeof s.Promise&&t instanceof s.Promise)&&(r=!0,e.i=!0)}catch(uv){t=uv,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof Ua?(Ba(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new Wa(t),Ja[t.a]=t,e.h=t.a)}function Ka(){O.call(this)}function Ha(){O.call(this)}function Wa(e){this.a=s.setTimeout(w(this.c,this),0),this.b=e}(e=Ta.prototype).Ma=function(){"undefined"!=typeof a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oa(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Oa(this,!0)),Ta.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(la,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(sv){return ya(this.b,"Can not get response: "+sv.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ha(this),qa(this),Va(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,Va(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return Ba(this,r,(function(e){e instanceof Ha?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,S(Ka,O),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",S(Ha,O),Ha.prototype.message="Deferred was canceled",Ha.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ja[this.a],this.b};var Ja={};function Qa(e){var t={},n=t.document||document,r=Ne(e).toString(),i=yt(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ua(o),u=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){Ya(i,!0);var e=new es($a,"Timeout reached for loading script "+r);qa(a),Va(a,!1,e)}),h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,t.xd||!1,u),qa(a),Va(a,!0,null))},i.onerror=function(){Ya(i,!0,u);var e=new es(Za,"Error while loading script "+r);qa(a),Va(a,!1,e)},_e(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),dt(i,o),function(e,t){we(e,"HTMLScriptElement"),e.src=Ne(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=s?t=l(t.document):(null===c&&(c=l(s.document)),t=c),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&Ya(e,!0,this.Ma)}}function Ya(e,t,n){null!=n&&s.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Za=0,$a=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),O.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=ye(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=ye(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=s.XMLHttpRequest||n&&te.Z.INTERNAL.node&&te.Z.INTERNAL.node.XMLHttpRequest)&&!Ir())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Ir()?this.f=new ba(self):xr()?this.f=new ts(n):this.f=new ia,this.b=null}S(es,O),S(ts,ea),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Wr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Wr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=hs("https://securetoken.googleapis.com/v1/token",t),e.h=hs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=hs("https://identitytoolkit.googleapis.com/v2/",t))}function hs(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Fn(e,t.c),e.a=t.a,Un(e,t.g),e.toString()}function fs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Or();return!((e=Pr(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!lt||9<lt)})()||Ir()?e=w(e.u,e):(rs||(rs=new St((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{s[vs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Ba(e,null,t,void 0)}(Qa(Ae(ps,{onload:vs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Ir()&&("undefined"===typeof s.fetch||"undefined"===typeof s.Headers||"undefined"===typeof s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(ge){e=null}t&&t(e)})),Cn(a,"ready",(function(){u&&clearTimeout(u),Qt(this)})),Cn(a,"timeout",(function(){u&&clearTimeout(u),Qt(this),t&&t(null)})),Na(a,e,n,r,i)};var ps=new ke(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function ms(e,t,n,r,i,o,a){var s=zn(t+n);qn(s,"key",e.c),a&&qn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&qn(s,c,i[c]);return new St((function(t,n){ds(e,s.toString(),(function(e){e?e.error?n(hu(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:sr(Br(i)),e.a,e.v.get())}))}function gs(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new I("invalid-email")}function ys(e){"email"in e&&gs(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ye(e));throw new I("internal-error")}}function _s(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.zb=function(){return cu(this,Ys,{})},ns.prototype.Bb=function(e,t){return cu(this,Qs,{idToken:e,email:t})},ns.prototype.Cb=function(e,t){return cu(this,Xs,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ks(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function Es(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function Ss(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(rr(e=new $n(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=$o(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=$o(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=$o(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function Is(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function xs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function Ns(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=ns.prototype).Db=function(e,t){var n={idToken:e},r=[];return ve(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Qs,n)},e.vb=function(e,t){return _e(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Gs,e)},e.wb=function(e,t){return _e(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,qs,e)},e.ub=function(e,t){return _e(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,Bs,e)},e.Eb=function(e,t,n){return _e(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.fb=function(e){return cu(this,ou,e)},e.nb=function(e,t){return cu(this,Ws,{oobCode:e,newPassword:t})},e.Ra=function(e){return cu(this,Ps,{oobCode:e})},e.jb=function(e){return cu(this,As,{oobCode:e})};var As={endpoint:"setAccountInfo",A:Ns,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:Ns,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Ds={endpoint:"signupNewUser",A:function(e){if(gs(e),!e.password)throw new I("weak-password")},G:bs,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Os={endpoint:"deleteAccount",N:["idToken"]},Ls={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},Ms={endpoint:"emailLinkSignin",N:["email","oobCode"],A:gs,G:bs,V:!0,B:!0},js={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:gs,G:bs,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ks,G:bs,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ks,G:bs,B:!0,Na:!0},Vs={endpoint:"getAccountInfo"},qs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");gs(e)},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Gs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");gs(e)},Z:"email",B:!0},Ks={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Hs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},Ws={endpoint:"resetPassword",A:Ns,Z:"email",B:!0},Js={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Qs={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},Xs={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(ys(e),!e.password)throw new I("weak-password")},G:bs,V:!0},Ys={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Zs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},$s={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Es,Ya:Ss,G:Ts,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Es,Ya:Ss,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Es(e),!e.idToken)throw new I("internal-error")},Ya:Ss,G:Ts,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(gs(e),!e.password)throw new I("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");_s(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",$o(e);bs(e)}},su={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:_s,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.N))return Dt(new I("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ms(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function lu(e){return hu({error:{errors:[{message:e}],code:400,message:e}})}function hu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",_e(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=qr(e)),new I("internal-error",t)}function fu(e){this.b=e,this.a=null,this.rb=function(e){return(mu||(mu=new St((function(e,t){function n(){Hr(),Lr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Hr(),t(Error("Network Error"))},timeout:pu.get()})}if(Lr("gapi.iframes.Iframe"))e();else if(Lr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Lr("gapi.load")?n():t(Error("Network Error"))},Pt(Qa(r=Ae(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new St((function(t,n){Lr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new ke(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Wr(3e4,6e4),vu=new Wr(5e3,15e3),mu=null;function gu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Gn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Gn("https",this.l,null,"/__/auth/iframe"),this.a=e,qn(this.a,"apiKey",this.h),qn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return te.Z.app(e).auth().Ga()}catch(sv){return[]}}function _u(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=pr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:_r.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Yo(pr())}))}function ku(e){return e.m||(e.m=kr().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new gu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new fu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Wo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function Eu(e){return e.l||(e.C=e.c?Rr(e.c,bu(e.b)):null,e.l=new ns(e.g,D(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Su(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new yu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ye(u||null),e.f=c,e.yb(l).toString()}function Tu(e){if(this.a=e||te.Z.INTERNAL.reactNative&&te.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(e){this.b=e,this.a={},this.f=w(this.c,this)}gu.prototype.toString=function(){return this.f?qn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?qn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?qn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Gn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Gn("https",this.u,null,"/__/auth/handler");if(qn(e,"apiKey",this.s),qn(e,"appName",this.c),qn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=te.Z.app(this.c).auth().la()}catch(ae){n=null}for(var r in t.ob=n,qn(e,"providerId",this.a.providerId),t=Br((n=this.a).Ib))t[r]=t[r].toString();r=n.Qc,t=ye(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),me(t)||qn(e,"customParameters",qr(t))}if("function"===typeof this.a.Qb&&((n=this.a.Qb()).length&&qn(e,"scopes",n.join(","))),this.l?qn(e,"redirectUrl",this.l):nr(e.b,"redirectUrl"),this.g?qn(e,"eventId",this.g):nr(e.b,"eventId"),this.i?qn(e,"v",this.i):nr(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Bn(e,a)&&qn(e,a,this.b[a]);return this.h?qn(e,"tid",this.h):nr(e.b,"tid"),this.f?qn(e,"eid",this.f):nr(e.b,"eid"),(a=bu(this.c)).length&&qn(e,"fw",a.join(",")),e.toString()},(e=_u.prototype).Ob=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ku(e).then((function(){return function(e,t){return e.rb.then((function(){return new St((function(n){e.a.send(t.type,t,n,Lr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&yr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return An(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Or();return!Vr(e)&&!Kr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,a,s){if(!e)return Dt(new I("popup-blocked"));if(a&&!Vr())return this.ma().o((function(t){yr(e),i(t)})),r(),Pt();this.a||(this.a=wu(Eu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw yr(e),i(t),t}));return r(),t})).then((function(){(Ko(n),a)||vr(Su(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=wu(Eu(this)));var i=this;return this.a.then((function(){Ko(t),vr(Su(i.s,i.g,i.b,e,t,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ku(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){X(this.h,(function(t){return t==e}))},(e=Tu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&zr(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,qr(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,xu=[];function Nu(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Au(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function Du(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Dt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Ou(){if(!Fu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Ir()&&self?(this.v=function(){var e=Ir()?self:null;if(G(xu,(function(n){n.b==e&&(t=n)})),!t){var t=new Iu(e);xu.push(t)}return t}(),Nu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&G(e.a,(function(e){e(t)})),{keyProcessed:J(t,n.key)}}))})),Nu(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=s.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Au(t)),Du(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&J(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Lu(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(Zp){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(Zp){n(Zp)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Lu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Mu(e){return e.i||(e.i=Lu(e)),e.i}function ju(e,t){var n=0;return new St((function r(i,o){Mu(e).then(t).then(i).o((function(t){if(!(3<++n))return Mu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Fu(){try{return!!s.indexedDB}catch(Yp){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function Vu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function qu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Bu(e,t){return e.g&&e.h&&function(){var e=s.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Du(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function zu(e){return Mu(e).then((function(e){var t=Uu(Vu(e,!1));return t.getAll?qu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=mr(e.c,n),e.c=n}return r}))}function Gu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Fu()){var e=Gr(),r="__sak"+e;return Cu||(Cu=new Ou),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){G(t.a,(function(t){t(e)}))})),e}))}function Hu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==Cr();if(!(e=Ju()||e&&te.Z.INTERNAL.node&&te.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(sv){return!1}}()){if("Node"==Cr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Ju()||te.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ju(){try{var e=s.localStorage,t=Gr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch($p){return null}}function Qu(){this.type="nullStorage"}function Xu(){if(!function(){var e="Node"==Cr();if(!(e=Yu()||e&&te.Z.INTERNAL.node&&te.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(sv){return!1}}()){if("Node"==Cr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Yu()||te.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var e=s.sessionStorage,t=Gr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch($p){return null}}function Zu(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Cr()]}Iu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Ot(i).then((function(r){var i=[];G(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),G(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Au.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(e=Ou.prototype).set=function(e,t){var n=this,r=!1;return ju(this,(function(t){return qu((t=Uu(Vu(t,!0))).get(e))})).then((function(i){return ju(n,(function(o){if(o=Uu(Vu(o,!0)),i)return i.value=t,qu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,qu(o.add(a))}))})).then((function(){return n.c[e]=t,Bu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return ju(this,(function(t){return qu(Uu(Vu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return ju(this,(function(r){return n=!0,t.b++,qu(Uu(Vu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Bu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&G(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Gu(e),t()}(this),this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Gu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e}))},(e=Hu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return Pt().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){s.window&&dn(s.window,"storage",e)},e.ia=function(e){s.window&&mn(s.window,"storage",e)},(e=Qu.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=Xu.prototype).get=function(e){var t=this;return Pt().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var $u,ec,tc={F:Wu,bb:Xu},nc={F:Wu,bb:Xu},rc={F:Tu,bb:Qu},ic={F:Wu,bb:Qu},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Kr(Or())||!Sr()),t=Vr(),n=Mr();this.m=e,this.h=t,this.l=n,this.a={},$u||($u=new Zu),e=$u;try{this.g=!dr()&&Xr()||!s.indexedDB?new e.a.F:new Ku(Ir()?new Hu:new e.a.F)}catch(iv){this.g=new Hu,this.h=!0}try{this.i=new e.a.bb}catch(iv){this.i=new Hu}this.v=new Hu,this.f=w(this.Yb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function hc(e){e.c&&(clearInterval(e.c),e.c=null)}function fc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=s.localStorage.getItem(e)),me(this.a)&&(uc(this,"local").ca(this.f),this.h||(dr()||!Xr())&&s.indexedDB||!this.l||function(e){hc(e),e.c=setInterval((function(){for(var t in e.a){var n=s.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new tn({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(uc(this,"local").ia(this.f),hc(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):hc(this),this.m)if(n=s.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?s.localStorage.setItem(t,r):s.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===s.localStorage.getItem(t)||(o.b[t]=s.localStorage.getItem(t),o.mb(t))},Ye&&lt&&10==lt&&s.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,w(this.mb,this))},e.mb=function(e){this.a[e]&&G(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function mc(e,t){this.b=gc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=s.Int32Array?new Int32Array(Sc):Sc),this.reset()}S(mc,(function(){this.b=-1}));for(var gc=64,yc=gc-1,bc=[],_c=0;_c<yc;_c++)bc[_c]=0;var wc=Y(128,bc);function kc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|dc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function Ec(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(kc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(kc(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):Z(this.h)};var Sc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){mc.call(this,8,Ic)}S(Tc,mc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(e){return new I("invalid-cordova-configuration",e)}function Nc(e){var t=new Tc;Ec(t,e),e=[];var n=8*t.g;56>t.c?Ec(t,wc,56-t.c):Ec(t,wc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(kc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return H(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ac(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(iv){}}function Pc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Dc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=lo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=zr(Bn(o=zn(i),"firebaseError")||null))?C(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ac(e,i)}))}var n=new Ho("unknown",null,null,null,new I("no-auth-event")),r=!1,i=An(500).then((function(){return Dc(e).then((function(){r||Ac(e,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Lr("BuildInfo.packageName",s).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(ae){console.error(ae)}},Xo||(Xo=new Jo),function(e){var t=Xo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Lr("universalLinks.subscribe",s))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Dc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Wo(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=sc()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Er(void 0)?kr().then((function(){return new St((function(e,t){var n=s.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Dt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Lr("universalLinks.subscribe",s))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Lr("BuildInfo.packageName",s))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Lr("cordova.plugins.browsertab.openUrl",s))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Lr("cordova.InAppBrowser.open",s))throw xc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Ob=function(e,t){return t(new I("operation-not-supported-in-this-environment")),Pt()},e.Mb=function(){return Dt(new I("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return Dt(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Pt().then((function(){return Ko(t),Pc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new I("no-auth-event"),null,i),u=Lr("BuildInfo.packageName",s);if("string"!==typeof u)throw new I("invalid-cordova-configuration");var c=Lr("BuildInfo.displayName",s),l={};if(Or().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Or().toLowerCase().match(/android/))return Dt(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Nc(o),l.sessionId=o;var h=Su(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Lr("cordova.plugins.browsertab.isAvailable",s);if("function"!==typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Lr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Lr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");t=Or(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){u=function(){var t=Lr("cordova.plugins.browsertab.close",s);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=An(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},l=function(){Jr()&&c()},o.addEventListener("resume",c,!1),Or().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Dc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Pc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Sa=function(e){X(this.b,(function(t){return t==e}))};var Oc={name:"pendingRedirect",F:"session"};function Lc(e){return lc(e.b,Oc,e.a)}function Mc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Yc,this.C=new nl,this.g=new Rc(Qc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,x,this.J)}function jc(e,t,n,r,i){var o=te.Z.SDK_VERSION||null;return Er()?new Cc(e,t,n,o,r,i):new _u(e,t,n,o,r,i)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Xb()&&Fc(e).o((function(t){var n=new Ho("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Tb()||Zc(e.b)}function Vc(e,t){J(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Oc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Lc(e.g).then((function(){Fc(e).o((function(t){var n=new Ho("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function qc(e,t){X(e.h,(function(e){return e==t}))}Mc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Mc.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Zc(this.b),t};var Bc=new Wr(2e3,1e4),zc=new Wr(3e4,6e4);function Gc(e,t,n,r,i,o,a){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Hc(e,t,n,r,i){var o;return function(e){return e.b.set(Oc,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Kc(t))throw new I("operation-not-supported-in-this-environment");return o=t,Lc(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new St((function(){})):Lc(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),Bc.get())}Mc.prototype.qa=function(){return this.b.qa()};var Jc={};function Qc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Xc(e,t,n,r){var i=Qc(t,n,r);return Jc[i]||(Jc[i]=new Mc(e,t,n,r)),Jc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Zc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function $c(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Dt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function il(e,t){this.a=t,ti(this,"verificationId",e)}function ol(e,t,n,r){return new Bo(e).fb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Xi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ni(this,{token:e,expirationTime:Qr(1e3*t.exp),authTime:Qr(1e3*t.auth_time),issuedAtTime:Qr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ye(t),this.g=n,this.c=new ho(null,r),this.b=[];var i=this;G(t[ul]||[],(function(e){(e=ai(e))&&i.b.push(e)})),ti(this,"auth",this.a),ti(this,"session",this.c),ti(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):Dt(new I("invalid-auth-event")):(tl(this,!1,null,null),Pt())}else Dt(new I("invalid-auth-event"))},Yc.prototype.qa=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=An(zc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Dt(new I("invalid-auth-event"))}else Dt(new I("invalid-auth-event"))},il.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ti(this,"resolver",this.b)}function hl(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(iv){}return null}function fl(){}function dl(e){ti(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=Bo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in en.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),dn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ci]=e.uid),e.displayName&&(r[si]=e.displayName),e.enrollmentTime&&(r[ui]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[li]=e.phoneNumber);try{t=new hi(r)}catch(fv){}e=t}else e=null;e&&n.push(e)})),gl(this,n)}function gl(e,t){e.b=t,ti(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=s.document,t=null;return Jr()||!e?Pt():new St((function(n){t=function(){Jr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function _l(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function kl(e,t){e.b=Qi(t[is]||""),e.a=t.refreshToken,wl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function El(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(hu(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",tr(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Qi(t.access_token),e.a=t.refresh_token,wl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Sl(e,t){this.a=e||null,this.b=t||null,ni(this,{lastSignInTime:Qr(t||null),creationTime:Qr(e||null)})}function Tl(e,t,n,r,i,o){ni(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Il(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=te.Z.SDK_VERSION?Rr(te.Z.SDK_VERSION):null;this.a=new ns(this.l,D(x),r),e.emulatorConfig&&ls(this.a,e.emulatorConfig),this.b=new _l(this.a),Ol(this,t[is]),kl(this.b,t),ti(this,"refreshToken",this.b.a),jl(this,n||{}),Tn.call(this),this.R=!1,this.s&&jr()&&(this.i=Xc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=w(this.hb,this);var i=this;this.ya=null,this.Oa=function(e){i.wa(e.h)},this.ja=null,this.Aa=function(e){ls(i.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){Nl(i,e.f)},this.ba=null,this.O=new ml(this,n),ti(this,"multiFactor",this.O)}function Cl(e,t){e.ja&&mn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&dn(t,"languageCodeChanged",e.Oa)}function xl(e,t){e.X&&mn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&dn(t,"emulatorConfigChanged",e.Aa)}function Nl(e,t){e.$=t,fs(e.a,te.Z.SDK_VERSION?Rr(te.Z.SDK_VERSION,e.$):null)}function Al(e,t){e.ba&&mn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&dn(t,"frameworkChanged",e.Ba)}function Pl(e){try{return te.Z.app(e.m).auth()}catch(sv){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Dl(e){e.D||e.u.b||(e.u.start(),mn(e,"tokenChanged",e.aa),dn(e,"tokenChanged",e.aa))}function Rl(e){mn(e,"tokenChanged",e.aa),e.u.stop()}function Ol(e,t){e.za=t,ti(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Ot(t).then((function(){return e}))}function Ml(e){e.i&&!e.R&&(e.R=!0,Vc(e.i,e))}function jl(e,t){ni(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Sl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Fl(){}function Ul(e){return Pt().then((function(){if(e.D)throw new I("app-deleted")}))}function Vl(e){return H(e.providerData,(function(e){return e.providerId}))}function ql(e,t){t&&(Bl(e,t.providerId),e.providerData.push(t))}function Bl(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ti(e,t,n)}function Gl(e,t){e!=t&&(ni(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ti(e,"metadata",function(e){return new Sl(e.a,e.b)}(t.metadata)):ti(e,"metadata",new Sl),G(t.providerData,(function(t){ql(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),ti(e,"refreshToken",e.b.a),gl(e.O,t.O.b))}function Kl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,Vs,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||zl(e,"isAnonymous",!1),t}))}))}function Hl(e,t){t[is]&&e.za!=t[is]&&(kl(e.b,t),e.dispatchEvent(new vl("tokenChanged")),Ol(e,t[is]),zl(e,"refreshToken",e.b.a))}function Wl(e,t){return Kl(e).then((function(){if(J(Vl(e),t))return Ll(e).then((function(){throw new I("provider-already-linked")}))}))}function Jl(e,t,n){return ri({user:e,credential:Go(t),additionalUserInfo:t=to(t),operationType:n})}function Ql(e,t){return Hl(e,t),e.reload().then((function(){return e}))}function Xl(e,t,n,r,i){if(!jr())return Dt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return Dt(e.h);var o=eo(n.providerId),a=Gr(e.uid+":::"),s=null;(!Vr()||Sr())&&e.s&&n.isOAuthProvider&&(s=Su(e.s,e.l,e.m,t,n,null,a,te.Z.SDK_VERSION||null,null,null,e.tenantId));var u=br(s,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return Gc(e.i,u,t,n,a,!!s,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Wc(e.i,e,t,u,a)}))})).then((function(e){return u&&yr(u),e?ri(e):null})).o((function(e){throw u&&yr(u),e})),$l(e,r,i)}function Yl(e,t,n,r,i){if(!jr())return Dt(new I("operation-not-supported-in-this-environment"));if(e.h&&!i)return Dt(e.h);var o=null,a=Gr(e.uid+":::");return r=r().then((function(){if(Zl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ll(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(nh,e.w(),t.a)),t})).then((function(){return Hc(e.i,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return rh(e.ha);throw o})).then((function(){if(o)throw o})),$l(e,r,i)}function Zl(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new I("internal-error");throw new I("auth-domain-config-required")}}function $l(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),Dt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new vl("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){Q(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),Pl(e),w(e.jc,e))),n||t}))}function eh(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(t,n,e);return e.providerData&&G(e.providerData,(function(e){e&&ql(i,ri(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function th(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ye(t.f);return delete n[ul],delete n[cl],_e(n,e),t.g(n)}))},S(ll,I),fl.prototype.sb=function(e,t,n){return t.type==fo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_e(n,{phoneVerificationInfo:qo(e.a)}),cu(t,Fs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return _e(n={mfaPendingCredential:n},{phoneVerificationInfo:qo(e.a)}),cu(t,Us,n)}))}(this,e,t)},S(dl,fl),S(pl,dl),S(vl,en),(e=ml.prototype).yc=function(e){gl(this,function(e){var t=[];return G(e.mfaInfo||[],(function(e){(e=ai(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new ho(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return Hl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=K(t.b,(function(e){return e.uid!=n}));return gl(t,r),Hl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_l.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},_l.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Dt(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?El(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},Sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Il,Tn),Il.prototype.wa=function(e){this.ya=e,cs(this.a,e)},Il.prototype.la=function(){return this.ya},Il.prototype.Ga=function(){return Z(this.$)},Il.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},ti(Il.prototype,"providerId","firebase"),(e=Il.prototype).reload=function(){var e=this;return $l(this,Ul(this).then((function(){return Kl(e).then((function(){return Ll(e)})).then(Fl)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return $l(this,Ul(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.za&&(Ol(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),zl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");jl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?H(e,(function(e){return new Tl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return $l(this,e.c(this.a,this.uid).then((function(e){return Hl(t,e),n=Jl(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return $l(this,Wl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Jl(t,e,"link"),Ql(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return $l(this,Wl(this,"phone").then((function(){return ol(Pl(n),e,t,w(n.qb,n))})))},e.Mc=function(e,t){var n=this;return $l(this,Pt().then((function(){return ol(Pl(n),e,t,w(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return $l(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.ed=function(e){var t=this;return $l(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hl(t,e),t.reload()})))},e.Cb=function(e){var t=this;return $l(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ul(this);var t=this;return $l(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hl(t,e),zl(t,"displayName",e.displayName||null),zl(t,"photoURL",e.photoUrl||null),G(t.providerData,(function(e){"password"===e.providerId&&(ti(e,"displayName",t.displayName),ti(e,"photoURL",t.photoURL))})),Ll(t)})).then(Fl))},e.cd=function(e){var t=this;return $l(this,Kl(this).then((function(n){return J(Vl(t),e)?function(e,t,n){return cu(e,Ls,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return G(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),G(Vl(t),(function(e){n[e]||Bl(t,e)})),n[Bo.PROVIDER_ID]||ti(t,"phoneNumber",null),Ll(t)})):Ll(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return $l(this,this.I().then((function(t){return cu(e.a,Os,{idToken:t})})).then((function(){e.dispatchEvent(new vl("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");Cl(e,null),xl(e,null),Al(e,null),e.J=[],e.D=!0,Rl(e),ti(e,"refreshToken",null),e.i&&qc(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):null},e.Ec=function(e){var t=this;return Xl(this,"linkViaPopup",e,(function(){return Wl(t,e.providerId).then((function(){return Ll(t)}))}),!1)},e.Nc=function(e){return Xl(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Yl(this,"linkViaRedirect",e,(function(){return Wl(t,e.providerId)}),!1)},e.Oc=function(e){return Yl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return Cs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Jl(i,e,"link"),Ql(i,e)})).then((function(){return o})),$l(this,n)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=Pt().then((function(){return mo(xs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Jl(i,e,"reauthenticate"),Hl(i,e),i.h=null,i.reload()})).then((function(){return o}));return $l(this,a,!0)},e.ub=function(e){var t=this,n=null;return $l(this,this.I().then((function(t){return n=t,"undefined"===typeof e||me(e)?{}:Ki(new Li(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return $l(this,this.I().then((function(e){return r=e,"undefined"===typeof t||me(t)?{}:Ki(new Li(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return e=mo(Pt(e),n.uid).then((function(e){return t=Jl(n,e,"reauthenticate"),Hl(n,e),n.h=null,n.reload()})).then((function(){return t})),$l(this,e,!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&_e(e,this.metadata.w()),G(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),_e(e,this.O.w()),e};var nh={name:"redirectUser",F:"session"};function rh(e){return lc(e.b,nh,e.a)}function ih(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=sh("local"),n=sh("session"),r=sh("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=zr(s.localStorage.getItem(r))}catch(ae){}if(a&&!o)return s.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(ah,e.a).then((function(e){return e?sh(e):t}))}))}))})).then((function(t){return e.c=t,oh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(sh("local"),this.a,w(this.g,this))}function oh(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,sh(oc[n]),e.a));return r.push(lc(e.b,ah,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Rt(e[s],k(o,s),a);else t(i)}))}(r)}ih.prototype.g=function(){var e=this,t=sh("local");hh(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return oh(e,"local").then((function(){e.c=t}))}))}))};var ah={name:"persistence",F:"session"};function sh(e){return{name:"authUser",F:e}}function uh(e,t){return hh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ch(e){return hh(e,(function(){return lc(e.b,e.c,e.a)}))}function lh(e,t,n){return hh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),eh(e||{})}))}))}function hh(e,t){return e.f=e.f.then(t,t),e.f}function fh(e){if(this.l=!1,ti(this,"settings",new rl),ti(this,"app",e),!wh(this).options||!wh(this).options.apiKey)throw new I("invalid-api-key");e=te.Z.SDK_VERSION?Rr(te.Z.SDK_VERSION):null,this.a=new ns(wh(this).options&&wh(this).options.apiKey,D(x),e),this.R=[],this.s=[],this.O=[],this.hb=te.Z.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=te.Z.INTERNAL.createSubscribe(w(this.Ac,this)),bh(this,null),this.i=new ih(wh(this).options.apiKey+":"+wh(this).name),this.D=new th(wh(this).options.apiKey+":"+wh(this).name),this.$=Th(this,function(e){var t=wh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(nh,e.a).then((function(e){return e&&t&&(e.authDomain=t),eh(e||{})}))}(e.D,wh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),rh(e.D)}));return Th(e,t)}(e).then((function(){return lh(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return uh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ch(e.i)}))):null})).then((function(t){bh(e,t||null)}));return Th(e,n)}(this)),this.h=Th(this,function(e){return e.$.then((function(){return gh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(sh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=wh(e).options.authDomain,n=wh(e).options.apiKey;t&&jr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Xc(t,n,wh(e).name,e.P),Vc(e.b,e),kh(e)&&Ml(kh(e)),e.m){Ml(e.m);var r=e.m;r.wa(e.la()),Cl(r,e),Nl(r=e.m,e.J),Al(r,e),ls((r=e.m).a,e.P),xl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=zn(this.P.url);e=ri({protocol:e.c,host:e.a,port:e.g,options:ri({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function dh(e){en.call(this,"languageCodeChanged"),this.h=e}function ph(e){en.call(this,"emulatorConfigChanged"),this.c=e}function vh(e){en.call(this,"frameworkChanged"),this.f=e}function mh(e){return e.Oa||Dt(new I("auth-domain-config-required"))}function gh(e){if(!jr())return Dt(new I("operation-not-supported-in-this-environment"));var t=mh(e).then((function(){return e.b.qa()})).then((function(e){return e?ri(e):null}));return Th(e,t)}function yh(e,t){var n={};return n.apiKey=wh(e).options.apiKey,n.authDomain=wh(e).options.authDomain,n.appName=wh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new Il(e,t);return n&&(i.ha=n),r&&Nl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return kh(e)&&t.uid==kh(e).uid?(Gl(kh(e),t),e.da(t)):(bh(e,t),Ml(t),e.da(t))})).then((function(){Sh(e)}))}function bh(e,t){kh(e)&&(function(e,t){X(e.S,(function(e){return e==t}))}(kh(e),e.Ba),mn(kh(e),"tokenChanged",e.ya),mn(kh(e),"userDeleted",e.za),mn(kh(e),"userInvalidated",e.Aa),Rl(kh(e))),t&&(t.S.push(e.Ba),dn(t,"tokenChanged",e.ya),dn(t,"userDeleted",e.za),dn(t,"userInvalidated",e.Aa),0<e.u&&Dl(t)),ti(e,"currentUser",t),t&&(t.wa(e.la()),Cl(t,e),Nl(t,e.J),Al(t,e),ls(t.a,e.P),xl(t,e))}function _h(e,t){var n=null,r=null;return Th(e,t.then((function(t){return n=Go(t),r=to(t),yh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=hl(t.w(),e,w(e.kc,e))),n||t})).then((function(){return ri({user:kh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wh(e){return e.app}function kh(e){return e.currentUser}function Eh(e){return kh(e)&&kh(e)._lat||null}function Sh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Eh(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](Eh(e))}}function Th(e,t){return e.R.push(t),t.oa((function(){Q(e.R,t)})),t}function Ih(){}function Ch(){this.a={},this.b=1e12}ih.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!Mr()&&"none"!==e)throw n}}(e),hh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,oh(n,e)})).then((function(){if(n.c=sh(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},S(fh,Tn),S(dh,en),S(ph,en),S(vh,en),(e=fh.prototype).xb=function(e){return Th(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new dh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=s.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!e&&kr().then((function(){var e=s.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),s.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,ls(this.a,this.P),this.dispatchEvent(new ph(this.P))}},e.Gc=function(e){this.J.push(e),fs(this.a,te.Z.SDK_VERSION?Rr(te.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new vh(this.J))},e.Ga=function(){return Z(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:wh(this).options.apiKey,authDomain:wh(this).options.authDomain,appName:wh(this).name,currentUser:kh(this)&&kh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return _h(i,Is(i.a,o))}))},e.Xc=function(e){if(!jr())return Dt(new I("operation-not-supported-in-this-environment"));var t=this,n=eo(e.providerId),r=Gr(),i=null;(!Vr()||Sr())&&wh(this).options.authDomain&&e.isOAuthProvider&&(i=Su(wh(this).options.authDomain,wh(this).options.apiKey,wh(this).name,"signInViaPopup",e,null,r,te.Z.SDK_VERSION||null,null,null,this.T(),this.P));var o=br(i,n&&n.ua,n&&n.ta);return n=mh(this).then((function(n){return Gc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Wc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&yr(o),e?ri(e):null})).o((function(e){throw o&&yr(o),e})),Th(this,n)},e.Yc=function(e){if(!jr())return Dt(new I("operation-not-supported-in-this-environment"));var t=this,n=mh(this).then((function(){return function(e){return hh(e,(function(){return e.b.set(ah,e.c.F,e.a)}))}(t.i)})).then((function(){return Hc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Th(this,n)},e.qa=function(){var e=this;return gh(this).then((function(t){return e.b&&$c(e.b.b),t})).o((function(t){throw e.b&&$c(e.b.b),t}))},e.dd=function(e){if(!e)return Dt(new I("null-user"));if(this.S!=e.tenantId)return Dt(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=wh(this).options.apiKey,n.authDomain=wh(this).options.authDomain,n.appName=wh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Il(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Nl(t,r),Gl(t,e),t}(e,n,t.D,t.Ga());return Th(this,this.h.then((function(){if(wh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return kh(t)&&e.uid==kh(t).uid?(Gl(kh(t),e),t.da(e)):(bh(t,r),Ml(r),t.da(r))})).then((function(){Sh(t)})))},e.Ab=function(){var e=this;return Th(this,this.h.then((function(){return e.b&&$c(e.b.b),kh(e)?(bh(e,null),ch(e.i).then((function(){Sh(e)}))):Pt()})))},e.Zc=function(){var e=this;return lh(this.i,wh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=kh(e)&&t){n=kh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Gl(kh(e),t),kh(e).I();(kh(e)||t)&&(bh(e,t),t&&(Ml(t),t.ha=e.D),e.b&&Vc(e.b,e),Sh(e))}}))},e.da=function(e){return uh(this.i,e)},e.mc=function(){Sh(this),this.da(kh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return _h(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(kh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),Th(e,e.h.then((function(){!e.l&&J(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(Eh(e)))})))}(this,(function(){e.next(kh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(kh(r)):"function"===typeof e.next&&e.next(kh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof e?e(kh(r)):"function"===typeof e.next&&e.next(kh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this,n=this.h.then((function(){return kh(t)?kh(t).I(e).then((function(e){return{accessToken:e}})):null}));return Th(this,n)},e.Tc=function(e){var t=this;return this.h.then((function(){return _h(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return zl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return _h(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return _h(n,cu(n.a,Ds,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return _h(t,e.ka(t.a))}))},e.Sc=function(e){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=kh(e);if(t&&t.isAnonymous){var n=ri({providerId:null,isNewUser:!1});return ri({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return _h(e,e.a.zb()).then((function(t){var n=t.user;return zl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return kh(this)&&kh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&kh(this)&&Dl(kh(this))},e.Pc=function(e){var t=this;G(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&kh(this)&&Rl(kh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Th(this,this.h.then((function(){t.l||J(t.s,e)&&e(Eh(t))})))},e.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(sh("local"),e.a,this.ja),this.b&&(qc(this.b,this),$c(this.b.b)),Promise.resolve()},e.hc=function(e){return Th(this,function(e,t){return cu(e,Rs,{identifier:t,continueUri:Fr()?pr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Fo(e)},e.wb=function(e,t){var n=this;return Th(this,Pt().then((function(){var e=new Li(t);if(!e.c)throw new I("argument-error",Fi+" must be true when sending sign in link to email");return Ki(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return Th(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return Th(this,this.a.Ra(e).then((function(e){return new fi(e)})))},e.jb=function(e){return Th(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return Th(this,Pt().then((function(){return"undefined"===typeof t||me(t)?{}:Ki(new Li(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Th(this,ol(this,e,t,w(this.$a,this)))},e.Vc=function(e,t){var n=this;return Th(this,Pt().then((function(){var r=t||pr(),i=jo(e,r);if(!(r=Fo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.$a(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var xh=null;function Nh(e,t){return(t=Ah(t))&&e.a[t]||null}function Ah(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Ph(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ft(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function Dh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Rh(){}function Oh(){}Ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new Ph(e,t),this.b++},Ch.prototype.reset=function(e){var t=Nh(this,e);e=Ah(e),t&&e&&(t.delete(),delete this.a[e])},Ch.prototype.getResponse=function(e){return(e=Nh(this,e))?e.getResponse():null},Ch.prototype.execute=function(e){(e=Nh(this,e))&&e.execute()},Ph.prototype.getResponse=function(){return Dh(this),this.b},Ph.prototype.execute=function(){Dh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(iv){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(iv){}e.h&&e.execute()}),6e4)}),500))},Ph.prototype.delete=function(){Dh(this),this.g=!0,clearTimeout(this.a),this.a=null,mn(this.f,"click",this.i)},ti(Rh,"FACTOR_ID","phone"),Oh.prototype.g=function(){return xh||(xh=new Ch),Pt(xh)},Oh.prototype.c=function(){};var Lh=null;function Mh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jh=new ke(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fh=new Wr(3e4,6e4);Mh.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Fh.get());!s.grecaptcha||e!==t.f&&!t.b?(s[t.a]=function(){if(s.grecaptcha){t.f=e;var o=s.grecaptcha.render;s.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[t.a]},Pt(Qa(Ae(jh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Mh.prototype.c=function(){this.b--};var Uh=null;function Vh(e,t,n,r,i,o,a){if(ti(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,a?(Lh||(Lh=new Oh),a=Lh):(Uh||(Uh=new Mh),a=Uh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[zh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ft(t)||!this.i&&ft(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[qh];this.a[qh]=function(e){if(Kh(u,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Lr(c,s);"function"===typeof t&&t(e)}};var l=this.a[Bh];this.a[Bh]=function(){if(Kh(u,null),"function"===typeof l)l();else if("string"===typeof l){var e=Lr(l,s);"function"===typeof e&&e()}}}var qh="callback",Bh="expired-callback",zh="sitekey",Gh="size";function Kh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(iv){}}function Hh(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function Wh(e){if(e.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Jh(e,t,n){var r=!1;try{this.b=n||te.Z.app()}catch(fv){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(fv){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(fv){}o=te.Z.SDK_VERSION?Rr(te.Z.SDK_VERSION,o):null,Vh.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(ae){e=null}return e}),o,D(x),r)}function Qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Xh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Xh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=Vh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Hh(this,Pt().then((function(){if(Fr()&&!Ir())return kr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Hs,{})})).then((function(t){e.a[zh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Wh(this);var e=this;return Hh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ft(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ht&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};_e(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=yt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):dt(o,a)),2<r.length&&gt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Wh(this);var e=this;return Hh(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Wh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Wh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ft(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(Jh,Vh);var Xh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Zh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function $h(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function ef(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function tf(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function nf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function rf(e,t){return v(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function of(e){return v(e)&&"string"===typeof e.uid}function af(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function sf(e,t){for(var n in t){var r=t[n].name;e[r]=lf(r,e[n],t[n].j)}}function uf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:k((function(e){return this[e]}),n),set:k((function(e,t,n,r){Qh(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function cf(e,t,n,r){e[t]=lf(t,n,r)}function lf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}sf(fh.prototype,{jb:{name:"applyActionCode",j:[Yh("code")]},Ra:{name:"checkActionCode",j:[Yh("code")]},nb:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[af($h(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[af($h(),ef(),"nextOrObserver"),ef("opt_error",!0),ef("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Yh("email"),af($h("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Yh("email"),$h("actionCodeSettings")]},xb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[nf()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[nf()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[af({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Il)}},tf(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),$h("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),uf(fh.prototype,{lc:{name:"languageCode",kb:af(Yh(),tf(),"languageCode")},ti:{name:"tenantId",kb:af(Yh(),tf(),"tenantId")}}),fh.Persistence=oc,fh.Persistence.LOCAL="local",fh.Persistence.SESSION="session",fh.Persistence.NONE="none",sf(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[nf()]},qb:{name:"linkWithCredential",j:[nf()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[nf()]},tb:{name:"reauthenticateWithCredential",j:[nf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[af($h("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Bb:{name:"updateEmail",j:[Yh("email")]},Cb:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[nf("phone")]},Db:{name:"updateProfile",j:[$h("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),af($h("opt_actionCodeSettings",!0),tf(null,!0),"opt_actionCodeSettings",!0)]}}),sf(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),sf(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),uf(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Zh("appVerificationDisabledForTesting")}}),sf(il.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),cf(vo,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[ko,Lo,Vo,bo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[af(Yh(),$h(),"json")]),cf(Mo,"credential",(function(e,t){return new Oo(e,t)}),[Yh("email"),Yh("password")]),sf(Oo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Io.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),cf(Io,"credential",Co,[af(Yh(),$h(),"token")]),cf(Mo,"credentialWithLink",jo,[Yh("email"),Yh("emailLink")]),sf(xo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),cf(xo,"credential",No,[af(Yh(),$h(),"token")]),sf(Ao.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),cf(Ao,"credential",Po,[af(Yh(),af($h(),tf()),"idToken"),af(Yh(),tf(),"accessToken",!0)]),sf(Do.prototype,{Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),cf(Do,"credential",Ro,[af(Yh(),$h(),"token"),Yh("secret",!0)]),sf(To.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[af(Yh(),af($h(),tf()),"optionsOrIdToken"),af(Yh(),tf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[$h("customOAuthParameters")]}}),sf(_o.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(go.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),cf(Bo,"credential",zo,[Yh("verificationId"),Yh("verificationCode")]),sf(Bo.prototype,{fb:{name:"verifyPhoneNumber",j:[af(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?rf(e.session,fo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?rf(e.session,po)&&of(e.multiFactorHint):e.session&&e.multiFactorUid?rf(e.session,po)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),sf(Uo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),sf(I.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Zo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(Yo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(ll.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),sf(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),sf(ml.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[af({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:of},Yh(),"multiFactorInfoIdentifier")]}}),sf(Jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),cf(Ii,"parseLink",Oi,[Yh("link")]),cf(Rh,"assertion",(function(e){return new pl(e)}),[nf("phone")]),function(){if("undefined"===typeof te.Z||!te.Z.INTERNAL||!te.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:vi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fh,AuthCredential:vo,Error:I};cf(e,"EmailAuthProvider",Mo,[]),cf(e,"FacebookAuthProvider",Io,[]),cf(e,"GithubAuthProvider",xo,[]),cf(e,"GoogleAuthProvider",Ao,[]),cf(e,"TwitterAuthProvider",Do,[]),cf(e,"OAuthProvider",To,[Yh("providerId")]),cf(e,"SAMLAuthProvider",So,[Yh("providerId")]),cf(e,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof fh)}}]),cf(e,"RecaptchaVerifier",Jh,[af(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),$h("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof te.Z.app.App)}}]),cf(e,"ActionCodeURL",Ii,[]),cf(e,"PhoneMultiFactorGenerator",Rh,[]),te.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new fh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),te.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),te.Z.registerVersion("@firebase/auth","0.16.5"),te.Z.INTERNAL.extendNamespace({User:Il})}()}.apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});te.Z.initializeApp({apiKey:"AIzaSyCAR99i28EQv5B3MjXLAjjSNDfPzZf7iIo",authDomain:"kanban-database.firebaseapp.com",projectId:"kanban-database",storageBucket:"kanban-database.appspot.com",messagingSenderId:"369352286637",appId:"1:369352286637:web:845b7eb6c183076e4c4124"});var Pp=te.Z.firestore(),Dp=te.Z.auth(),Rp=te.Z.firestore.Timestamp,Op=n(184),Lp=(0,t.createContext)(),Mp=function(e,t){switch(t.type){case"LOGIN":case"UPDATE":return ee(ee({},e),{},{user:t.payload});case"LOGOUT":case"DELETE":return ee(ee({},e),{},{user:null});case"AUTH_IS_READY":return ee(ee({},e),{},{user:t.payload,authIsReady:!0});default:return e}},jp=function(e){var n=e.children,r=a((0,t.useReducer)(Mp,{user:null,authIsReady:!1}),2),i=r[0],o=r[1];return(0,t.useEffect)((function(){var e=Dp.onAuthStateChanged((function(t){o({type:"AUTH_IS_READY",payload:t}),e()}))}),[]),(0,Op.jsx)(Lp.Provider,{value:ee(ee({},i),{},{dispatch:o}),children:n})},Fp=function(){var e=(0,t.useContext)(Lp);if(!e)throw Error("No provider for context");return e},Up=(0,t.createContext)(),Vp=function(e,t){return"CHANGE_THEME"===t.type?ee(ee({},e),{},{darkMode:t.payload}):e};function qp(e){var n=e.children,r="true"===localStorage.getItem("darkMode"),i=a((0,t.useReducer)(Vp,{darkMode:r}),2),o=i[0],s=i[1];return(0,Op.jsx)(Up.Provider,{value:ee(ee({},o),{},{changeMode:function(e){localStorage.setItem("darkMode",e),s({type:"CHANGE_THEME",payload:e})}}),children:n})}var Bp=function(){var e=(0,t.useContext)(Up);if(void 0===e)throw new Error("useTheme() must be used inside a ThemeProvider");return e};function zp(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gp=function(e,n){var r=a((0,t.useState)(null),2),i=r[0],o=r[1],s=a((0,t.useState)(null),2),u=s[0],c=s[1],l=(0,t.useRef)(n).current;return(0,t.useEffect)((function(){var t,n=Pp.collection(e);l&&(n=(t=n).where.apply(t,zp(l)));var r=n.onSnapshot((function(e){var t=[];e.docs.forEach((function(e){t.push(ee(ee({},e.data()),{},{id:e.id}))})),o(t),c(null)}),(function(e){c("could not fetch the data")}));return function(){return r()}}),[e,l]),{documents:i,error:u}};function Kp(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hp(e){return!!e&&!!e[Ov]}function Wp(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Mv}(e)||Array.isArray(e)||!!e[Rv]||!!e.constructor[Rv]||ev(e)||tv(e))}function Jp(e,t,n){void 0===n&&(n=!1),0===Qp(e)?(n?Object.keys:jv)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Qp(e){var t=e[Ov];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ev(e)?2:tv(e)?3:0}function Xp(e,t){return 2===Qp(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Yp(e,t){return 2===Qp(e)?e.get(t):e[t]}function Zp(e,t,n){var r=Qp(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function $p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ev(e){return Nv&&e instanceof Map}function tv(e){return Av&&e instanceof Set}function nv(e){return e.o||e.t}function rv(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Fv(e);delete t[Ov];for(var n=jv(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function iv(e,t){return void 0===t&&(t=!1),av(e)||Hp(e)||!Wp(e)||(Qp(e)>1&&(e.set=e.add=e.clear=e.delete=ov),Object.freeze(e),t&&Jp(e,(function(e,t){return iv(t,!0)}),!0)),e}function ov(){Kp(2)}function av(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function sv(e){var t=Uv[e];return t||Kp(18,e),t}function uv(e,t){Uv[e]||(Uv[e]=t)}function cv(){return Cv}function lv(e,t){t&&(sv("Patches"),e.u=[],e.s=[],e.v=t)}function hv(e){fv(e),e.p.forEach(pv),e.p=null}function fv(e){e===Cv&&(Cv=e.l)}function dv(e){return Cv={p:[],l:Cv,h:e,m:!0,_:0}}function pv(e){var t=e[Ov];0===t.i||1===t.i?t.j():t.O=!0}function vv(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||sv("ES5").S(t,e,r),r?(n[Ov].P&&(hv(t),Kp(4)),Wp(e)&&(e=mv(t,e),t.l||yv(t,e)),t.u&&sv("Patches").M(n[Ov].t,e,t.u,t.s)):e=mv(t,n,[]),hv(t),t.u&&t.v(t.u,t.s),e!==Dv?e:void 0}function mv(e,t,n){if(av(t))return t;var r=t[Ov];if(!r)return Jp(t,(function(i,o){return gv(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return yv(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=rv(r.k):r.o;Jp(3===r.i?new Set(i):i,(function(t,o){return gv(e,r,i,t,o,n)})),yv(e,i,!1),n&&e.u&&sv("Patches").R(r,n,e.u,e.s)}return r.o}function gv(e,t,n,r,i,o){if(Hp(i)){var a=mv(e,i,o&&t&&3!==t.i&&!Xp(t.D,r)?o.concat(r):void 0);if(Zp(n,r,a),!Hp(a))return;e.m=!1}if(Wp(i)&&!av(i)){if(!e.h.F&&e._<1)return;mv(e,i),t&&t.A.l||yv(e,i)}}function yv(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&iv(t,n)}function bv(e,t){var n=e[Ov];return(n?nv(n):e)[t]}function _v(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wv(e){e.P||(e.P=!0,e.l&&wv(e.l))}function kv(e){e.o||(e.o=rv(e.t))}function Ev(e,t,n){var r=ev(t)?sv("MapSet").N(t,n):tv(t)?sv("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:cv(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Vv;n&&(i=[r],o=qv);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):sv("ES5").J(t,n);return(n?n.A:cv()).p.push(r),r}function Sv(e){return Hp(e)||Kp(22,e),function e(t){if(!Wp(t))return t;var n,r=t[Ov],i=Qp(t);if(r){if(!r.P&&(r.i<4||!sv("ES5").K(r)))return r.t;r.I=!0,n=Tv(t,i),r.I=!1}else n=Tv(t,i);return Jp(n,(function(t,i){r&&Yp(r.t,t)===i||Zp(n,t,e(i))})),3===i?new Set(n):n}(e)}function Tv(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return rv(e)}var Iv,Cv,xv="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Nv="undefined"!=typeof Map,Av="undefined"!=typeof Set,Pv="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Dv=xv?Symbol.for("immer-nothing"):((Iv={})["immer-nothing"]=!0,Iv),Rv=xv?Symbol.for("immer-draftable"):"__$immer_draftable",Ov=xv?Symbol.for("immer-state"):"__$immer_state",Lv="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Mv=""+Object.prototype.constructor,jv="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Fv=Object.getOwnPropertyDescriptors||function(e){var t={};return jv(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Uv={},Vv={get:function(e,t){if(t===Ov)return e;var n=nv(e);if(!Xp(n,t))return function(e,t,n){var r,i=_v(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Wp(r)?r:r===bv(e.t,t)?(kv(e),e.o[t]=Ev(e.A.h,r,e)):r},has:function(e,t){return t in nv(e)},ownKeys:function(e){return Reflect.ownKeys(nv(e))},set:function(e,t,n){var r=_v(nv(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=bv(nv(e),t),o=null==i?void 0:i[Ov];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if($p(n,i)&&(void 0!==n||Xp(e.t,t)))return!0;kv(e),wv(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==bv(e.t,t)||t in e.t?(e.D[t]=!1,kv(e),wv(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nv(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Kp(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Kp(12)}},qv={};Jp(Vv,(function(e,t){qv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),qv.deleteProperty=function(e,t){return qv.set.call(this,e,t,void 0)},qv.set=function(e,t,n){return Vv.set.call(this,e[0],t,n,e[0])};var Bv=function(){function e(e){var t=this;this.g=Pv,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&Kp(6),void 0!==r&&"function"!=typeof r&&Kp(7),Wp(e)){var s=dv(t),u=Ev(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?hv(s):fv(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return lv(s,r),vv(e,s)}),(function(e){throw hv(s),e})):(lv(s,r),vv(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Dv&&(a=void 0),t.F&&iv(a,!0),r){var l=[],h=[];sv("Patches").M(e,a,l,h),r(l,h)}return a}Kp(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Wp(e)||Kp(8),Hp(e)&&(e=Sv(e));var t=dv(this),n=Ev(this,e,void 0);return n[Ov].C=!0,fv(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ov]).A;return lv(n,t),vv(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Pv&&Kp(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=sv("Patches").$;return Hp(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),zv=new Bv,Gv=zv.produce,Kv=(zv.produceWithPatches.bind(zv),zv.setAutoFreeze.bind(zv),zv.setUseProxies.bind(zv),zv.applyPatches.bind(zv),zv.createDraft.bind(zv),zv.finishDraft.bind(zv),Gv);var Hv=n.p+"static/media/icon-dark-theme.9812582fa58ec8051801098dbfd8c29d.svg";var Wv=n.p+"static/media/icon-light-theme.b98efecd506358014a7ae1eadb34e36c.svg",Jv=n.p+"static/media/MP-Projects-logo.25de4953da7e1473657d.png";var Qv=n.p+"static/media/icon-board.29b48f5174742b4dd3a04f52d710293c.svg";var Xv=n.p+"static/media/pen-solid.d56bf1faddf487292f26d562ebe24ae7.svg";function Yv(e){var t=e.doc,n=M(),r=L(),i=Bp().darkMode;return(0,Op.jsx)("ul",{className:"menu__board-element",children:(0,Op.jsx)(Y,{className:"menu__board-element-wrapper ".concat(i?"darkMode__board-button":""),to:"boards/".concat(t.id),children:(0,Op.jsxs)("button",{className:"menu__board-element-button",children:[(0,Op.jsx)("img",{src:Qv,alt:"board",className:"menu__board-element-img"}),(0,Op.jsx)("li",{className:"menu__board-element-li",children:t.name}),(0,Op.jsx)("span",{onClick:function(e){e.stopPropagation(),e.preventDefault(),n("".concat(r.pathname,"/editBoard"))},className:" menu__edit-board ",children:(0,Op.jsx)("img",{className:" menu__edit-img-board",src:Xv,alt:"edit"})})]})})})}function Zv(e){var t=e.handleCreateBoard;return(0,Op.jsx)("div",{className:"menu__create-button-wrapper",children:(0,Op.jsxs)("button",{onClick:t,className:"menu__create-button",children:[(0,Op.jsx)("img",{src:Qv,alt:"board",className:"menu__create-button-img"}),(0,Op.jsx)("p",{className:"menu__create-button-text",children:"+ Create New Board"})]})})}function $v(e){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(e)}function em(){em=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(I){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var l={};function h(){}function f(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==$v(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=d,s(g,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function tm(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function nm(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){tm(o,r,i,a,s,"next",e)}function s(e){tm(o,r,i,a,s,"throw",e)}a(void 0)}))}}var rm={document:null,isPending:!1,error:null,succes:null},im=function(e,t){switch(t.type){case"IS_PENDING":return{isPending:!0,document:null,succes:!1,error:null};case"ADDED_DOCUMENT":case"DELETED_DOCUMENT":return{isPending:!1,document:t.payload,succes:!0,error:null};case"ERROR":return{isPending:!1,document:null,succes:!1,error:t.payload};default:return e}},om=function(e){var n=a((0,t.useReducer)(im,rm),2),r=n[0],i=n[1],o=a((0,t.useState)(!1),2),s=o[0],u=o[1],c=Pp.collection(e),l=function(e){s||i(e)},h=function(){var e=nm(em().mark((function e(t){var n,r;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"IS_PENDING"}),e.prev=1,n=Rp.fromDate(new Date),e.next=5,c.add(ee(ee({},t),{},{createdAt:n}));case 5:r=e.sent,l({type:"ADDED_DOCUMENT",payload:r}),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),l({type:"ERROR",payload:e.t0.message}),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=nm(em().mark((function e(t,n){var r,o;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"IS_PENDING"}),e.prev=1,r=Rp.fromDate(new Date),e.next=5,c.doc(n).set(ee(ee({},t),{},{lastEdited:r}));case 5:o=e.sent,l({type:"ADDED_DOCUMENT",payload:o}),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),l({type:"ERROR",payload:e.t0.message}),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=nm(em().mark((function e(t){var n;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"IS_PENDING"}),e.prev=1,e.next=4,c.doc(t).delete();case 4:n=e.sent,l({type:"DELETED_DOCUMENT",payload:n}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),l({type:"ERROR",payload:"could not delete"}),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){u(!0)}}),[]),{addDocument:h,setDocument:f,deleteDocument:d,response:r}},am=function(){return{validate:function(e,t){var n="";if(!t)return"description"===e?void(n=""):n="Can't be empty";switch(e){case"name":t.length<3&&(n="Name should be atleast 3 characters"),t.length>15&&(n="Name should be maximum 15 characters");break;case"column":t.length>15&&(n="Column name should be maximum 15 characters");break;case"email":new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t)||(n="Enter a valid email address"),t.length>40&&(n="Email should be maximum 40 characters");break;case"password":t.length<6&&(n="Password should be atleast have 6 characters"),t.length>12&&(n="Password should be maximum 12 characters");break;case"title":case"text":t.length>100&&(n="Max 100 characters");break;case"description":t.length>250&&(n="Max 250 characters");break;case"message":t.length>5e3&&(n="Max 5000 characters");break;default:n=""}return n}}};function sm(e,n){(0,t.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n])}var um=n.p+"static/media/icon-cross.d4ca9e0d2a82f7ea4ae08238a42f84ed.svg";function cm(e){var n=e.uid,r=e.boards,i=[{active:!1,name:"Todo",value:"Todo",error:!1},{active:!1,name:"Doing",value:"Doing",error:!1},{active:!1,name:"Done",value:"Done",error:!1},{active:!1,name:"Custom",value:"Custom",error:!1}],o=a((0,t.useState)(i),2),s=o[0],u=o[1],c=a((0,t.useState)(""),2),l=c[0],h=c[1],f=a((0,t.useState)(""),2),d=f[0],p=f[1],v=a((0,t.useState)(""),2),m=v[0],g=v[1],y=a((0,t.useState)(!1),2),b=y[0],_=y[1],w=a((0,t.useState)(!1),2),k=w[0],E=w[1],S=a((0,t.useState)(""),2),T=S[0],I=S[1],C=om("boards"),x=C.addDocument,N=C.response,A=am().validate,P=Bp().darkMode,D=M(),R=(0,t.useRef)();sm(R,(function(){D(-1)}));var O=function(){g(!1),E(!1),I("")},L=function(){var e=A("name",d);if(e)return g(e),e;var t="",n=Kv(s,(function(e){e.forEach((function(e){e.error=!1})),e.every((function(e){var n=A("column",e.value);return!n||(e.error=!0,t=n,!1)}))}));return t?(u(n),t):void 0},j=function(){var e=Kv(s,(function(e){e.forEach((function(e){delete e.error}))}));return{name:d,columns:e,uid:n}},F=function(){var e=nm(em().mark((function e(t){var n,r;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),I(""),0!==s.filter((function(e){return!0===e.active})).length){e.next=6;break}return I("Add a column!"),e.abrupt("return");case 6:if(!(n=L())){e.next=10;break}return I(n),e.abrupt("return");case 10:return r=j(),e.prev=11,e.next=14,x(r);case 14:if(!e.sent){e.next=17;break}throw Error("Couldn't create new board");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),I(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){var e=s.filter((function(e){return e.error}));if((m||e.length>0)&&E(!0),s.filter((function(e){return e.active})).length===i.length&&_(!0),N.succes)if(r){var t=Kv(r,(function(e){e.sort((function(e,t){return t.createdAt-e.createdAt}))}));D("/home/boards/".concat(t[0].id),{replace:!0})}else D(-1)}),[N.succes,r,s,m,i.length,D]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsx)("section",{ref:R,className:"newBoard ".concat(P?"darkMode--light":""),children:(0,Op.jsxs)("form",{onSubmit:F,className:"newBoard__form",children:[(0,Op.jsx)("h2",{className:"newBoard__form-h2",children:"Create New Board"}),(0,Op.jsxs)("div",{className:"newBoard__form-wrapper",children:[(0,Op.jsx)("span",{className:"newBoard__form-span",children:"Name"}),(0,Op.jsx)("input",{placeholder:"e.g. Web Design",type:"text",className:"newBoard__form-input ".concat(m?"newBoard__form-input--error":""," ").concat(P?"darkMode--light":""),value:d,onChange:function(e){p(e.target.value),O(),u(Kv(s,(function(e){e.forEach((function(e){e.error=!1}))})))}})]}),(0,Op.jsxs)("div",{className:"newBoard__form-wrapper",children:[(0,Op.jsx)("span",{className:"newBoard__form-span",children:"Columns"}),(0,Op.jsx)("div",{className:"select",children:(0,Op.jsxs)("select",{className:"newBoard__form-select ".concat(P?"darkMode--select":""),name:"Column name",defaultValue:"",disabled:b,onChange:function(e){e.target.value&&h(e.target.value),O()},children:[(0,Op.jsx)("option",{hidden:!0,value:"",children:b?"All columns selected":"Choose column"}),s&&s.map((function(e){return!1===e.active?(0,Op.jsx)("option",{value:e.name,children:e.name},e.name):""})),!b&&(0,Op.jsx)("option",{value:"All Columns",children:"All Columns"})]})}),s&&s.map((function(e){return"All Columns"!==e.value&&!0===e.active?(0,Op.jsxs)("div",{className:"newBoard__form-input-wrapper",children:[(0,Op.jsx)("input",{className:"newBoard__form-input ".concat(e.error?"newBoard__form-input--error":""," ").concat(P?"darkMode--light":""),value:e.value,onChange:function(t){!function(e,t){O();var n=Kv(s,(function(n){n.forEach((function(n){n.error&&(n.error=!1),n.name===t.name&&(n.value=e.target.value)}))}));u(n)}(t,e)}}),(0,Op.jsx)("button",{type:"button",onClick:function(){!function(e){O(),s.filter((function(e){return e.active})).length===i.length&&_(!1);var t=Kv(s,(function(t){t.forEach((function(t){t.error&&(t.error=!1),t.name===e&&(t.active=!1,t.value=t.name)}))}));u(t)}(e.name)},className:"newBoard__form-column-delete",children:(0,Op.jsx)("img",{className:" newBoard__form-column-delete-img",src:um,alt:"delete"})})]},e.name):""})),(0,Op.jsx)("p",{className:"newBoard__form-alert",children:T})]}),(0,Op.jsxs)("div",{className:"newBoard__form-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){if(O(),"All Columns"===l){var e=Kv(s,(function(e){e.forEach((function(e){e.active=!0}))}));u(e)}else if(""===l)I("Choose a column");else{var t=Kv(s,(function(e){e.forEach((function(e){e.name===l&&(e.active=!0)}))}));u(t)}h("")},type:"button",disabled:b,className:"newBoard__form-button newBoard__form-button--light-purple",children:(0,Op.jsx)("p",{className:"newBoard__form-button-p",children:"+ Add New Column"})}),(0,Op.jsx)("button",{disabled:k,className:"newBoard__form-button newBoard__form-button--purple ".concat(k?"newBoard__form-button--disabled":""),children:(0,Op.jsx)("p",{className:"newBoard__form-button-p",children:"Create new Board"})})]})]})})]})}function lm(e){var t=e.uid,n=e.boards,r=e.tasks,i=Bp(),o=i.darkMode,a=i.changeMode,s=L(),u=M();return(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsxs)("aside",{className:"menu ".concat(o?"darkMode--light":""),children:[(0,Op.jsx)(X,{to:"".concat(s.pathname,"/About"),className:"menu__logo",children:(0,Op.jsx)("img",{src:o?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeEAAACXCAYAAAAiRuNmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAACNMSURBVHhe7d35kyNneQfw921pTml0rO/1fduFDTYY2+uVKAoqlEMgoSDmCBibPyGVX/kb8nN+SIKNzX0kRRU3SaXQeA8D5qwCe21sfGOvvZJGo9HMSOq8T/erVd96u9UtdUvfT1XvdmtGI6lb3U+/1/Pyd9x2j84AAABg5jT5PwAAAMwYgjAAAMCcIAgDAADMCYIwAADAnCAIAwAAzAmCMAAAwJwgCAMAAMwJgjAAAMCcIAgDAADMCYIwAADAnCAIAwAAzAmCMAAAwJwsdRAuFLZYtXK1WK5jxWJZPgoAADAbSzeLUqVyGWO6CLg6Z9tPfEk+aqod/4LYIzrjfIeda74iHwUAAEjGwgdhTdNYuXQF04ebYssdeP0YAZmJgKztsfbOK2ww6Js/AAAAiMlCBuGNjU22vnapCLxrykF3klqNgvIBOzh8g3W7O+aDAAAAU1iYIFzaOiJKvReKwmsutsDrx6y2HrCh/jZrt8/KRwEAAMLJdBCulC+lfz3bd2dl1I7MeIs1m6/JRwEAACbLXBCuVq5k+rAg1uYXeP2M25G7rNV+mQ2HQ/MHAAAAHlIfhNfW1tnmxtFY23dnhYIy5wesd/Aa29vrykcBAABMqQzCxWKF5XMXiUJlPnOB18+oHXkwfJPt7JyTjwIAwDJLTRAuly9mnB2Za/vurJxvR2ZN1my9bj4IAABLZ65BuFqh8btFsbb4gdfPuB15l51rvmQ+CAAAS2GmQTifz7OtInWsWje2lzXwBjHakbV91t17le3v9+SjAACwiBIPwoVCia3kL1mo9t1ZMaut+6w/eIN1Oi35KAAALIpEgnC5dBHjnNp3NQTemIzakXX2Nmu13pCPAgBAlsUWhKuVy5muby1Fx6p5G7cjd9i55svmgwAAkDmRg7Cm5USJl9p3N4xtBN75MAOyOJBaj7V3XsJEEwAAGRIqCG9uFtnqymViLc+2txF008icaKLPDvuvs91dTDQBAJBmE4NwqXQB0zhNjID23aw5346sv8Va7TflowAAkBaBQbhauZY1Gl+TW5Bl9foDGIcMAJAymvzfk66vyjXIOhxLAID0CQzCoqAs/4fsm3CoAQBg5oKvzLEMXoJ0wA0VAEDaBAdhjgs3AABAUlASXhq4oQIASBs0FC4NBGEAgLQJHKJUKd06s7HBteMPM84PxTsaykei0WmiiO3H5FayarUHxXueMkOVrjGdrYj3/Ih8IBm12sOs2fqT3AIAgDRIRRCu1R4SAeJpuTU9mrnp9KmfyK1kHK99lLVa8SXAqJRvEoH4y3IrfnST02wjCAMApEk6qqN5R67EY3e3bZT8kkKZqOIMwCZMVQgAsGx8gzDnM5wNSR/IlfhwvifXEjBtFbSHoY6JFwAAlk1gEM6yvV5yc+7qKLUCAEAMFjYI93p756f5i5NZFY1J9QEAYHoBbcILMKSFH8iVGE3ZexsAAGAkoCQsVzJsODwn1+LDY+5EBgAAy8t3iFI+v8J+8+uG3EpWrfYx1my9LrfiFfcwq3fdcZwNBvF3JKN5m0888X25Fb+0DlGqVq4S/3rdC+rsXPMvcj1YpXKUceY9S9RgsMPaO2/JLTWVymXi763IrUmGbKgfsJ2ds+KmLz21JNXKFeLfgIqu8+j0H7LBsMfa7XD7ySnMa+qszw4Pd42RDHHK5fKsWDzCNE7fB+d7odcdsEG/y3Y6TfnYbDi/U7r4zoS95oX7XloNxbn0slyPplisiJiwKV4/J7acJTTzHGi33xSfK3yaxeifa4SuFdGmaV1f32Dra2VRuKLXt34u+q6IzzXcF5/rrHwsGb5BeGVlhf36qQUIwjGOv00ykC1jEJ40X7XK+PHC5hY7ffqncsuN2vCb7T/Krck2N4vsydM/k1vh0LC4w/4rIrDsyEfmo1q5WuzXb8gtdUYfCj5grfaZ0BfTaV6Taz1xEX1ePhJNaYsC78Xihlst6Y35WQ/F9+tZ+Uhy/PIW3Pnu94kbEbUms2m+l6Re/6TYxy/KLXXV8vXGNKiqBRk6Bw4OXmLdvV35SLBpP9dIrfZ5cSyfkVuTVSuXM31YUvpc5ndlKD7T8+Kzxd/EqXLbmm08vgsiXSwgRvqENg998tdzdeUiuRaPnJaXa+FR1rPTp37KyuWL5SPzEu20pgsS3bD+/ncnxU142Pmno78m3YhVyrfIR8KjEviJEz9QDsDE/KyPi9e9VT6SHE2j0qMbldpVTfO9NIU/PlSL2Nj+ilKgGqFz4Mkn/0f5HJj+c42ot59WyjeK79x3lD+X+V15lD31q58bNQJxW/gg3Gy+Jtemt78fd4IOCEJf/kkns66vybX0eGL7e+IC633hzYrCxvVybTbo4k0Xx7A2NwrigvptuRXe9vaXproBWFSV8s2hgq8TnQN+Nx/zVK1cKY559LTGee0yuRafhQ/CJI7sWVQloVrFAvHhrCzX3PL5/FQXiiRtFa+Va9mkcgMUN7o40jENY3X1crkWHd0AULXoYlNPBrS2ti72yaNyK7ry1jVyzd9hf1+uTUutP4Y+nO4403lRrUz+XGEsfMcsErW9yqpe+xw7l2D70VK2CZevY43tr8otb3Tz49emS526Go1vyi1vQc/3slWssJMnfyS3xmr1T7Dh0N4cwXlO3MVuGVV2TrWaeN2W+uvGya+tnfKd67r9YqUZHVJK4qLr7jdBE5Q0W2fkVrAwr5nTNthN1/0z+49Hj8tHxur1B0J1svHreFmvf4YN9Y7ttTVtTVyF6bO6q63r9U+L131BbsVra6vKTp74odwau+u9H2C9XlduBfP9Xorv95AF5y3Qh4NQHdH8ziujMMPbRmelEToHuDgHtr3OAcVzj26A8nl7jZbxvdSrrmPr+Xl1nbV33pYb/oLmFKjXPyU+V9fojEXM84I+l7vUTPshzslwAkrC4Xu5pVV3769yLbqBHv9wJ5iMTkLqfOVFH27KteQd7DeN3sPWpdV6Q9yYPSdOys/J37JI2elDFy/Kd+78DHTzSx1a6Odu01Un+r0m9dQ9/dS/yN+yC9O84JdalwIwdfRyvnaz+apx8fT6rI3G140SYNYcHL5o+4xeS9ie4F7HgPYZ7Tvah9a/TedA0zgHHpS/GV6327H9TVr8CmVcc/+uSgAmKyve15H7jv+d+L78hbXa4++LeV6cEZ/rIflbFpP6soTkG4SHw8UJwvv7PZ+LjBp6Lh0YmA//zlf2k4FKn/OQaJ7yWeEew+5ivtg4Ue2Mm3oLmV/nMSoBB+KLc21LhtdxD95nnKuV6OeJM3dTx6RrO+fJd8b1/cY7q5Cyjk+TPcvrAgWJoGpfZzClIRJOlfKl7lIQj3fMqapRFZZNsvErAXMITFPuI7/Uuot27UqFCcfK8xxYALoeV5u1v4AgnP67RRoDrKo/VKuy8BRimNOFF1blGkTVH7wq10w09MTdYack/zfNqxQMABQvslBQCX+jQNXSx47dz44f/8j5pdv7s/xpPALrfqapwp2FMEk4dnbORf48rRCdxvoHl8o1iGRYYp1Oy3WstopH5ZqkO9or51QKBgC6Rr5hdKqjDm6jhfEpCj4JGHqUaqk2jToVBqE29Vb77Pnl4CDe0rF6A0xKUc9DZRGqlaknnGqtwOrqmmdHEYiA24dUWDthbRXdvSY7nek730XFverqMtfsOIf6c88258ztuLlaXbnKuAb6LbNEvdqph/loabbmd0566fW8b9SNZDGlW43sYNXKUVYs+A+LTELmg7BX139/4UtLYTrdFDYvkWspNIdr7DR03dmjc/wBcrkjcs1EHXz6ffVxkHHT9Q25Fg0li6iUAhbx8/X1hJOSeGUnS7AD0+qqdypE7rj5gmC0D+ka6LdQcAGT2UHXO2cE7UcaathofJedOvVjY78ZS/lmIzd9kjIfhMOIMhY5zPAmXZ/dkJlFR8MFrFXSdJKUy/Imx9FRa6pOd4pW1yrGEBbrQuMbzQw87jGSqsqli4xxq9Tu7buIn6+v0UQX0dH+o+xSzs9QLJbFheYG43XcputsQ69JVX00Tn+8XGO8HqUA9DIYtOQaQAI0tYIYfXeNZftRti0CsxmQw2d0U7EQQXhjQz34hcmeRUGA7p5UeSUBgCk45m7m7Ihnlf/+YfLpRLcb32G/+uX/2RZKPN9ofEv+hoNqiW6GNRSU09f5GU6d/LH43j4uf8Mhhmk7qaqPEuWMl6/7vh6db6pjPgGioHHOUcY0mwH5MaNWKm4LEYTX19TT64UZzxamhEXTcaVbBtvaHEGA8vxubl4ot0x04e525ztrkZfe/ityLVhaRyHQfqUL1iz1h/HleQfwQ0k46jQU0qdqOggVtKhGJ04LEYT1oXqmm+5ecIo3q/4gRIIO3TsbS3pkLwg3m+5ARiVSmxS2IdK0carpCGmuUsrwRGlR/ZfPslY7+Sn3rPrD2QVgCvj3Hf8I68x4jt+ozDZ82WZoLPObAIL2HaVc9Fs6XbW0o8vmnLi2UBrf2995TOYm+LwRlGl/ThJ3pr4JQTgbF25qz1JN/K6aPYt+J1S6N+eQGYjFpLvVoasD1/zQd4byoIedt5VSLFJecv/luZmVmGl/v/fuDxrDxOJg7BO5eKHHKb9w0hOnx4WydJlt+LLN0FgeYaWSvYZmVihtJaVc9Fvm2WExC+i8opt9St1KQZm+ixSYKZUlBWYvdMzjnPAjOAhnqEftVlF9fK5SNXOI4Uw0+QIdmHTLYHW0wDX/3ul0AW+3ZzO9JCUDoRzRzoVKqTQm8r77PmycwFE6/80KtYX5f4ZPsrtF8KUL0V5Ms4WNAuxooXGkTnTepL8pZ8wnSVfWBh8kwl47IJaMThFJgdnMH/2McW57WV2ZVRDO0IVb19V3ilr2LPXhTBpPf5YsntG0cp3dgHZCR8etpDVFqdS5UCmVxkSmvUORERBbZ1zvf/wZXkx8qk4aR+pZIh7GP1E6zNYojax1STr3eBRGU4JtuUH+xJvfzFqch5tyM0hgEOb8UK5lQIgDPil7lnnBClGi0Wnaq5TjyedATcLh4YH/sYqh966qg4NwVczgjWvu0QZ0wZ713MUQM78qghSpVq4wmxIsS/Rrd3yfNzAI63r6Z8YYoROZ7saUBVU3h0hSQGMvjbu+lOsPki3lJIlrO0Ygdi5eHbcg3aj9m46dE9ftCVhUDAbe7Z2a5j270nlTVPD1+97XjaDXzNE8xh783n8qTSjkcJaBgojHgadrd1B/Ikoq40Vn8eXKDgzCB4ezK2nEw57UP5h/dTPn6gFrbc1vmr102dtL3zAeVTT/rLVtcbRARnnUsJmdmy6QW2qo05FXQGe6f9pBSknolZiE2stVcgIMhwPP19T1oGuPu7qd/gbV8kwtkRKoO8BQsCpt+d8ozXJu76gGQ+/awGLhGrnmtrnhPRxp6PO3oggMwjTZsueXPK1C9FCm6ma/z9bZDZElK8TwqHmhz4lekpAWOx3vdjaNx3NDS9WMo45BRtrB0VK6xUhJ6GXa+XC9X1Osi8eMas+ErOavtLye33KT+HxhgrV3IeTEiR8Y+9D+t+Vn9Mq4lrJ5m6kHvtc1n5LH+B+7x+RvjdHfiHN+ef6O2+4J3FPmDk62upWGdUTpVfqH35+Sa2PUtVx1B9GOdp4gtINVS1m5XJ799jfbcmvsttvvlWvqqBRw4onvy614hflMs1QtX8ca21+VW6Zp3mulcrlrHHHYv7dVrLCTJ38kt8ao53DSHZfiQqkiKVOVVdLfgbCvSYHBaxa0e4/dH2q8MKXBpCxc0wi7byhZA2X/mgb1uvXr9OPF73upKuzrxXHdr9U/PlXCF6/3QD3sqYNfVBRgKRXlNGq1h0S8elpuTW9C72ghZXczk+RC9FT2uvvlmno1Q2krK9MWZusYwuLr7b8s1+zyuXDnFAUWCqLT4Fq4mysafzvNa9JzwwTEeaB+GNOg9MCzzrimYrf7vFyLbrc7w/mETdm6gOshervtdt3VzgeH6kkDdL0g11IuYzdSsPgoo5hXHneqmQqbCIFKsVGDImUrC5tchUR9TUqGkmSNRFyoH4bfGNlJjADc+pPcShdqh7/n3g9FPHZfEM/9G/E34h01NLE6Oo7qnknirI4mtKN2d9Xu5KxVHrSTw5wgflU2aauOpvR1dPeeNpXyZeJOxtlpRRfHINoJTDMC5TX3tGNhjqmm5VipeJPcGsvChXOEhvtw3dHJSdyIJXlhjPKam5tbbDV/hdwa41pHfF/DVzlWK5eb+QK8pmV04odGfu9eT32qUi/GNHeUsnbSa/Ih43xHfK5opUO/76Uqnb9lTLwfFs20tbEujpFK4UZ8Rp2di/Q6Xsx0oPa27IH+ujHENA7VylXi+7JJO0c+4kN8j6nWNMrNmoqJQbhQKLHTp34it5IRdxA2727Vqh1oImeaR5JQD0lKaKCCLjpPbH9PbtmlLQi/5673h5oNCgAAZmPiLePubjtS0X2ewvRYtk7SoDP1fLmc+Q+DSBM6dgjAAADppFBvkz1URUyJ1lXQJA0UqGgJVY2ix5e2DAAAlpNaEM5gx55iIabsWR6o7XHa7vszg05ZAACppRSEOZ+u88I8GA3uivZ6L7CDvvqQgZV8uMw+86Q0YxQAAMyFUhDe6WQvR2+YLDX7+wes21W/0dCH3rlg02ivFzALEQAAzJVSEPbN0ZpyScxTurq6lpmqaDpm0w7BAACA5Kh3zMpi22JgUvVoCpuXyLUMQHswAECqKQfhTLYtqgzaDylMW/O8cYZJGwAA0kw5SnV2vXO9phlVG5dL8U41mOSMKHHrHaA9GAAgzZSDMOXczGK7MOfuuTyjSqKNOSl0rPYyMusPAMCyCldfm8l24RiTalCO2KxAezAAQOqFbDRVn+czLahKuliIKcWknpMr6cd5R64BAEBahQrCNMlCFqukV1amT65BEyxkaWgSTUUGAADpFrIkLGSwmjOO5Boar8q1LEBVNABAFoQOwllMYUklWJoXcyoq82mmBNeQqhIAIAtCB2GaHD6LVdKbG9GTbGxuFDJWFf1nuQUAAGkWvjrakMUq6Q25Ft7a2sVyDQAAID6RgjDXslgl/YjRuSoszjlrNL4mt9Ivi8cGAGBZRQrCWa2SPvHE91m1ch2rlC9h5fLFE5dq5Sp2z7v/VT47/cyqaPUpGQEAYL74O267J1LdcqV8S2wpHGu1jxnDn8L6w+9PybV0ue32e+WaOiql003CNGq1h8V+/JPcgjQ5cqTChn31jGu5ldfYW2+5x+WXyyXG9cvllsSH4rg/LTf80U2lkftc5/KREXEJ4AO2f/CqZ5a1Cy+ssP6BfO/i95qtZ8x1i2rlCqYPx8ls8quvs7Nnz8ktb5XypeKl3aMO+sMXWafjne2tUrpVro11e8+yg4NDuWWXz+dZcfNGuTWis2bb/zzJ53OsWLjJ2C1kd+8MOzx052G/4IIKGxyO9ov4mwHnXqVMf8+eZ4BrPXHT/Lzc8letXCOO27p4vtdxG7J+/6+ss9uSj43ZjlsQx3uf/Dzz+3Jw+BrrdpGPYFqRg3CxWGanTv5Ybk0HQTieIHzs2P1sp5O9hCrLgC7C29tflluT1WoPeQZWCkJenQTvvvuDrBuQprRSEjfNT0y+aa7VP86azVfllqlSFq+5bb4m1bY023801kcKhS12+tRP5ZbpjjvrIjh4B8YRCsLb2/8tt8b8biarlStZo/EtuTVWr/+jCGbe4+Ir5RvFazwmt8bq9U8ZNXpeKD3tduO/5BZ9ZvF+PIJ2pXyz+NuPGute+2VE0zT2u9+ekFtjQc8Z8TveTvX6A+LzvCS3TNbjFsT5PlSfR+r1T4jXzd5882kSsWMWE3eqLePgQTrQsUAAXiTue+NcLu97QV5bu1CuuVXLNygFYLLd+K4RNMJYyV0h10x0Uz0pAAdylfhMul6QayH4pK3VdfWOmrTvjFJ7RKWS93PpWNINjB/jxk1xVAbdnKyszH4YZaPxHeN7CdFFDsKEqlMgHbi2L9cgjagKtyZKDecXxw0sbVt/3mqfkT8ZK235D7MLCiq6Y4x7rfagUXqk16ESofO9lEv2oBqkYgT4caCo1T4fqVbLiv6eZ9DzCc5+8vkV/yAW8m95VZsr04tyxW01KJufo/q6XvusUfI0j9sDruNWLByVa95Gx9y5DNkb8je8jV6Tlnr9k/LRsdKWo3kEQpkqCFN7hvOLALNHxwBjg9Ov2Xzl/MI0Rxue2Lb+XNfdJWFnSdB27ikGFaNqtXVGfF9eNl7Hq0pW11flWrCtrSrb3n5cbpnvx6u9OJqS/N9EnSlVS4UjW0X7TUu9/hm5ZgZ6alJTRb9P7d6RWIIp7SPrcTPaej3kcjnb56XmiXOt54yqX/O4vcQO+vbq56DjZl4jzGPuXNrtt+RvuZnPG//uueaL7J57PyR/alL9voC3qYKwgQ/kCswNjsFycFzMdT6+eNIFe6vonraThtjZ2h35UK6MtXb8OxQFyXF7adUZFMKyBif3ZCnjgGn7vQBGJzTJDCb2QsNK/ohcU2PteKaKMvXZbh64o7Oaz80TBWE793Hr9bpybSRk6T6iXs/Z92A2r7uopg7CRjWb4kkB8aN9H1/pA9JqfX3DdjHn2i5rtd6wnXv5vLvKlErU9h7F7lOefuf2dx4zOlPdcWdNfJ+elT/xZ3R4srwfqtaeuqesCFCjz+O6qbAGZWcg82N7jjuI6Xq4nPL0nqinchibGxfJNVNvv+2+edqKVtU9HA6NKmba97S0dyYfN0if6UvCxOMLDjOCfb8UNtadF/Ozcm1MJajQsELq8EM9gDc3x22VFIipM1W/7x6KY0VBw5hRzNLjmHoz+/U0Ds0SYPM5s72UgvEo4Kve8G9sbJ5/DhnlvOfc0mEsbLuwEDbznrM0TqVX181TLnp7M1Ux076nhYKyH9oXtE/W1+1LFJrmLKVHGmADUixBuL3j7kQCs6EyPhSyz9rxii7ge3tmVaRSUOH2wEpDpWgIzpOnf2aUko2lfAMrFOztsH40Zk/juteLL0FMe2fcSWjU1piTwdigWApeX/O+aRmytvE/MW8o/HuVj1Bv7xF6TrV8vdxSoFsusT43zPowXJsqVVVXKkddyyS/ePJ/2S9/YV/stSRqigV727jtOwihxRKE6Q6MOg7AbFFPVFgSPhdzZ1Apl+zBh7Ta/tWU9Bxj2X6cnT71E1atXCt/4o9+32pj/Uq5Nh3OCua15PjDxja9zsqKCFCWjj/WIB3E76bFWQrVuFrnLGunrsb2V8xhXNZj4oGGH1n3lXUGOnvgClci3yrcaAwlcy7URBA3ev/nb9Tk0mh8Vf7UtNf7q1yDKGIJwoRKZNYvNySL9jXagpdDsVD2vZg7gwr3CCpU1UwJZGq1z008RylPetg2Sqqajtqu6cU69LGwcf35z07BmYL0YKgwHM9aKxDUZKM4RamzU1epeLNc8+ccfmRtQnDdPJXjmCQmOJjT+3cuYgeYPwxA78+6WNVqn2W9HvLVTyO2IGxAtcTsYF8vjZUVey9er/bg8wKCCnW4op7Sd777fex47e9F6e7TnrUpOc1dmnaigG7l7Ck9DWvJynrRVx0Lb21DJs450KOWQrk27njmDEZerMOPKOCNSuPEVSJ3DMkKxAe256qg36dj714m94yn53q9Xp2yq7Wek1sQVaxBmE7ysF8OGFG/GBgnlEIPVlgMzg5XaytX26oHrQFBJTgcHh4YQYAm+6DalPfe/QH5E2lCNauZkONZo0fuCL0uTY4SBypZeV1H9vfVqqKdvcQbjW/a9lfDMraZ3jeNQVZBY3Ot72vivraUxo3XsbwHWqzPdyZUCULjvCmAvuuOmnwkOca1RgZsSvJip37NAn/xloQF692iKs7DDRUgaU6VZu11qiqneQ/a98KdiR5gsTk6XNHF27o4ObNN2S7+5Rvko2NUQrMHPf+Lq3kDaDaDUI9c6/OorZB64MaB8wO5ZqLXCcqNbeXVSzxofzkTgwRS7BhW2jriei3re/D6GY3pDme2vZJ3u/Ye8LoeYr+Br9iDsHm3aHasUNVofIMVPRINBDl21xflWvrcdssXzQ4liqgDR6PxbbkVjPbtOUeCfVhcxnAgxwV7MndSifGFP96b1/7A/l1cW7lKrk2n2f6zEXhHC9eciSkChB165JNf2gul5FS5vuW08G3kZcvNk3u4kfszua8xyQZlqkGxdsClSR6myakNptiDMNnbDz9k4dTJH9nv2AMWmj3p3/79fvnM9PnPR9/Pfv3Uzz3fu9finIEmSKeLauhlkuP2m9Na7R/Ye+56v2uxCQgqNE64Wrna6EhFHb6oxOZMvEFT26miKfSs1ZQ02QFNmTgt6kw2brf8o1HqVlEuXWj7LBTAvfYXPT5Cvx+mZm2oT64Wd1Yve72HY/f9rfypZMkx3e/37e9x+8tiv15upNocHbf1VXviEO4YimZFn3H0XOeyuqpeYDjsOwoA0+TUBkPkqQwnCTt1G0xmtsWhR/QioHGdNKxkxGsKQWKdgpAuyhSQvDjPN+tUgn7T+flxTos3aSpDQjeT1uBHmbcokARxTmVIExRQfuRJ6Abi5Ikfyi16v+OpDI0JJSxtvpTneHd33BN5hPJAW2ufaHICyo1MXFMZeky16pxP3blfrPsjaJ5v2+85/0bIOdupbd/a+SuOqQy9jrfzfR0//lHWar8ptyCsRErChIIFHUCIh3EyIAAvIUs1ZEAJlXN7da118oKgccJOZvarCDmgHW2lxYK77XkmLCVQOme8AjDp7DpKsyGnSdw/8N9HNNzIekPCecBsc5a87/QcaxVzd2/yhP8jNFTIGoCTpOv23vmcB8wEBRMlVhImNFTg5MkfyS2YxqRJ2yFbqK3XmnmKppNzzmZDJT7r0B/q9OgXIKk6lZI4nMcPxU2bPfganbICeuFybU/8fXdTEpV8xu2sVE3sU6qjZBGWqvDDwcsiCO7ILTejPdFSnUnjg2k87iTU+Yt6iI9QLmbq7U2oZHmeCHBBN6623xVGJT6q6tX4+CZmoL/OdnbcHbKc+3P0fEp4og/HHS33D//iGyCd+4BuZqyl7nw+L25orrXtVxu6MeNt71oU23EL5iyBTzrezr+9s/sMGwwwkUwUiQZhErYqDNyozY2GJQAAwGJJrDp6hIIHqqWjM6uhEYABABZR4kGYdLoIIlHt7iEjDQDAoppJEKZekvfd92G5BaootSCNzQMAgMU0kyBM2jtvM8pVC2pouMaoswkAACymmQVhQj0vMeXhZMYwESRGBwBYeDMNwgRTHgYzO2JNntkEAACyb+ZBmNCYNARiNyMAO7LTAADA4ppLECYIxHYIwAAAy2duQZggEJsQgAEAltNcgzBB8GGstYM2YACAZZR42koVmqaxUvFmW9LzZUAl4HbnaY+5QwEAYBnMvSRMKAgtW9X0qAoaARgAYHmlIgiPmIH4Ybm1uNAGDAAAJFVBmNC0WZSsYlEZE3wjAAMAgJC6IEwoWUW9/k9ya3HQZ0IiDgAAGElFxyw/xUKZ5XNHM99hi6qf+8NXWafTko8AAACktCQ80tltyXbi7HbYojZu+gwIwAAA4JTqIDxCQaxe/4zcyg56z9TGDQAA4CXV1dFO+fwKK25ez7afeEQ+kk5U+t3ZPcMGg4F8BAAAwC1TQXikXL6Ycf2C1LUVU7W5zt5krfZZ+QgAAIC/TFRHO9Fk90Zbce1B+cj80Xuh94QADAAAqjJZErbinLNy6Wa2vT2fKmpj3C+GHQEAQASZD8Ij6+ubbH316plVUddqX2C9/RdYr7cnHwEAAAhnYYLwSKV8CWP6kcSCsdHuy8+yVutN+QgAAEA0CxeER4rFCsvnKCBrUwdkY5wyH7LD/mtsd7ctHwUAAJjOwgZhq2rlWqYP10MHYwq+XNtj55ovyEcAAADisxRBeGRzo8BWV4+K0nFOBGTvjlxmqbfPevuvsF6vKx8FAACI31IFYavNzSJbXblMBOS8+QAfsIPDV1m32zG3AQAAEra0QRgAAGDeMpmsAwAAYBEgCAMAAMwJgjAAAMCcIAgDAADMCYIwAADAnCAIAwAAzAmCMAAAwJwgCAMAAMwFY/8PQwZYyN+8zEwAAAAASUVORK5CYII=":Jv,alt:"logo",className:"menu__logo-img"})}),(0,Op.jsxs)("nav",{className:"menu__board-list",children:[(0,Op.jsxs)("div",{className:"menu__boards-counter",children:["All boards (",n&&n.length,")"]}),(0,Op.jsx)("div",{className:"menu__board-list-wrapper ".concat(o?"darkMode--scrollbar":""),children:n&&n.map((function(e){return(0,Op.jsx)(Yv,{doc:e,boardId:e.id,tasks:r},e.id)}))}),(0,Op.jsx)(Zv,{handleCreateBoard:function(){u("".concat(s.pathname,"/newBoard"))}})]}),(0,Op.jsx)("aside",{className:"menu__toggle-mode",children:(0,Op.jsxs)("div",{className:"menu__toggle-mode-wrapper ".concat(o?"darkMode--dark":""),children:[(0,Op.jsx)("img",{src:Wv,alt:"light mode",className:"menu__toggle-mode-light"}),(0,Op.jsx)("button",{onClick:function(){a(!o)},className:"menu__toggle-mode-button ",children:(0,Op.jsx)("div",{className:"menu__toggle-mode-button-circle ".concat(o?"menu__toggle-mode-button-circle--dark":"")})}),(0,Op.jsx)("img",{src:Hv,alt:"dark mode",className:"menu__toggle-mode-dark"})]})})]}),(0,Op.jsx)(z,{children:(0,Op.jsx)(q,{path:"newBoard",element:(0,Op.jsx)(cm,{uid:t})})})]})}var hm=function(){var e=a((0,t.useState)(null),2),n=e[0],r=e[1],i=a((0,t.useState)(!1),2),o=i[0],s=i[1],u=Fp().dispatch,c=a((0,t.useState)(!1),2),l=c[0],h=c[1],f=function(){var e=nm(em().mark((function e(){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(null),s(!0),e.prev=2,e.next=5,Dp.signOut();case 5:u({type:"LOGOUT"}),l||(s(!1),r(null)),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(2),l){e.next=15;break}return r(e.t0.message),s(!1),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){h(!0)}}),[]),{logout:f,error:n,isPending:o}};function fm(e){var t=e.handleDeleteButton,n=e.handleDeleteElement,r=e.titleDescription,i=e.text,o=Bp().darkMode;return(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsxs)("section",{className:"delete ".concat(o?"darkMode--light":""),children:[(0,Op.jsxs)("div",{className:"delete__text-wrapper",children:[(0,Op.jsx)("h2",{className:"delete__title",children:r}),(0,Op.jsx)("p",{className:"delete__text",children:i})]}),(0,Op.jsxs)("div",{className:"delete__buttons-wrapper",children:[(0,Op.jsx)("button",{onClick:n,className:"delete__button delete__button--delete",children:(0,Op.jsx)("p",{className:"delete__button-p",children:"Yes"})}),(0,Op.jsx)("button",{onClick:function(e){return t(!1)},className:"delete__button delete__button--cancel",children:(0,Op.jsx)("p",{className:"delete__button-p",children:"Cancel"})})]})]})]})}function dm(e){var n=e.boards,r=e.menuIsClicked,i=e.handleMenuButton,o=e.currentUserData,s=e.handleExampleData,u=e.handleLogout,c=e.handleClearData,l=a((0,t.useState)(null),2),h=l[0],f=l[1],d=a((0,t.useState)(!1),2),p=d[0],v=d[1],m=a((0,t.useState)(!1),2),g=m[0],y=m[1],b=Fp().user,_=Bp().darkMode,w=(0,t.useRef)();sm(w,(function(){!1===p&&!1===g&&(f(!r),setTimeout((function(){i(!r)}),100))}));var k=L(),E=function(){f(!r),setTimeout((function(){i(!r)}),100)},S=function(e){i(!0),v(e),y(e)};return(0,t.useEffect)((function(){void 0!==r&&f(r)}),[r]),(0,Op.jsxs)(Op.Fragment,{children:[p&&(0,Op.jsx)(fm,{handleDeleteButton:S,handleDeleteElement:c,titleDescription:"Delete all boards?",text:"Are you sure you want to delete all boards?\n   This action will remove all boards and tasks and cannot be reversed."}),g&&(0,Op.jsx)(fm,{handleDeleteButton:S,handleDeleteElement:u,titleDescription:"Logout?",text:"Are you sure you want to logout?"}),(0,Op.jsx)("section",{ref:w,className:"userMenu ".concat(h?"userMenu--active":""," ").concat(_?"darkMode--dark":""),children:(0,Op.jsxs)("ul",{className:" ".concat(b.isAnonymous?"userMenu__list--anonymous":"userMenu__list"," ").concat(!h&&"userMenu__list--display-none"," "),children:[(0,Op.jsx)("li",{className:"userMenu__user-name",children:(0,Op.jsxs)("p",{className:"userMenu__user-name-p ".concat(_?"darkMode--dark":""),children:["Logged as:",(0,Op.jsx)("br",{}),(0,Op.jsx)("strong",{children:b&&b.displayName?b.displayName.toUpperCase():"GUEST"})]})}),b&&b.isAnonymous&&(0,Op.jsx)("li",{className:"userMenu__list-element ".concat(_?"darkMode--hover":""),children:(0,Op.jsx)(X,{onClick:E,to:"".concat(k.pathname,"/register"),className:"userMenu__list-button",children:(0,Op.jsx)("p",{className:"userMenu__list-button-p",children:"Sign up"})})}),(0,Op.jsx)("li",{className:"userMenu__list-element ".concat(_?"darkMode--hover":""),children:(0,Op.jsx)(X,{onClick:E,to:"".concat(k.pathname,"/profile"),className:"userMenu__list-button",children:(0,Op.jsx)("p",{className:"userMenu__list-button-p",children:"My account "})})}),(0,Op.jsx)("li",{className:"userMenu__list-element ".concat(_?"darkMode--hover":""),children:o&&o.example?(0,Op.jsx)("button",{className:"userMenu__list-button",onClick:function(){return s(!1)},children:(0,Op.jsxs)("p",{className:"userMenu__list-button-p",children:[" ","Turn off example data"," "]})}):(0,Op.jsx)("button",{className:"userMenu__list-button",onClick:function(){return s(!0)},children:(0,Op.jsxs)("p",{className:"userMenu__list-button-p",children:[" ","Turn on example data"," "]})})}),(0,Op.jsx)("li",{className:"userMenu__list-element userMenu__list-element--remove ".concat(!(n&&n.length>0)&&"userMenu__list-element--disabled"," ").concat(_&&n&&n.length>0?"darkMode--hover":"","  "),children:(0,Op.jsx)("button",{onClick:function(){v(!0)},disabled:!(n&&n.length>0),className:"userMenu__list-button",children:(0,Op.jsx)("p",{className:"userMenu__list-button-p",children:"Remove all boards"})})}),(0,Op.jsx)("li",{className:"userMenu__list-element ".concat(_?"darkMode--hover":""),children:(0,Op.jsx)(X,{to:"".concat(k.pathname,"/About"),className:"userMenu__list-button",children:(0,Op.jsx)("p",{className:"userMenu__list-button-p",children:" About author "})})}),(0,Op.jsx)("li",{className:"userMenu__list-element ".concat(_?"darkMode--hover":""),children:(0,Op.jsx)("button",{onClick:function(e){y(e)},className:"userMenu__list-button",children:(0,Op.jsx)("p",{className:"userMenu__list-button-p",children:" Logout "})})})]})})]})}function pm(e){var n=e.boards,r=e.tasks,i=e.userData,o=e.uid,s=Fp().user,u=Bp().darkMode,c=om("userData"),l=c.setDocument,h=c.addDocument,f=om("boards"),d=f.setDocument,p=f.deleteDocument,v=om("tasks"),m=v.setDocument,g=v.deleteDocument,y=Gp("boards",["uid","==","4PfvxJhCVkMsUuwHgoVSlYoENir1"]).documents,b=Gp("tasks",["uid","==","4PfvxJhCVkMsUuwHgoVSlYoENir1"]).documents,_=hm().logout,w=a((0,t.useState)(null),2),k=w[0],E=w[1],S=a((0,t.useState)(null),2),T=(S[0],S[1]),I=a((0,t.useState)([]),2),C=I[0],x=I[1],N=a((0,t.useState)(null),2),A=N[0],P=N[1],D=a((0,t.useState)(!1),2),R=D[0],O=D[1],F=a((0,t.useState)(!1),2),U=F[0],V=F[1],q=L(),B=M(),z=j()["*"].slice(7,27),G=function(){var e=nm(em().mark((function e(){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kv(y,(function(e){e.forEach((function(e){delete e.id,e.uid=o}))})).forEach(function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(ee({},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Kv(b,(function(e){e.forEach((function(e){delete e.id,e.uid=o}))})).forEach(function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(ee({},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=nm(em().mark((function e(){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach(function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.exampleData){e.next=3;break}return e.next=3,p(t.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.forEach(function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.exampleData){e.next=3;break}return e.next=3,g(t.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=14;break}if(!A.example){e.next=8;break}return K(),B("/",{replace:!0}),e.next=6,l(ee(ee({},A),{},{example:t}),A.id);case 6:e.next=12;break;case 8:if(A.example){e.next=12;break}return G(),e.next=12,l(ee(ee({},A),{},{example:t}),A.id);case 12:e.next=18;break;case 14:if(A){e.next=18;break}return e.next=17,h({example:t,uid:o});case 17:G();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){V(e)};return(0,t.useEffect)((function(){if(i&&i.length>0&&P(i[0]),n){var e=n.filter((function(e){return e.exampleData})),t=r.filter((function(e){return e.exampleData}));if(R&&e.length>0&&t.length>0)Kv(t,(function(t){e.forEach((function(e){t.forEach((function(t){e.name===t.boardName&&(t.boardId=e.id)}))}))})).forEach((function(e){m(ee({},e),e.id)})),O(!1);if(z){var o=n.filter((function(e){return e.id===z}))[0];if(o){var a=o.columns.filter((function(e){return!0===e.active}));x(a)}E(o)}r&&z&&T(r.filter((function(e){return e.boardId===z})))}}),[R,i,n,r,z]),(0,t.useEffect)((function(){n&&0===i.length&&H(!0)}),[n,i]),(0,Op.jsxs)("nav",{className:"navbar ".concat(u?"darkMode--light":""),children:[U&&(0,Op.jsx)(dm,{boards:n,menuIsClicked:U,handleMenuButton:W,currentUserData:A,handleExampleData:H,handleLogout:function(){_()},handleClearData:function(){n.forEach((function(e){p(e.id)})),r.forEach((function(e){g(e.id)})),l(ee(ee({},A),{},{example:!1}),A.id)}}),(0,Op.jsx)("div",{className:"navbar__text-wrapper",children:(0,Op.jsx)("p",{className:"navbar__text ".concat(u?"darkMode--light":""),children:k?k.name:n?"Start with creating new board or turn on example data in user menu":""})}),(0,Op.jsxs)("div",{className:"navbar__board-menu-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){B("".concat(q.pathname,"/newTask"))},disabled:!(n&&n.length>0&&C.length>0),className:"navabar__new-task-button ".concat(n&&n.length>0&&C.length>0&&"navabar__new-task-button--active"),children:(0,Op.jsx)("p",{className:"navabr__new-task-text",children:"+ Add new task"})}),(0,Op.jsx)("div",{className:"navbar__board-menu",children:(0,Op.jsx)("button",{onClick:function(){return W(!U)},className:"navbar__board-menu-button ".concat(U&&"navbar__board-menu-button--active"),children:(0,Op.jsx)("img",{src:s&&s.photoURL,alt:"menu icon",className:"navbar__board-menu-button-img ".concat(u?"darkMode--dark":"")})})})]})]})}function vm(e){var n=e.boards,r=e.uid,i=om("tasks"),o=i.addDocument,s=i.response,u=a((0,t.useState)(null),2),c=u[0],l=u[1],h=a((0,t.useState)(""),2),f=h[0],d=h[1],p=a((0,t.useState)(""),2),v=p[0],m=p[1],g=a((0,t.useState)(""),2),y=g[0],b=g[1],_=a((0,t.useState)(""),2),w=_[0],k=_[1],E=a((0,t.useState)(""),2),S=E[0],T=E[1],I=a((0,t.useState)({name:"",value:""}),2),C=I[0],x=I[1],N=a((0,t.useState)([]),2),A=N[0],P=N[1],D=a((0,t.useState)(!1),2),R=D[0],O=D[1],L=a((0,t.useState)(!1),2),F=L[0],U=L[1],V=a((0,t.useState)(""),2),q=V[0],B=V[1],z=j().id,G=Bp().darkMode,K=am().validate,H=M(),W=(0,t.useRef)();sm(W,(function(){H(-1)}));var J=function(){b(""),T(""),U(""),B("")},Q=function(){var e=K("title",v);if(e)return b(e),e;var t=K("description",w);if(t)return T(t),t;var n="";if(A.length>0){var r=Kv(A,(function(e){e.forEach((function(e){e.error=!1})),e.every((function(e){var t=K("text",e.title);return!t||(e.error=!0,n=t,!1)}))}));if(n)return P(r),n}},X=function(){var e=Kv(A,(function(e){e.forEach((function(e){delete e.error}))}));return{boardId:f,title:v,description:w,status:C,subtasks:e,uid:r}},Y=function(){var e=nm(em().mark((function e(t){var n,r;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=Q())){e.next=5;break}return B(n),e.abrupt("return");case 5:return r=X(),e.prev=6,e.next=9,o(r);case 9:if(!e.sent){e.next=12;break}throw Error("Couldn't add new Task");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),B(e.t0.messsage);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){6===A.length&&O(!0);var e=A.filter((function(e){return e.error}));if((y||S||e.length>0)&&U(!0),n&&z){var t=n.filter((function(e){return e.id===z}))[0],r=t.columns.filter((function(e){return e.active}));l(t),x({name:r[0].name,value:r[0].value}),d(t.id)}s.succes&&H(-1)}),[n,z,s,y,S,A,H]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsx)("section",{ref:W,className:"newTask ".concat(G?"darkMode--light":""),children:(0,Op.jsxs)("form",{onSubmit:Y,className:"newTask__form",children:[(0,Op.jsx)("h2",{className:"newTask__form-h2",children:"Add new Task"}),(0,Op.jsxs)("div",{className:"newTask__form-wrapper",children:[(0,Op.jsx)("span",{className:"newTask__form-span",children:"Title"}),(0,Op.jsx)("input",{value:v,onChange:function(e){m(e.target.value),J()},placeholder:"e.g. Take coffe break",maxLength:150,type:"text",className:"newTask__form-input ".concat(y?"newTask__form-input--error":""," ").concat(G?"darkMode--light":"")})]}),(0,Op.jsxs)("div",{className:"newTask__form-wrapper",children:[(0,Op.jsx)("span",{className:"newTask__form-span",children:"description"}),(0,Op.jsx)("textarea",{value:w,onChange:function(e){k(e.target.value),J()},placeholder:"e.g. It\u2019s always good to take a break. This 15 minute break will \r recharge the batteries a little.",maxLength:300,className:"newTask__form-input newTask__form-input--description ".concat(S?"newTask__form-input--error":""," ").concat(G?"darkMode--light":"")})]}),(0,Op.jsxs)("div",{className:"newTask__form-wrapper",children:[(0,Op.jsxs)("span",{className:"newTask__form-span",children:["Subtasks (",A.length," of ",6,")"]}),A.length>0&&A.map((function(e){return(0,Op.jsxs)("div",{className:"newTask__form-input-wrapper",children:[(0,Op.jsx)("input",{maxLength:100,onChange:function(t){return function(e,t){J(),P(Kv(A,(function(n){return n.forEach((function(n){n.error&&(n.error=!1),n.id===t&&(n.title=e.target.value,n.isCompleted=!1)})),n})))}(t,e.id)},value:e.title,placeholder:"e.g do something",className:"newTask__form-input ".concat(e.error?"newTask__form-input--error":""," ").concat(G?"darkMode--light":"")}),(0,Op.jsx)("button",{onClick:function(){return function(e){J(),O(!1);var t=Kv(A,(function(e){e.forEach((function(e){e.error=!1}))})).filter((function(t){return t.id!==e}));P(t)}(e.id)},type:"button",className:"newTask__form-column-delete",children:(0,Op.jsx)("img",{className:" newTask__form-column-delete-img",src:um,alt:"delete"})})]},e.id)})),(0,Op.jsx)("button",{onClick:function(){if(J(),A.length<6){var e=(new Date).getTime();P(Kv(A,(function(t){t.forEach((function(e){e.error=!1})),t.push({title:"",error:!1,id:e})})))}},disabled:R,type:"button",className:"newTask__form-button newTask__form-button--light-purple ".concat(R?"newTask__form-button--light-purple-disabled":""),children:(0,Op.jsx)("p",{className:"newTask__form-button-p",children:"+ Add New Subtask"})}),(0,Op.jsx)("select",{defaultValue:c&&c.columns[0].name,name:c&&c.columns[0].value,onChange:function(e){x({name:e.target.value,value:e.target.name})},className:"newBoard__form-select ".concat(G?"darkMode--select":""),children:c&&c.columns.map((function(e){return e.active?(0,Op.jsx)("option",{value:e.name,name:e.value,children:e.value},e.name):""}))}),(0,Op.jsx)("p",{className:"newTask__form-alert",children:q}),(0,Op.jsx)("button",{disabled:F,className:"newTask__form-button newTask__form-button--purple ".concat(F?"newTask__form-button--purple-disabled":""),children:(0,Op.jsx)("p",{className:"newTask__form-button-p",children:"Create New Task"})})]})]})})]})}function mm(e){var n=e.task,r=Bp().darkMode,i=a((0,t.useState)([]),2),o=i[0],s=i[1];return(0,t.useEffect)((function(){if(n){var e=n.subtasks.filter((function(e){return e.isCompleted}));s(e)}}),[n]),(0,Op.jsx)(Op.Fragment,{children:(0,Op.jsxs)(X,{draggable:!0,to:n.id,className:"task ".concat(r?"darkMode--light":""),children:[(0,Op.jsx)("p",{className:"task__title",children:n.title}),(0,Op.jsxs)("span",{className:"task__subtasks",children:["".concat(o.length," of ").concat(n.subtasks.length)," subtasks"]})]})})}function gm(e){var t=e.column,n=e.tasks;return(0,Op.jsxs)("section",{className:"singleColumn",children:[(0,Op.jsxs)("h2",{className:"singleColumn__title",children:[(0,Op.jsx)("div",{className:"singleColumn__circle",style:function(e){var t;switch(e){case"Todo":t="#49C4E5";break;case"Doing":t="#8471F2";break;case"Done":t="#67E2AE";break;default:t="#E77833"}return{backgroundColor:t}}(t.name)}),t&&n&&"".concat(t.value,"(").concat(n.length,")")]}),(0,Op.jsx)("div",{className:"singleColumn__task-wrapper",children:n&&n.map((function(e){return(0,Op.jsx)(mm,{task:e},e.id)}))})]})}var ym=n.p+"static/media/trash-solid.26cfd3d2054b6e033432eeaef8b63944.svg";function bm(e){var n=e.tasks,r=e.board,i=om("tasks"),o=i.setDocument,s=i.deleteDocument,u=i.response,c=a((0,t.useState)(null),2),l=c[0],h=c[1],f=a((0,t.useState)(""),2),d=f[0],p=f[1],v=a((0,t.useState)(""),2),m=v[0],g=v[1],y=a((0,t.useState)(""),2),b=y[0],_=y[1],w=a((0,t.useState)(""),2),k=w[0],E=w[1],S=a((0,t.useState)(),2),T=S[0],I=S[1],C=a((0,t.useState)([]),2),x=C[0],N=C[1],A=a((0,t.useState)([]),2),P=A[0],D=A[1],R=a((0,t.useState)(!1),2),O=R[0],L=R[1],F=a((0,t.useState)(!1),2),U=F[0],V=F[1],q=a((0,t.useState)(""),2),B=q[0],z=q[1],G=a((0,t.useState)(""),2),K=G[0],H=G[1],W=a((0,t.useState)(""),2),J=W[0],Q=W[1],X=a((0,t.useState)(!1),2),Y=X[0],Z=X[1],$=a((0,t.useState)(!1),2),te=$[0],ne=$[1],re=a((0,t.useState)(""),2),ie=re[0],oe=re[1],ae="Are you sure you want to delete the ".concat(l&&l.title," task? This action will remove all informations and subtasks and cannot be reversed."),se=Bp().darkMode,ue=j().id,ce=M(),le=am().validate,he=(0,t.useRef)(),fe=(0,t.useRef)();sm(he,(function(){ce(-1)})),sm(fe,(function(){var e=!1,t=Kv(x,(function(t){t.every((function(t){var n=le("text",t.title);return!n||(t.error=!0,ne(!0),oe(n),e=!0,!1)}))}));N(e?t:Kv(x,(function(e){e.forEach((function(e){e.id===J&&(e.isEdited=!1)}))})))}));var de=function(e){z(e.target.scrollHeight+"px")},pe=function(e){H(e.target.scrollHeight+"px")},ve=function(e){I(e.target.value)},me=function(e){if(!te){var t=x.filter((function(t){return t.id!==e})),n=t.filter((function(e){return e.isCompleted}));N(t),D(n)}},ge=function(e){Z(e)},ye=function(){var e=Kv(x,(function(e){e.forEach((function(e){delete e.isEdited,delete e.error}))})),t=Kv(l,(function(e){delete e.id}));return ee(ee({},t),{},{description:b,status:ee(ee({},t.status),{},{name:T}),subtasks:e,title:d})},be=function(){var e=nm(em().mark((function e(t){var n;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),oe(""),e.prev=2,n=ye(),e.next=6,o(n,l.id);case 6:if(!e.sent){e.next=9;break}throw Error("Couldn't update this task");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),oe(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){if(n&&ue){var e=n.filter((function(e){return e.id===ue}))[0],t=Kv(e.subtasks,(function(e){e.forEach((function(e){e.isEdited=!1,e.error=!1}))}));h(e),I(e.status.name),N(t),_(e.description),p(e.title),D(e.subtasks.filter((function(e){return e.isCompleted})))}u&&u.succes&&ce(-1)}),[n,u,ue,ce]),(0,t.useEffect)((function(){(m||k)&&ne(!0)}),[m,k]),(0,Op.jsx)(Op.Fragment,{children:Y?(0,Op.jsx)(fm,{handleDeleteButton:ge,handleDeleteElement:function(){s(l.id),ce(-1)},titleDescription:"Delete this task ?",text:ae}):(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsx)("section",{ref:he,className:"taskView ".concat(se?"darkMode--light":""),children:(0,Op.jsxs)("form",{onSubmit:be,className:"taskView__form ".concat(se?"darkMode":""),children:[(0,Op.jsx)("div",{className:"taskView__form-wrapper taskView__form-wrapper--title",children:O?(0,Op.jsx)("textarea",{className:"taskView__form-input taskView__form-input--title ".concat(m?"taskView__form-input--error":""," ").concat(se?"darkMode--light":""),required:!0,type:"text",maxLength:150,value:d,autoFocus:!0,style:{height:K},onFocus:pe,onInput:pe,onChange:function(e){g(!1),ne(!1),oe(""),p(e.target.value)},onBlur:function(){var e=le("title",d);if(e)return g(e),void oe(e);L(!1)}}):(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("h2",{className:"taskView__form-h2 ".concat(se?"darkMode--light":""),children:d&&d}),(0,Op.jsx)("button",{type:"button",onClick:function(){te||L(!0)},className:"edit",children:(0,Op.jsx)("img",{className:"edit__img",src:Xv,alt:"edit"})})]})}),(0,Op.jsxs)("div",{className:"taskView__form-span-wrapper",children:[l&&(0,Op.jsxs)("span",{className:"taskView__form-span taskView__form-span--margin",children:["Created:",new Date(1e3*l.createdAt.seconds).toLocaleDateString()]}),l&&l.lastEdited&&(0,Op.jsxs)("span",{className:"taskView__form-span taskView__form-span--margin",children:["Edited:",new Date(1e3*l.lastEdited.seconds).toLocaleDateString()]})]}),(0,Op.jsxs)("div",{className:"taskView__form-wrapper",children:[(0,Op.jsx)("span",{className:"taskView__form-span",children:"Description"}),U?(0,Op.jsx)("textarea",{className:"taskView__form-input taskView__form-input--description ".concat(k?"taskView__form-input--error":""," ").concat(se?"darkMode--light":""),rows:"1",type:"text",value:b,autoFocus:!0,maxLength:300,style:{height:B},onChange:function(e){E(!1),oe(""),ne(!1),_(e.target.value)},onFocus:de,onInput:de,onBlur:function(e){var t=le("description",b);if(t)return E(t),void oe(t);V(!1)}}):(0,Op.jsxs)("div",{className:"taskView__form-subtask-wrapper ".concat(se?"darkMode--dark":""),children:[(0,Op.jsx)("p",{className:"taskView__form-description",children:b&&b}),(0,Op.jsx)("button",{type:"button",onClick:function(){te||V(!0)},className:"edit edit--description",children:(0,Op.jsx)("img",{className:"edit__img",src:Xv,alt:"edit"})})]})]}),(0,Op.jsxs)("div",{className:"taskView__form-wrapper taskView__form-wrapper--subtasks",children:[(0,Op.jsx)("span",{className:"taskView__form-span",children:"Subtasks (".concat(P.length," of ").concat(x&&x.length,")")}),x&&function(e){var t=Kv(e,(function(e){e.sort((function(e,t){return e.createdAt-t.createdAt}))}));return t}(x).map((function(e){return(0,Op.jsxs)("div",{className:"taskView__form-subtask-wrapper ".concat(se?"darkMode--dark":""," ").concat(se&&!e.isCompleted?"darkMode--subtask-inactive":""),children:[(0,Op.jsxs)("label",{ref:e.isEdited?fe:null,className:"taskView__label",children:[(0,Op.jsx)("input",{className:"taskView__form-input-checkbox taskView__form-input-checkbox--subtask ".concat(se?"darkMode--dark-checkbox":""),type:"checkbox",onChange:function(t){return function(e,t,n){var r=Kv(x,(function(n){n.forEach((function(n){n.id===t&&(n.isCompleted=e.target.checked)}))}));D(r.filter((function(e){return e.isCompleted}))),N(r)}(t,e.id)},checked:!!e.isCompleted}),e.isEdited?(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("textarea",{className:"taskView__form-input taskView__form-input--subtask ".concat(e.error?"taskView__form-input--error":""," ").concat(se?"darkMode--light":""),maxLength:150,value:e.title,onChange:function(t){return function(e,t){N(Kv(x,(function(n){n.forEach((function(n){n.id===t&&(n.error=!1,n.title=e.target.value,ne(!1),oe(!1))}))})))}(t,e.id)},autoFocus:!0}),(0,Op.jsx)("button",{type:"button",onClick:function(){return me(e.id)},className:"edit edit--delete-subtask ",children:(0,Op.jsx)("img",{className:"edit__img",src:ym,alt:"edit"})})]}):(0,Op.jsx)(Op.Fragment,{children:(0,Op.jsx)("span",{className:"taskView__form-span taskView__form-span--checked ".concat(!e.isCompleted&&"taskView__form-span--unchecked"," ").concat(se&&!e.isCompleted?"darkMode--span-inactive":""),children:e.title})})]}),!e.isEdited&&(0,Op.jsxs)(Op.Fragment,{children:[" ",(0,Op.jsx)("button",{type:"button",onClick:function(){return me(e.id)},className:"edit edit--delete-subtask ",children:(0,Op.jsx)("img",{className:"edit__img",src:ym,alt:"edit"})}),(0,Op.jsx)("button",{type:"button",onClick:function(t){return function(e,t){te||(N(Kv(x,(function(e){e.forEach((function(e){e.id===t&&(e.isEdited=!0)}))}))),Q(t))}(0,e.id)},className:"edit edit--description ",children:(0,Op.jsx)("img",{className:"edit__img",src:Xv,alt:"edit"})})]})]},e.id)})),(0,Op.jsx)("button",{disabled:te,onClick:function(){if(x.length<6){var e=(new Date).getTime();N((function(t){return[].concat(zp(t),[{title:"new subtask",id:e,isCompleted:!1,isEdited:!0,error:!1}])})),Q(e)}},type:"button",className:"taskView__form-button taskView__form-button--light-purple ".concat(te?"taskView__form-button--light-purple-disabled":""),children:(0,Op.jsx)("p",{className:"taskView__form-button-p",children:"Add new Subtask"})})]}),(0,Op.jsxs)("div",{className:"taskView__form-wrapper",children:[(0,Op.jsx)("span",{className:"taskView__form-span",children:" Current Status"}),(0,Op.jsx)("div",{className:"taskView__form-input-wrapper ".concat(se?"darkMode--dark":""),children:r&&r.columns.map((function(e){return e.active?(0,Op.jsx)("div",{className:"taskView__form-checkbox-wrapper",children:(0,Op.jsxs)("label",{className:"taskView__label",children:[(0,Op.jsx)("input",{className:"taskView__form-input-checkbox ".concat(se?"darkMode--dark-checkbox":""),type:"checkbox",value:e.name,name:e.name,checked:T===e.name,onChange:ve}),(0,Op.jsx)("span",{className:"taskView__form-input-label",children:e.value})]})},e.name):""}))})]}),(0,Op.jsx)("p",{className:"taskView__form-alert",children:ie}),(0,Op.jsxs)("div",{className:"taskView__form-buttons-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){return ge(!0)},type:"button",className:"taskView__form-button taskView__form-button--delete",children:(0,Op.jsx)("p",{className:"taskView__form-button-p",children:"Delete Task"})}),(0,Op.jsx)("button",{disabled:te,className:"taskView__form-button taskView__form-button--purple ".concat(te?"taskView__form-button--purple-disabled":""),children:(0,Op.jsx)("p",{className:"taskView__form-button-p",children:"Save Task"})})]})]})})]})})}function _m(e){e.uid;var n=e.boards,r=e.tasks,i=om("boards"),o=i.setDocument,s=i.deleteDocument,u=i.response,c=om("tasks"),l=c.setDocument,h=c.deleteDocument,f=a((0,t.useState)(null),2),d=f[0],p=f[1],v=a((0,t.useState)(""),2),m=v[0],g=v[1],y=a((0,t.useState)(""),2),b=y[0],_=y[1],w=a((0,t.useState)(null),2),k=w[0],E=w[1],S=a((0,t.useState)(!1),2),T=S[0],I=S[1],C=a((0,t.useState)(""),2),x=C[0],N=C[1],A=a((0,t.useState)(!1),2),P=A[0],D=A[1],R=a((0,t.useState)(!1),2),O=R[0],L=R[1],F=a((0,t.useState)(""),2),U=F[0],V=F[1],q=M(),B=j().id,z=am().validate,G=Bp().darkMode,K=(0,t.useRef)();sm(K,(function(){q(-1)}));var H=function(){_(!1),L(!1),V("")},W=function(){var e=z("name",m);if(e)return _(e),e;var t="",n=Kv(k,(function(e){e.forEach((function(e){e.error=!1})),e.every((function(e){var n=z("column",e.value);return!n||(e.error=!0,t=n,!1)}))}));return t?(E(n),t):void 0},J="Are you sure you want to delete the ".concat(d&&d.name," board? This action will remove all columns and tasks and cannot be reversed."),Q='Delete this "'.concat(d&&d.name,'" board?'),X=function(e){D(e)},Y=function(){var e=Kv(k,(function(e){e.forEach((function(e){delete e.error}))}));return Kv(d,(function(t){delete t.id,t.name=m,t.columns=e}))},Z=function(){var e=nm(em().mark((function e(t){var n,i,a,s,u,c,f;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=Y(),0!==n.columns.filter((function(e){return e.active})).length){e.next=7;break}return L(!0),V("Add a column!"),e.abrupt("return");case 7:if(V(""),!(i=W())){e.next=12;break}return V(i),e.abrupt("return");case 12:return e.prev=12,a=r.filter((function(e){return e.boardId===d.id})),s=Kv(a,(function(e){n.columns.forEach((function(t){t.active&&t.isEdited?e.forEach((function(e){e.status.name===t.name&&(e.status.value=t.value,e.delete=!1)})):t.active||e.forEach((function(e){e.status.name===t.name&&(e.delete=!0)}))}))})),u=Kv(n,(function(e){e.columns.forEach((function(e){delete e.isEdited}))})),e.next=18,o(u,d.id);case 18:if(!e.sent){e.next=21;break}throw Error("Couldn't edit this board");case 21:c=s.filter((function(e){return!0===e.delete})),f=s.filter((function(e){return!1===e.delete})),c.forEach(function(){var e=nm(em().mark((function e(t){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t.id);case 2:if(!e.sent){e.next=5;break}throw Error("Couldn't edit this board");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f.forEach(function(){var e=nm(em().mark((function e(t){var n;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kv(t,(function(e){delete e.delete,delete e.id})),e.next=3,l(n,t.id);case 3:if(!e.sent){e.next=6;break}throw Error("Couldn't edit this board");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(12),V(e.t0.message);case 30:case"end":return e.stop()}}),e,null,[[12,27]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){if(u.succes&&q(-1),n){var e=n.filter((function(e){return e.id===B}))[0];p(e),g(e.name);var t=Kv(e.columns,(function(e){e.forEach((function(e){e.error=!1}))}));E(t)}}),[u,n,q,B]),(0,t.useEffect)((function(){if(k){var e=k.filter((function(e){return e.error}));(b||e.length>0)&&L(!0),4===k.filter((function(e){return e.active})).length&&I(!0)}}),[k,b]),(0,Op.jsx)(Op.Fragment,{children:P?(0,Op.jsx)(fm,{handleDeleteButton:X,handleDeleteElement:function(){q("/boards",{replace:!0}),s(d.id),r.forEach((function(e){e.boardId===d.id&&h(e.id)}))},titleDescription:Q,text:J}):(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsx)("section",{ref:K,className:"editBoard ".concat(G?"darkMode--light":""),children:(0,Op.jsxs)("form",{onSubmit:Z,className:"editBoard__form",children:[(0,Op.jsxs)("h2",{className:"editBoard__form-h2",children:['Edit board "',d&&d.name,'""'," "]}),(0,Op.jsxs)("div",{className:"editBoard__form-span-wrapper",children:[d&&(0,Op.jsxs)("span",{className:"editBoard__form-span editBoard__form-span--margin",children:["Created:",new Date(1e3*d.createdAt.seconds).toLocaleString()]}),d&&d.lastEdited&&(0,Op.jsxs)("span",{className:"editBoard__form-span editBoard__form-span--margin",children:["Last Edited:",new Date(1e3*d.lastEdited.seconds).toLocaleString()]})]}),(0,Op.jsxs)("div",{className:"editBoard__form-wrapper",children:[(0,Op.jsx)("span",{className:"editBoard__form-span",children:"Name"}),(0,Op.jsx)("input",{placeholder:"e.g. Web Design",type:"text",className:"editBoard__form-input ".concat(b?"editBoard__form-input--error":""," ").concat(G?"darkMode--light":""),value:m,onChange:function(e){g(e.target.value),H(),E(Kv(k,(function(e){e.forEach((function(e){e.error=!1}))})))}})]}),(0,Op.jsxs)("div",{className:"editBoard__form-wrapper",children:[(0,Op.jsx)("span",{className:"editBoard__form-span",children:"Columns"}),(0,Op.jsxs)("select",{className:"editBoard__form-select ".concat(G?"darkMode--select":""),name:"Column name",defaultValue:"",disabled:T,onChange:function(e){N(e.target.value),H()},children:[(0,Op.jsx)("option",{hidden:!0,value:"",children:T?"All columns selected":"Choose column"}),k&&k.map((function(e){return!1===e.active?(0,Op.jsx)("option",{value:e.name,children:e.name},e.name):""})),!T&&(0,Op.jsx)("option",{value:"All Columns",children:"All Columns"})]}),k&&k.map((function(e){return"All Columns"!==e.name&&!0===e.active?(0,Op.jsxs)("div",{className:"editBoard__form-input-wrapper",children:[(0,Op.jsx)("input",{className:"editBoard__form-input ".concat(e.error?"editBoard__form-input--error":""," ").concat(G?"darkMode--light":""),value:e.value,onChange:function(t){return function(e,t){H();var n=Kv(k,(function(n){n.forEach((function(n){n.error&&(n.error=!1),n.name===t.name&&(n.value=e.target.value,n.isEdited=!0)}))}));E(n)}(t,e)}}),(0,Op.jsx)("button",{type:"button",onClick:function(){!function(e){H(),4===k.filter((function(e){return e.active})).length&&I(!1);var t=Kv(k,(function(t){t.forEach((function(t){t.name===e&&(t.active=!1)}))}));E(t)}(e.name)},className:"editBoard__form-column-delete",children:(0,Op.jsx)("img",{className:" editBoard__form-column-delete-img",src:um,alt:"delete"})})]},e.name):""}))]}),(0,Op.jsx)("p",{className:"editBoard__form-alert",children:U}),(0,Op.jsxs)("div",{className:"editBoard__form-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){H();var e=Kv(k,(function(e){e.forEach((function(e){e.error&&(e.error=!1)}))}));if(E(e),"All Columns"===x){var t=Kv(k,(function(e){e.forEach((function(e){!1===e.active&&(e.active=!0,e.isEdited=!0,e.value=e.name)}))}));E(t)}else if(""===x)V("Choose a column");else{var n=Kv(k,(function(e){e.forEach((function(e){e.name===x&&(e.active=!0,e.value=e.name,e.isEdited=!0)}))}));E(n)}N("")},disabled:T,type:"button",className:"editBoard__form-button editBoard__form-button--light-purple ".concat(T?"editBoard__form-button--light-purple-disabled":""," "),children:(0,Op.jsx)("p",{className:"editBoard__form-button-p",children:"+ Add New Column"})}),(0,Op.jsxs)("div",{className:"editBoard__form-buttons-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){return X(!0)},type:"button",className:"editBoard__form-button editBoard__form-button--delete",children:(0,Op.jsx)("p",{className:"editBoard__form-button-p",children:"Delete Board"})}),(0,Op.jsx)("button",{disabled:O,className:"editBoard__form-button editBoard__form-button--purple ".concat(O?"editBoard__form-button--disabled":""),children:(0,Op.jsx)("p",{className:"editBoard__form-button-p",children:"Save Board"})})]})]})]})})]})})}var wm=function(){var e=a((0,t.useState)(!0),2),n=e[0],r=e[1],i=a((0,t.useState)(!1),2),o=i[0],s=i[1],u=a((0,t.useState)(null),2),c=u[0],l=u[1],h=Fp().dispatch,f=a((0,t.useState)(!1),2),d=f[0],p=f[1],v=function(){var e=nm(em().mark((function e(){var t,n,i,o,a,u=arguments;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:null,n=u.length>1&&void 0!==u[1]?u[1]:null,i=u.length>2&&void 0!==u[2]?u[2]:null,o=u.length>3&&void 0!==u[3]?u[3]:null,r(null),s(!0),l(null),e.prev=7,!(a=Dp.currentUser).isAnonymous){e.next=12;break}return e.next=12,a.updateProfile({isAnonymous:!1});case 12:if(!t){e.next=15;break}return e.next=15,a.updateEmail(t);case 15:if(!n){e.next=18;break}return e.next=18,a.updatePassword(n);case 18:if(!i){e.next=21;break}return e.next=21,a.updateProfile({displayName:i});case 21:if(!o){e.next=24;break}return e.next=24,a.updateProfile({photoURL:o});case 24:if(a){e.next=26;break}throw new Error("There is no user");case 26:h({type:"UPDATE",payload:a}),d||(l("Update successfull!"),s(!1),r(null)),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(7),d||(r(e.t0.message),s(!1),l(null));case 33:case"end":return e.stop()}}),e,null,[[7,30]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){p(!0)}}),[]),{update:v,error:n,isPending:o,isSuccess:c}};function km(){var e=a((0,t.useState)(""),2),n=e[0],r=e[1],i=a((0,t.useState)(""),2),o=i[0],s=i[1],u=a((0,t.useState)(""),2),c=u[0],l=u[1],h=a((0,t.useState)(""),2),f=h[0],d=h[1],p=wm(),v=p.update,m=p.isSuccess,g=hm().logout,y=M(),b=Bp().darkMode,_=(0,t.useRef)();sm(_,(function(){y(-1)}));var w=(0,t.useRef)(),k=(0,t.useRef)(),E=(0,t.useRef)(),S=(0,t.useRef)();return(0,t.useEffect)((function(){m&&y(-1)}),[m,y]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsx)("div",{ref:_,className:"auth",children:(0,Op.jsxs)("form",{className:"auth__form ".concat(b?"darkMode--light":""),onSubmit:function(e){e.preventDefault(),o===c&&v(n,o,f)},children:[(0,Op.jsx)("div",{className:"auth__form-logo-wrapper",children:(0,Op.jsx)("h2",{className:"auth__form-logo-h2",children:"Sign Up"})}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:w,type:"email",className:"auth__form-input ".concat(n&&"auth__form-input--content"," ").concat(b?"darkMode--light":""),onChange:function(e){return r(e.target.value)},value:n}),(0,Op.jsx)("span",{onClick:function(){return w.current.focus()},onMouseEnter:function(){return w.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return w.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(n&&"auth__form-input-span--content"," ").concat(b?"darkMode--light":""),children:"Email adress*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:k,type:"password",className:"auth__form-input ".concat(o&&"auth__form-input--content"," ").concat(b?"darkMode--light":""),onChange:function(e){return s(e.target.value)},value:o}),(0,Op.jsx)("span",{onClick:function(){return k.current.focus()},onMouseEnter:function(){return k.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return k.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(o&&"auth__form-input-span--content"," ").concat(b?"darkMode--light":""),children:"Password*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:E,type:"password",className:"auth__form-input ".concat(c&&"auth__form-input--content"," ").concat(b?"darkMode--light":""),onChange:function(e){return l(e.target.value)},value:c}),(0,Op.jsx)("span",{onClick:function(){return E.current.focus()},onMouseEnter:function(){return E.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return E.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(c&&"auth__form-input-span--content"," ").concat(b?"darkMode--light":""),children:"Repeat password*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:S,type:"text",className:"auth__form-input ".concat(f&&"auth__form-input--content"," ").concat(b?"darkMode--light":""),onChange:function(e){return d(e.target.value)},value:f}),(0,Op.jsx)("span",{onClick:function(){return S.current.focus()},onMouseEnter:function(){return S.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return S.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(f&&"auth__form-input-span--content"," ").concat(b?"darkMode--light":""),children:"Display name"})]})]}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsx)("button",{className:"auth__form-submit",children:(0,Op.jsx)("p",{className:"auth__form-submit-p",children:"SIGN UP"})}),(0,Op.jsx)("div",{className:"auth__form-buttons-wrapper",children:(0,Op.jsx)(X,{onClick:function(){g()},to:"/",className:"auth__form-link auth__form-link--signup",children:(0,Op.jsx)("p",{className:"auth__form-link-p",children:"Already have an account? Sign in"})})})]})]})})]})}var Em=n.p+"static/media/pen-to-square-solid.4d579e09a4f4fc9b546b9913a5bd8488.svg";var Sm=n.p+"static/media/check-solid.d77a6106b69459fb02faabc5c2925156.svg";var Tm=n.p+"static/media/xmark-solid.ae469738e479d31aa952364e12120ad2.svg";function Im(e){var n=e.type,r=e.handleBackButton,i=a((0,t.useState)(""),2),o=i[0],s=i[1],u=a((0,t.useState)(""),2),c=u[0],l=u[1],h=a((0,t.useState)(""),2),f=h[0],d=h[1],p=a((0,t.useState)(""),2),v=p[0],m=p[1],g=a((0,t.useState)(!1),2),y=g[0],b=g[1],_=a((0,t.useState)(""),2),w=_[0],k=_[1],E=wm(),S=E.update,T=E.isSuccess,I=am().validate,C=Bp().darkMode,x=function(){l(""),m(""),b(!1),k("")};return(0,t.useEffect)((function(){(c||v)&&b(!0),T&&(k(n.toUpperCase()+" change successful"),setTimeout((function(){r()}),1e3))}),[T,c,v,n,r]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"profile__info-title-wrapper",children:(0,Op.jsxs)("h2",{className:"profile__info-h2",children:["Change ",n]})}),(0,Op.jsxs)("div",{className:"profile__info-content-wrapper profile__info-content-wrapper--settings ",children:[(0,Op.jsxs)("div",{className:"profile__info-content-settings",children:[(0,Op.jsxs)("span",{className:"profile__info-content-span ".concat(C?"darkMode--light":""),children:["New ",n]}),(0,Op.jsx)("input",{required:!0,type:n,onChange:function(e){s(e.target.value),x()},className:"profile__info-input ".concat(o&&"profile__info-input--content"," ").concat(c&&"profile__info-input--error")})]}),(0,Op.jsxs)("div",{className:"profile__info-content-settings",children:[(0,Op.jsxs)("span",{className:"profile__info-content-span ".concat(C?"darkMode--light":""),children:["Confirm ",n]}),(0,Op.jsx)("input",{required:!0,type:n,onChange:function(e){d(e.target.value),x()},className:"profile__info-input ".concat(o&&"profile__info-input--content"," ").concat(v&&"profile__info-input--error"," ")})]}),(0,Op.jsx)("p",{className:"profile__info-message ".concat(y?"profile__info-message--error":""),children:w}),(0,Op.jsxs)("div",{className:"profile__info-edit-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){var e=function(){var e=I(n,o);if(e)return l(e),e;var t=I(n,f);return t?(m(t),t):void 0}();e?k(e):o!==f||""===o&&""===f?(b(!0),l(!0),m(!0),k(n.toUpperCase()+"S don't match")):("email"===n&&S(o),"password"===n&&S(null,o))},disabled:y,className:"profile__info-edit-button profile__info-edit-button--settings ".concat(y?"profile__info-edit-button--active":""),children:(0,Op.jsx)("p",{className:"profile__info-edit-button-p",children:"Save"})}),(0,Op.jsx)("button",{onClick:function(){r(!1),x()},className:"profile__info-edit-button profile__info-edit-button--settings",children:(0,Op.jsx)("p",{className:"profile__info-edit-button-p",children:"Back"})})]})]})]})}function Cm(){var e=Fp().user,n=Gp("userData",["uid","==",e.uid]).documents,r=wm().update,i=function(){var e=a((0,t.useState)(!0),2),n=e[0],r=e[1],i=a((0,t.useState)(!1),2),o=i[0],s=i[1],u=a((0,t.useState)(null),2),c=u[0],l=u[1],h=Fp().dispatch,f=a((0,t.useState)(!1),2),d=f[0],p=f[1],v=function(){var e=nm(em().mark((function e(){var t;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Dp.currentUser,e.next=4,t.delete();case 4:if(t){e.next=6;break}throw new Error("There is no user");case 6:h({type:"DELETE"}),d||(l("Delete successfull!"),s(!1),r(null)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d||(r(e.t0.message),s(!1),l(null));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){p(!0)}}),[]),{deleteUser:v,error:n,isPending:o,isSuccess:c}}(),o=i.deleteUser,s=M(),u=Bp().darkMode,c=(0,t.useRef)();sm(c,(function(){s(-1)}));var l=(0,t.useRef)();sm(l,(function(){T(!1),e&&G(e.displayName)}));var h=a((0,t.useState)(!1),2),f=h[0],d=h[1],p=a((0,t.useState)(!1),2),v=p[0],m=p[1],g=a((0,t.useState)(!1),2),y=g[0],b=g[1],_=a((0,t.useState)(!1),2),w=_[0],k=_[1],E=a((0,t.useState)(!1),2),S=E[0],T=E[1],I=a((0,t.useState)(!1),2),C=I[0],x=I[1],N=a((0,t.useState)(null),2),A=N[0],P=N[1],D=a((0,t.useState)([]),2),R=D[0],O=D[1],L=a((0,t.useState)("https://robohash.org/random"),2),j=L[0],F=L[1],U=a((0,t.useState)(!1),2),V=U[0],q=U[1],B=a((0,t.useState)(""),2),z=B[0],G=B[1],K=function(e){m(!1),k(!1),x(e),d(!f)},H=function(e){d(!1),k(!1),x(e),m(!v)},W=function(e){b(e),d(!1),m(!1),x(!1),k(!1)},J="Delete user ".concat(e&&e.displayName.toUpperCase(),"?"),Q=function(e){r(null,null,null,e)},X=function(){var e=nm(em().mark((function e(){var t;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.next=3,fetch(R[Math.floor(Math.random()*R.length)]);case 3:t=e.sent,F(t.url),q(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){T(!S)};return(0,t.useEffect)((function(){if(e){G(e.displayName);for(var t=["https://robohash.org/".concat(e.displayName)],n=0;n<9;n++)t.push("https://robohash.org/".concat(n));P(t);for(var r=[],i=10;i<1009;i++)r.push("https://robohash.org/".concat(i));O(r)}}),[e]),(0,Op.jsx)(Op.Fragment,{children:y?(0,Op.jsx)(fm,{handleDeleteButton:W,handleDeleteElement:function(){o()},titleDescription:J,text:"Are you sure you want to delete this user?\n  This action will remove this user and all related data and cannot be reversed."}):(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsxs)("section",{ref:c,className:"profile ".concat(u?"darkMode--light":""),children:[(0,Op.jsxs)("aside",{className:"profile__avatar ".concat(u?"darkMode--avatar-background":""," "),children:[(0,Op.jsx)("div",{className:"profile__avatar-wrapper ",children:(0,Op.jsx)("button",{onClick:function(){d(!1),m(!1),x(!w),k(!w)},className:"profile__avatar-img-wrapper ".concat(w?"profile__avatar-img-wrapper--active":""," ").concat(u?"darkMode--dark":""),children:(0,Op.jsx)("img",{src:e&&e.photoURL,alt:"avatar",className:"profile__avatar-img ".concat(u?"darkMode--dark":"")})})}),(0,Op.jsxs)("div",{className:"profile__avatar-wrapper profile__avatar-wrapper--name",children:[(0,Op.jsx)("p",{className:"profile__avatar-name",children:"Welcome "}),(0,Op.jsx)("label",{ref:l,htmlFor:"",className:"profile__avatar-name-label",children:S?(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("input",{value:z.toUpperCase(),maxLength:"15",autoFocus:!0,onChange:function(e){return G(e.target.value)},type:"text",className:"profile__avatar-name-input"}),(0,Op.jsxs)("div",{className:"profile__avatar-edit-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){r(null,null,z),Y()},className:"profile__avatar-edit",children:(0,Op.jsx)("img",{src:Sm,alt:"edit",className:"profile__avatar-edit-img"})}),(0,Op.jsx)("button",{onClick:function(){e&&(G(e.displayName),Y())},className:"profile__avatar-edit",children:(0,Op.jsx)("img",{src:Tm,alt:"edit",className:"profile__avatar-edit-img"})})]})]}):(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("p",{className:"profile__avatar-name",children:z&&z.toUpperCase()}),(0,Op.jsx)("button",{onClick:Y,className:"profile__avatar-edit",children:(0,Op.jsx)("img",{src:Em,alt:"edit",className:"profile__avatar-edit-img"})})]})})]})]}),(0,Op.jsxs)("aside",{className:"profile__info",children:[(0,Op.jsxs)("div",{className:"profile__info-wrapper ".concat(C?"profile__info-wrapper--settings-active":""),children:[!C&&(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"profile__info-title-wrapper",children:(0,Op.jsx)("h2",{className:"profile__info-h2",children:"Information"})}),(0,Op.jsxs)("div",{className:"profile__info-content-wrapper",children:[(0,Op.jsxs)("div",{className:"profile__info-content",children:[(0,Op.jsx)("span",{className:"profile__info-content-span ".concat(u?"darkMode--light":""),children:"Email"}),(0,Op.jsx)("p",{className:"profile__info-content-p",children:e&&(e.isAnonymous?"GUEST":e.email)})]}),(0,Op.jsxs)("div",{className:"profile__info-content",children:[(0,Op.jsx)("span",{className:"profile__info-content-span ".concat(u?"darkMode--light":""),children:"Example data"}),(0,Op.jsx)("p",{className:"profile__info-content-p",children:n&&n.length>0&&n[0].example?"Turned on":"Turned off"})]})]})]}),f&&(0,Op.jsx)(Im,{type:"email",handleBackButton:K}),v&&(0,Op.jsx)(Im,{type:"password",handleBackButton:H}),w&&A&&(0,Op.jsxs)("div",{className:"profile__settings-wrapper",children:[(0,Op.jsx)("div",{className:"profile__info-title-wrapper",children:(0,Op.jsx)("h2",{className:"profile__info-h2",children:"Choose your avatar"})}),(0,Op.jsx)("div",{className:"profile__avatar-images-wrapper",children:A.map((function(e){return(0,Op.jsx)("div",{onClick:function(){return Q(e)},className:"profile__avatar-img-pick-wrapper",children:(0,Op.jsx)("img",{src:e,alt:"avatar",className:"profile__avatar-img-pick ".concat(u?"darkMode--dark":"")})},e)}))}),(0,Op.jsxs)("div",{className:"profile__avatar-random-wrapper",children:[(0,Op.jsx)("p",{className:"profile__avatar-random-p",children:"OR"}),(0,Op.jsxs)("div",{className:"profile__avatar-random-img-wrapper",children:[(0,Op.jsx)("img",{src:j&&j,onClick:function(){return Q(j)},alt:"random avatar",className:"profile__avatar-random-img ".concat(u?"darkMode--dark":"")}),(0,Op.jsx)("button",{disabled:V,onClick:X,className:"profile__avatar-random-button ".concat(V?"profile__avatar-random-button--disabled":""),children:(0,Op.jsx)("p",{className:"profile__avatar-random-button-p",children:"Generate random avatar"})})]})]})]})]}),(0,Op.jsxs)("div",{className:"profile__settings-wrapper",children:[(0,Op.jsx)("div",{className:"profile__info-title-wrapper",children:(0,Op.jsx)("h2",{className:"profile__info-h2",children:"Settings"})}),(0,Op.jsxs)("div",{className:"profile__info-edit-wrapper",children:[(0,Op.jsx)("button",{onClick:function(){return K(!0)},disabled:f||e.isAnonymous,className:"profile__info-edit-button ".concat(f||e.isAnonymous&&"profile__info-edit-button--active"),children:(0,Op.jsx)("p",{className:"profile__info-edit-button-p",children:"Change email"})}),(0,Op.jsx)("button",{onClick:function(){return H(!0)},disabled:v||e.isAnonymous,className:"profile__info-edit-button ".concat(v||e.isAnonymous&&"profile__info-edit-button--active"),children:(0,Op.jsx)("p",{className:"profile__info-edit-button-p",children:"Change password"})}),(0,Op.jsx)("button",{onClick:function(){return W(!0)},className:"profile__info-edit-button profile__info-edit-button--delete",children:(0,Op.jsx)("p",{className:"profile__info-edit-button-p",children:"Delete account"})})]})]})]})]})]})})}var xm={_origin:"https://api.emailjs.com"},Nm=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pm(e,t,n){return t&&Am(e.prototype,t),n&&Am(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dm=Pm((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.status=t.status,this.text=t.responseText})),Rm=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var o=new XMLHttpRequest;o.addEventListener("load",(function(e){var t=e.target,n=new Dm(t);200===n.status||"OK"===n.text?r(n):i(n)})),o.addEventListener("error",(function(e){var t=e.target;i(new Dm(t))})),o.open("POST",xm._origin+e,!0),Object.keys(n).forEach((function(e){o.setRequestHeader(e,n[e])})),o.send(t)}))},Om=function(e,t,n,r){var i=r||xm._userID;Nm(i,e,t);var o={lib_version:"3.7.0",user_id:i,service_id:e,template_id:t,template_params:n};return Rm("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})};function Lm(){var e=Fp().user,n=M(),r=am().validate,i=Bp().darkMode,o=(0,t.useRef)();sm(o,(function(){K(),n(-1)}));var s=(0,t.useRef)(),u=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),h=a((0,t.useState)(""),2),f=h[0],d=h[1],p=a((0,t.useState)(""),2),v=p[0],m=p[1],g=a((0,t.useState)(""),2),y=g[0],b=g[1],_=a((0,t.useState)(""),2),w=_[0],k=_[1],E=a((0,t.useState)(""),2),S=E[0],T=E[1],I=a((0,t.useState)(""),2),C=I[0],x=I[1],N=a((0,t.useState)(""),2),A=N[0],P=N[1],D=a((0,t.useState)(""),2),R=D[0],O=D[1],L=a((0,t.useState)(""),2),j=L[0],F=L[1],U=a((0,t.useState)(""),2),V=U[0],q=U[1],B=a((0,t.useState)(!1),2),z=B[0],G=B[1],K=function(){d(""),k(""),x(""),O(""),H()},H=function(){m(""),P(""),T(""),F(""),q(""),G("")};return(0,t.useEffect)((function(){(v||A||S||j)&&G(!0),e&&b(e.uid)}),[e,v,A,S,j]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)("div",{className:"background-color"}),(0,Op.jsxs)("div",{ref:o,className:"about ".concat(i?"darkMode--light":""),children:[(0,Op.jsxs)("div",{className:"about__text-wrapper",children:[(0,Op.jsxs)("h2",{className:"about__h2",children:["Hello dear ",e&&e.displayName]}),(0,Op.jsxs)("p",{className:"about__p",children:["My name is Pawe\u0142 M\u0105czka and I am the creator of this application. First of all I want to thank you for using this app. If you like it or have any questions to me, or you want to know me better just send me a message using form below or you can checkout my"," ",(0,Op.jsx)("a",{href:"https://github.com/MP-projects",rel:"noreferrer",target:"_blank",className:"about__link",children:"github"}),"."]})]}),(0,Op.jsxs)("form",{className:"about__form",onSubmit:function(e){e.preventDefault(),q("");var t=function(){var e=r("text",f);if(e)return m(e),e;var t=r("name",w);if(t)return T(t),t;var n=r("email",C);if(n)return P(n),n;var i=r("message",R);return!!i&&(F(i),i)}();t?q(t):Om("service_wt3gssp","template_vzstcimdsf",{subject:f,userName:y,name:w,email:C,message:R},"MZn4DGaw__cnW8xTF").then((function(e){200===e.status&&(K(),q("Message sent successful!"),setTimeout((function(){q("")}),2e3))}),(function(e){q(e)}))},children:[(0,Op.jsxs)("div",{className:"about__input-wrapper",children:[(0,Op.jsx)("input",{ref:s,type:"text",name:"Subject",className:"about__input ".concat(f?"about__input--content":""," ").concat(v?"about__input--error":""," ").concat(i?"darkMode--light":""),value:f,onChange:function(e){d(e.target.value),H()}}),(0,Op.jsx)("span",{onClick:function(){return s.current.focus()},onMouseEnter:function(){return s.current.classList.add("about__input--hover")},onMouseLeave:function(){return s.current.classList.remove("about__input--hover")},className:"about__input-span ".concat(C?"about__input-span--content":""," ").concat(i?"darkMode--light":""),children:"Subject*"})]}),(0,Op.jsxs)("div",{className:"about__input-wrapper about__input-wrapper--row",children:[(0,Op.jsxs)("div",{className:"about__input-wrapper about__input-wrapper--row-item",children:[(0,Op.jsx)("input",{ref:u,type:"text",name:"name",className:"about__input ".concat(w?"about__input--content":""," ").concat(S?"about__input--error":""," ").concat(i?"darkMode--light":""),value:w,onChange:function(e){k(e.target.value),H()}}),(0,Op.jsx)("span",{onClick:function(){return u.current.focus()},onMouseEnter:function(){return u.current.classList.add("about__input--hover")},onMouseLeave:function(){return u.current.classList.remove("about__input--hover")},className:"about__input-span ".concat(w?"about__input-span--content":""," ").concat(i?"darkMode--light":""),children:"Name*"})]}),(0,Op.jsxs)("div",{className:"about__input-wrapper about__input-wrapper--row-item",children:[(0,Op.jsx)("input",{ref:c,type:"text",name:"email",className:"about__input ".concat(C?"about__input--content":""," ").concat(A?"about__input--error":""," ").concat(i?"darkMode--light":""),value:C,onChange:function(e){x(e.target.value),H()}}),(0,Op.jsx)("span",{onClick:function(){return c.current.focus()},onMouseEnter:function(){return c.current.classList.add("about__input--hover")},onMouseLeave:function(){return c.current.classList.remove("about__input--hover")},className:"about__input-span ".concat(C?"about__input-span--content":""," ").concat(i?"darkMode--light":""),children:"Email adress*"})]})]}),(0,Op.jsxs)("div",{className:"about__input-wrapper",children:[(0,Op.jsx)("textarea",{ref:l,type:"text",name:"message",className:"about__input about__input--textarea ".concat(R?"about__input--content":""," ").concat(j?"about__input--error":""," ").concat(i?"darkMode--light":""),value:R,onChange:function(e){O(e.target.value),H()}}),(0,Op.jsx)("span",{onClick:function(){return l.current.focus()},onMouseEnter:function(){return l.current.classList.add("about__input--hover")},onMouseLeave:function(){return l.current.classList.remove("about__input--hover")},className:"about__input-span about__input-span--textarea".concat(R?"about__input-span--content":""," ").concat(i?"darkMode--light":""),children:"Message*"})]}),(0,Op.jsx)("p",{className:"about__response ".concat(z?"about__response--error":""),children:V}),(0,Op.jsxs)("div",{className:"about__input-wrapper about__input-wrapper--row",children:[(0,Op.jsx)("button",{disabled:z,className:"about__button ".concat(z?"about__button--disabled":""),children:(0,Op.jsx)("p",{className:"about__button-p",children:"Send message"})}),(0,Op.jsx)("button",{onClick:K,type:"button",className:"about__button",children:(0,Op.jsx)("p",{className:"about__button-p",children:"Clear form"})})]})]})]})]})}function Mm(e){var n=e.boards,r=e.uid,i=e.tasks,o=j().id,s=a((0,t.useState)(null),2),u=s[0],c=s[1],l=a((0,t.useState)(null),2),h=l[0],f=l[1],d=a((0,t.useState)(null),2),p=d[0],v=d[1],m=om("boards").setDocument;(0,t.useEffect)((function(){if(n&&o){var e=n.filter((function(e){return e.id===o}))[0];c(e);var t=e.columns.filter((function(e){return!1===e.active}));if(t.length>0?v(t):v(null),i){var r=i.filter((function(t){return t.boardId===e.id}));f(r)}}}),[o,n,i]);return(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsxs)("div",{className:"columns",children:[u&&h&&u.columns.map((function(e){var t=function(e){return h.filter((function(t){return t.status.name===e.name}))}(e);return e.active?(0,Op.jsx)(gm,{column:e,tasks:t},e.name):""})),p&&(0,Op.jsx)("section",{className:"columns__newColumn",children:(0,Op.jsx)("button",{onClick:function(){var e=Kv(u,(function(e){e.columns.forEach((function(e){e.name===p[0].name&&(e.active=!0)}))}));m(e,e.id)},className:"columns__newColumn-button",children:(0,Op.jsx)("p",{className:"columns__newColumn-button-p",children:"+ New column"})})})]}),(0,Op.jsxs)(z,{children:[(0,Op.jsx)(q,{path:":id",element:(0,Op.jsx)(bm,{tasks:i,board:u})}),(0,Op.jsx)(q,{path:"newTask",element:(0,Op.jsx)(vm,{boards:n,uid:r})}),(0,Op.jsx)(q,{path:"newBoard",element:(0,Op.jsx)(cm,{uid:r,boards:n})}),(0,Op.jsx)(q,{path:"editBoard",element:(0,Op.jsx)(_m,{uid:r,boards:n,tasks:i})}),(0,Op.jsx)(q,{path:"register",element:(0,Op.jsx)(km,{})}),(0,Op.jsx)(q,{path:"profile",element:(0,Op.jsx)(Cm,{})}),(0,Op.jsx)(q,{path:"About",element:(0,Op.jsx)(Lm,{})})]})]})}function jm(){return(0,Op.jsx)("div",{className:"board__wrapper",children:(0,Op.jsxs)("section",{className:"board__empty",children:[(0,Op.jsx)("div",{className:"board__empty-text-wrapper",children:(0,Op.jsx)("p",{className:"board__empty-text",children:"This board is empty. Create a new column to get started."})}),(0,Op.jsx)(X,{to:"newBoard",className:"board__empty-add-button",children:(0,Op.jsx)("p",{className:"board__empty-button-text",children:" + Create New Board "})})]})})}function Fm(e){var t=e.boards,n=e.uid,r=e.tasks,i=Bp().darkMode;return(0,Op.jsx)("div",{className:"board__wrapper ".concat(i?"darkMode--scrollbar-board":""," "),children:t?(0,Op.jsxs)(z,{children:[(0,Op.jsx)(q,{path:":id/*",element:(0,Op.jsx)(Mm,{uid:n,boards:t,tasks:r})}),(0,Op.jsx)(q,{path:"/",element:t&&(0,Op.jsx)(V,{to:"".concat(t[0].id)})}),(0,Op.jsx)(q,{path:"newTask",element:(0,Op.jsx)(vm,{uid:n})}),(0,Op.jsx)(q,{path:"newBoard",element:(0,Op.jsx)(cm,{uid:n,boards:t})}),(0,Op.jsx)(q,{path:"About",element:(0,Op.jsx)(Lm,{})})]}):(0,Op.jsx)(jm,{})})}function Um(){var e=Fp().user,n=Gp("boards",["uid","==",e.uid]).documents,r=Gp("tasks",["uid","==",e.uid]).documents,i=Gp("userData",["uid","==",e.uid]).documents,o=a((0,t.useState)(null),2),s=o[0],u=o[1],c=a((0,t.useState)(null),2),l=c[0],h=c[1],f=a((0,t.useState)(""),2),d=f[0],p=f[1];return(0,t.useEffect)((function(){if(n){var e=Kv(n,(function(e){e.sort((function(e,t){return e.createdAt-t.createdAt}))}));u(e)}if(r){var t=Kv(r,(function(e){e.sort((function(e,t){return e.createdAt-t.createdAt}))}));h(t)}i&&p(i)}),[n,r,i]),(0,Op.jsxs)(Op.Fragment,{children:[(0,Op.jsx)(lm,{uid:e.uid,boards:s,tasks:l}),(0,Op.jsxs)("div",{className:"home-wrapper",children:[(0,Op.jsx)(pm,{uid:e.uid,boards:s,tasks:l,userData:d}),(!s||0===s.length)&&(0,Op.jsx)(jm,{}),(0,Op.jsxs)(z,{children:[(0,Op.jsx)(q,{path:"/",element:!(!s||0===s.length)&&(0,Op.jsx)(V,{to:"boards"})}),(0,Op.jsx)(q,{path:"boards/*",element:s&&s.length>0?(0,Op.jsx)(Fm,{uid:e.uid,boards:s&&s,tasks:l}):(0,Op.jsx)(V,{to:"/"})}),(0,Op.jsx)(q,{path:"newTask",element:(0,Op.jsx)(vm,{})}),(0,Op.jsx)(q,{path:"register",element:(0,Op.jsx)(km,{})}),(0,Op.jsx)(q,{path:"profile",element:(0,Op.jsx)(Cm,{})}),(0,Op.jsx)(q,{path:"About",element:(0,Op.jsx)(Lm,{})})]})]})]})}n(895);!function(e){e.prototype.loadBundle=Cp,e.prototype.namedQuery=xp}(cp);var Vm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qm=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,hi.ZT)(t,e),t}(Error);var Bm=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function zm(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Gm=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return zm(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?zm(e,(function(e){return t.decode(e)})):e},e}();var Km=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Gm,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Bm(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f,d;return(0,hi.Jh)(this,(function(p){switch(p.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=p.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,u=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new qm("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(s),c=u.timer,l=u.promise,[4,Promise.race([Hm(c,this.postJSON(r,i,o)),l,Hm(c,this.cancelAllRequests)])];case 2:if(!(h=p.sent()))throw new qm("cancelled","Firebase Functions instance was deleted.");if(f=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Vm[s])return new qm("internal","internal");r=Vm[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new qm(r,i,o)}(h.status,h.json,this.serializer),f)throw f;if(!h.json)throw new qm("internal","Response is not valid JSON object.");if("undefined"===typeof(d=h.json.data)&&(d=h.json.result),"undefined"===typeof d)throw new qm("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},e}();function Hm(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Km};e.INTERNAL.registerComponent(new Np.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Km(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(te.Z,fetch.bind(self)),te.Z.registerVersion("@firebase/functions","0.6.8");var Wm,Jm=n(494),Qm="0.4.26",Xm=1e4,Ym="w:0.4.26",Zm="FIS_v2",$m=36e5,eg=((Wm={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Wm["not-registered"]="Firebase Installation is not registered.",Wm["installation-not-found"]="Firebase Installation not found.",Wm["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Wm["app-offline"]="Could not process request. Application offline.",Wm["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Wm),tg=new ne.LL("installations","Installations",eg);function ng(e){return e instanceof ne.ZR&&e.code.includes("request-failed")}function rg(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function ig(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function og(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,tg.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function ag(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sg(e,t){var n=t.refreshToken,r=ag(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function ug(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function cg(e,t){var n=t.fid;return(0,hi.mG)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return t=rg(e),r=ag(e),i={fid:n,authVersion:Zm,appId:e.appId,sdkVersion:Ym},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,ug((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:ig(s.authToken)}];case 3:return[4,og("Create Installation",a)];case 4:throw u.sent()}}))}))}function lg(e){return new Promise((function(t){setTimeout(t,e)}))}var hg=/^[cdef][\w-]{21}$/;function fg(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,hi.ev)([],(0,hi.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return hg.test(t)?t:""}catch(fd){return""}}function dg(e){return e.appName+"!"+e.appId}var pg=new Map;function vg(e,t){var n=dg(e);mg(n,t),function(e,t){var n=yg();n&&n.postMessage({key:e,fid:t});bg()}(n,t)}function mg(e,t){var n,r,i=pg.get(e);if(i)try{for(var o=(0,hi.XA)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var gg=null;function yg(){return!gg&&"BroadcastChannel"in self&&((gg=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){mg(e.data.key,e.data.fid)}),gg}function bg(){0===pg.size&&gg&&(gg.close(),gg=null)}var _g,wg="firebase-installations-store",kg=null;function Eg(){return kg||(kg=(0,Jm.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(wg)}))),kg}function Sg(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return n=dg(e),[4,Eg()];case 1:return r=s.sent(),i=r.transaction(wg,"readwrite"),[4,(o=i.objectStore(wg)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||vg(e,t.fid),[2,t]}}))}))}function Tg(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return t=dg(e),[4,Eg()];case 1:return n=i.sent(),[4,(r=n.transaction(wg,"readwrite")).objectStore(wg).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ig(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return n=dg(e),[4,Eg()];case 1:return r=u.sent(),i=r.transaction(wg,"readwrite"),[4,(o=i.objectStore(wg)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||vg(e,s.fid),[2,s]}}))}))}function Cg(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,Ig(e,(function(n){var r=function(e){return Ag(e||{fid:fg(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(tg.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,cg(e,t)];case 1:return n=i.sent(),[2,Sg(e,n)];case 2:return ng(r=i.sent())&&409===r.customData.serverCode?[4,Tg(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Sg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:xg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function xg(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ng(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,lg(100)];case 3:return o.sent(),[4,Ng(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Cg(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function Ng(e){return Ig(e,(function(e){if(!e)throw tg.create("installation-not-found");return Ag(e)}))}function Ag(e){return 1===(t=e).registrationStatus&&t.registrationTime+Xm<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Pg(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,hi.mG)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return(0,hi.Jh)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return rg(e)+"/"+n+"/authTokens:generate"}(n,t),i=sg(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:Ym}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,ug((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,ig(c)];case 3:return[4,og("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function Dg(e,t){return void 0===t&&(t=!1),(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ig(e.appConfig,(function(r){if(!Og(r))throw tg.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$m}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,Rg(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,lg(100)];case 3:return i.sent(),[4,Rg(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Dg(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw tg.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,hi.pi)((0,hi.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,Pg(e,t)];case 1:return n=o.sent(),i=(0,hi.pi)((0,hi.pi)({},t),{authToken:n}),[4,Sg(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!ng(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Tg(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,hi.pi)((0,hi.pi)({},t),{authToken:{requestStatus:0}}),[4,Sg(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function Rg(e){return Ig(e,(function(e){if(!Og(e))throw tg.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Xm<Date.now()?(0,hi.pi)((0,hi.pi)({},e),{authToken:{requestStatus:0}}):e}))}function Og(e){return void 0!==e&&2===e.registrationStatus}function Lg(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,Cg(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function Mg(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return rg(e)+"/"+n}(e,t),r=sg(e,t),i={method:"DELETE",headers:r},[4,ug((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,og("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function jg(e,t){var n=e.appConfig;return function(e,t){yg();var n=dg(e),r=pg.get(n);r||(r=new Set,pg.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=dg(e),r=pg.get(n);r&&(r.delete(t),0===r.size&&pg.delete(n),bg())}(n,t)}}function Fg(e){return tg.create("missing-app-config-values",{valueName:e})}(_g=te.Z).INTERNAL.registerComponent(new Np.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Fg("App Configuration");if(!e.name)throw Fg("App Name");try{for(var r=(0,hi.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Fg(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,Cg(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Dg(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,Lg(e.appConfig)];case 1:return n.sent(),[4,Dg(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,Ig(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw tg.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw tg.create("app-offline");case 3:return[4,Mg(t,n)];case 4:return r.sent(),[4,Tg(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return jg(r,e)}};return i}),"PUBLIC")),_g.registerVersion("@firebase/installations",Qm);var Ug,Vg,qg=n(365),Bg=((Ug={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Ug["only-available-in-window"]="This method is available in a Window context.",Ug["only-available-in-sw"]="This method is available in a service worker context.",Ug["permission-default"]="The notification permission was not granted and dismissed instead.",Ug["permission-blocked"]="The notification permission was not granted and blocked instead.",Ug["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Ug["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Ug["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Ug["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Ug["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Ug["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Ug["token-update-no-token"]="FCM returned no token when updating the user to push.",Ug["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Ug["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Ug["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Ug["invalid-vapid-key"]="The public VAPID key must be a string.",Ug["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Ug),zg=new ne.LL("messaging","Messaging",Bg),Gg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kg="google.c.a.c_id";function Hg(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,hi.ev)([],(0,hi.CR)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wg(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Vg||(Vg={}));var Jg="fcm_token_details_db",Qg="fcm_token_object_Store";function Xg(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(Jg))return[2,null];o.label=2;case 2:return r=null,[4,(0,qg.openDb)(Jg,5,(function(t){return(0,hi.mG)(i,void 0,void 0,(function(){var n,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(Qg)?[4,(n=t.transaction.objectStore(Qg)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:Hg(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Hg(o.auth),p256dh:Hg(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Hg(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,(0,qg.deleteDb)(Jg)];case 4:return o.sent(),[4,(0,qg.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,(0,qg.deleteDb)("undefined")];case 6:return o.sent(),[2,Yg(r)?r:null]}}))}))}function Yg(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Zg="firebase-messaging-store",$g=null;function ey(){return $g||($g=(0,qg.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Zg)}))),$g}function ty(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return t=iy(e),[4,ey()];case 1:return[4,i.sent().transaction(Zg).objectStore(Zg).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,Xg(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,ny(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function ny(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return n=iy(e),[4,ey()];case 1:return r=o.sent(),[4,(i=r.transaction(Zg,"readwrite")).objectStore(Zg).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function ry(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return t=iy(e),[4,ey()];case 1:return n=i.sent(),[4,(r=n.transaction(Zg,"readwrite")).objectStore(Zg).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function iy(e){return e.appConfig.appId}function oy(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return[4,cy(e)];case 1:n=u.sent(),r=ly(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(uy(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),zg.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,zg.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw zg.create("token-subscribe-no-token");return[2,o.token]}}))}))}function ay(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return[4,cy(e)];case 1:n=u.sent(),r=ly(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(uy(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),zg.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,zg.create("token-update-failed",{errorInfo:s});if(!o.token)throw zg.create("token-update-no-token");return[2,o.token]}}))}))}function sy(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return[4,cy(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(uy(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,zg.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),zg.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function uy(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function cy(e){var t=e.appConfig,n=e.installations;return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function ly(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Gg&&(o.web.applicationPubKey=i),o}function hy(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw zg.create("permission-blocked");return[4,vy(t,n)];case 1:return r=s.sent(),[4,ty(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Hg(r.getKey("auth")),p256dh:Hg(r.getKey("p256dh"))},i?[3,3]:[2,py(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,sy(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,py(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,dy({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function fy(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,ty(e)];case 1:return(n=i.sent())?[4,sy(e,n.token)]:[3,4];case 2:return i.sent(),[4,ry(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function dy(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,ay(t,e)];case 1:return r=a.sent(),i=(0,hi.pi)((0,hi.pi)({},e),{token:r,createTime:Date.now()}),[4,ny(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,fy(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function py(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,oy(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,ny(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function vy(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wg(t)})]}}))}))}function my(e){return"object"===typeof e&&!!e&&Kg in e}function gy(e){return new Promise((function(t){setTimeout(t,e)}))}var yy=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw zg.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,ty(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Gg,r.label=2;case 2:return[2,hy(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return fy(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw zg.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw zg.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw zg.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw zg.create("only-available-in-window")},e.prototype.onMessage=function(){throw zg.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw zg.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,ky()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,wy(n,t)]:(r=!1,t.notification?[4,Ey(by(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,gy(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,hi.mG)(this,void 0,void 0,(function(){var r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,fy(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,ty(this.firebaseDependencies)];case 3:return r=i.sent(),[4,fy(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,hy(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Gg)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return my(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,_y(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,gy(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Vg.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function by(e){var t,n=(0,hi.pi)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function _y(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return[4,ky()];case 1:t=u.sent();try{for(n=(0,hi.XA)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function wy(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Vg.PUSH_RECEIVED;try{for(var i=(0,hi.XA)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function ky(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ey(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Sy=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Vg.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),my(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw zg.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,hy(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=Gg),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw zg.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),zg.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,fy(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?zg.create("permission-blocked"):zg.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw zg.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw zg.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw zg.create("invalid-sw-registration");if(this.swRegistration)throw zg.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw zg.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw zg.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Vg.NOTIFICATION_CLICKED:return"notification_open";case Vg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ty(e){return zg.create("missing-app-config-values",{valueName:e})}var Iy={isSupported:Cy};function Cy(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}te.Z.INTERNAL.registerComponent(new Np.wA("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Ty("App Configuration Object");if(!e.name)throw Ty("App Name");var r=e.options;try{for(var i=(0,hi.XA)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Ty(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Cy())throw zg.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new yy(r):new Sy(r)}),"PUBLIC").setServiceProps(Iy));var xy="firebasestorage.googleapis.com",Ny=function(e){function t(n,r){var i=e.call(this,Ay(n),"Firebase Storage: "+r+" ("+Ay(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,hi.ZT)(t,e),t.prototype._codeEquals=function(e){return Ay(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(ne.ZR);function Ay(e){return"storage/"+e}function Py(){return new Ny("unknown","An unknown error occurred, please check the error payload for server response.")}function Dy(){return new Ny("canceled","User canceled the upload/download.")}function Ry(){return new Ny("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Oy(e){return new Ny("invalid-argument",e)}function Ly(){return new Ny("app-deleted","The Firebase app was deleted.")}function My(e){return new Ny("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jy(e,t){return new Ny("invalid-format","String does not match format '"+e+"': "+t)}function Fy(e){throw new Ny("internal-error","Internal error: "+e)}var Uy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Vy=function(e,t){this.data=e,this.contentType=t||null};function qy(e,t){switch(e){case Uy.RAW:return new Vy(By(t));case Uy.BASE64:case Uy.BASE64URL:return new Vy(zy(e,t));case Uy.DATA_URL:return new Vy(function(e){var t=new Gy(e);return t.base64?zy(Uy.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw jy(Uy.DATA_URL,"Malformed data URL.")}return By(t)}(t.rest)}(t),new Gy(t).contentType)}throw Py()}function By(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function zy(e,t){switch(e){case Uy.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw jy(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Uy.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw jy(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw jy(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var Gy=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw jy(Uy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var Ky,Hy={STATE_CHANGED:"state_changed"},Wy={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jy(e){switch(e){case"running":case"pausing":case"canceling":return Wy.RUNNING;case"paused":return Wy.PAUSED;case"success":return Wy.SUCCESS;case"canceled":return Wy.CANCELED;default:return Wy.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Ky||(Ky={}));var Qy=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ky.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Ky.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Ky.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Fy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Fy("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Fy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Fy("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Xy=function(){function e(){}return e.prototype.createXhrIo=function(){return new Qy},e}(),Yy=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Ny("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===xy?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Ny("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Zy=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function $y(e){return"string"===typeof e||e instanceof String}function eb(e){return tb()&&e instanceof Blob}function tb(){return"undefined"!==typeof Blob}function nb(e,t,n,r){if(r<t)throw Oy("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Oy("Invalid value for '"+e+"'. Expected "+n+" or less.")}function rb(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function ib(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var ob=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(u){o(u)}else null!==a?((r=Py()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?Ly():Dy()):o(r=new Ny("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new ab(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,(0,hi.ev)([null,e],t));else{var i;s()||o?c.call.apply(c,(0,hi.ev)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function d(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new ab(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=n.getErrorCode()===Ky.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new ab(a,n))}else{var s=n.getErrorCode()===Ky.ABORT;t(!1,new ab(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),ab=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function sb(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ub(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=sb();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(tb())return new Blob(e);throw new Ny("unsupported-environment","This browser doesn't seem to support creating Blobs")}var cb=function(){function e(e,t){var n=0,r="";eb(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(eb(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(tb()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(ub.apply(null,r))}var i=t.map((function(e){return $y(e)?qy(Uy.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function lb(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function hb(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fb(e,t){return t}var db=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fb},pb=null;function vb(){if(pb)return pb;var e=[];e.push(new db("bucket")),e.push(new db("generation")),e.push(new db("metageneration")),e.push(new db("name","fullPath",!0));var t=new db("name");t.xform=function(e,t){return function(e){return!$y(e)||e.length<2?e:hb(e)}(t)},e.push(t);var n=new db("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new db("timeCreated")),e.push(new db("updated")),e.push(new db("md5Hash",null,!0)),e.push(new db("cacheControl",null,!0)),e.push(new db("contentDisposition",null,!0)),e.push(new db("contentEncoding",null,!0)),e.push(new db("contentLanguage",null,!0)),e.push(new db("contentType",null,!0)),e.push(new db("metadata","customMetadata",!0)),pb=e}function mb(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Yy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function gb(e,t,n){var r=lb(t);return null===r?null:mb(e,r,n)}function yb(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function bb(e,t,n){var r=lb(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Yy(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Yy(t,l.name)),r.items.push(s)}return r}(e,t,r)}var _b=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function wb(e){if(!e)throw Py()}function kb(e,t){return function(n,r){var i=gb(e,r,t);return wb(null!==i),i}}function Eb(e,t){return function(n,r){var i=gb(e,r,t);return wb(null!==i),function(e,t,n){var r=lb(t);if(null===r)return null;if(!$y(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return rb("/b/"+o(r)+"/o/"+o(i),n)+ib({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Sb(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Ny("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ny("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Ny("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Ny("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Tb(e){var t=Sb(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Ny("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Ib(e,t,n){var r=rb(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new _b(r,"GET",kb(e,n),i);return o.errorHandler=Tb(t),o}function Cb(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=rb(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new _b(a,"GET",function(e,t){return function(n,r){var i=bb(e,t,r);return wb(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Sb(t),u}function xb(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Nb=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Ab(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){wb(!1)}return wb(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Pb=262144;function Db(e,t,n,r,i,o,a,s){var u=new Nb(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ny("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},p=r.slice(h,f);if(null===p)throw Ry();var v=t.maxUploadRetryTime,m=new _b(n,"POST",(function(e,n){var i,a=Ab(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?kb(t,o)(e,n):null,new Nb(s,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Sb(e),m}var Rb=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Ob(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var Lb=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=vb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=xb(t,r,i),s={name:a.fullPath},u=rb(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=yb(a,n),h=e.maxUploadRetryTime,f=new _b(u,"POST",(function(e){var t;Ab(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){wb(!1)}return wb($y(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Sb(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new _b(n,"POST",(function(e){var t=Ab(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){wb(!1)}n||wb(!1);var i=Number(n);return wb(!isNaN(i)),new Nb(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Sb(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Pb*this._chunkMultiplier,n=new Nb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=Db(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Pb*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Ib(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=xb(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+yb(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=cb.getBlob(c,r,l);if(null===h)throw Ry();var f={name:u.fullPath},d=rb(o,e.host),p=e.maxUploadRetryTime,v=new _b(d,"POST",kb(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Sb(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Dy(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Jy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Rb(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Jy(this._state)){case Wy.SUCCESS:Ob(this._resolve.bind(null,this.snapshot))();break;case Wy.CANCELED:case Wy.ERROR:Ob(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Jy(this._state)){case Wy.RUNNING:case Wy.PAUSED:e.next&&Ob(e.next.bind(e,this.snapshot))();break;case Wy.SUCCESS:e.complete&&Ob(e.complete.bind(e))();break;default:e.error&&Ob(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Mb=function(){function e(e,t){this._service=e,this._location=t instanceof Yy?t:Yy.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Yy(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return hb(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Yy(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw My(e)},e}();function jb(e){var t={prefixes:[],items:[]};return Fb(e,t).then((function(){return t}))}function Fb(e,t,n){return(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return[4,Ub(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Fb(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ub(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&nb("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Cb(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Vb(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=rb(t.fullServerUrl(),e.host),o=yb(n,r),a=e.maxOperationRetryTime,s=new _b(i,"PATCH",kb(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Tb(t),s}(e.storage,e._location,t,vb()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function qb(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=rb(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new _b(r,"GET",Eb(e,n),i);return o.errorHandler=Tb(t),o}(e.storage,e._location,vb()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Ny("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Bb(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=rb(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new _b(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Tb(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function zb(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yy(e._location.bucket,n);return new Mb(e.storage,r)}function Gb(e){return/^[A-Za-z]+:\/\//.test(e)}function Kb(e,t){if(e instanceof Jb){var n=e;if(null==n._bucket)throw new Ny("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Mb(n,n._bucket);return null!=t?Kb(r,t):r}if(void 0!==t){if(t.includes(".."))throw Oy('`path` param cannot contain ".."');return zb(e,t)}return e}function Hb(e,t){if(t&&Gb(t)){if(e instanceof Jb)return new Mb(e,t);throw Oy("To use ref(service, url), the first argument must be a Storage instance.")}return Kb(e,t)}function Wb(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Yy.makeFromBucketSpec(n,e)}var Jb=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=xy,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Yy.makeFromBucketSpec(i,this._host):Wb(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Yy.makeFromBucketSpec(this._url,e):this._bucket=Wb(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Mb(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Zy(Ly());var i=function(e,t,n,r,i,o){var a=ib(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ob(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function Qb(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Lb(e,new cb(t),n)}(e=(0,ne.m9)(e),t,n)}function Xb(e){return function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Ib(e.storage,e._location,vb()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,ne.m9)(e))}function Yb(e,t){return Hb(e=(0,ne.m9)(e),t)}var Zb=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),$b=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Zb(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Zb(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new Zb(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Zb(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),e_=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new t_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new t_(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),t_=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return zb(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new $b(Qb(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Uy.RAW),this._throwIfRoot("putString");var r=qy(t,e),i=(0,hi.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new $b(new Lb(this._delegate,new cb(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return jb(e=(0,ne.m9)(e))}(this._delegate).then((function(t){return new e_(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Ub(e=(0,ne.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new e_(e,t.storage)}))},e.prototype.getMetadata=function(){return Xb(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Vb(e=(0,ne.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return qb(e=(0,ne.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Bb(e=(0,ne.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw My(e)},e}(),n_=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(Gb(e))throw Oy("ref() expected a child path but got a URL, use refFromURL instead.");return new t_(Yb(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!Gb(e))throw Oy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Yy.makeFromUrl(e,this._delegate.host)}catch(t){throw Oy("refFromUrl() expected a valid full URL but got an invalid one.")}return new t_(Yb(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function r_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new n_(r,new Jb(r,i,o,new Xy,n,te.Z.SDK_VERSION))}!function(e){var t={TaskState:Wy,TaskEvent:Hy,StringFormat:Uy,Storage:Jb,Reference:t_};e.INTERNAL.registerComponent(new Np.wA("storage",r_,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.2")}(te.Z);var i_,o_,a_,s_="0.4.12",u_=s_,c_="FB-PERF-TRACE-MEASURE",l_="_wt_",h_="_fcp",f_="_fid",d_="@firebase/performance/config",p_="@firebase/performance/configexpire",v_="Performance",m_=((i_={})["trace started"]="Trace {$traceName} was started before.",i_["trace stopped"]="Trace {$traceName} is not running.",i_["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",i_["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",i_["no window"]="Window is not available.",i_["no app id"]="App id is not available.",i_["no project id"]="Project id is not available.",i_["no api key"]="Api key is not available.",i_["invalid cc log"]="Attempted to queue invalid cc event",i_["FB not default"]="Performance can only start when Firebase app instance is the default one.",i_["RC response not ok"]="RC response is not ok",i_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",i_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",i_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",i_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",i_),g_=new ne.LL("performance",v_,m_),y_=new re.Yd(v_);y_.logLevel=re.in.INFO;var b_,__=function(){function e(e){if(this.window=e,!e)throw g_.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,ne.hl)()||(y_.info("IndexedDB is not supported by current browswer"),!1):(y_.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===o_&&(o_=new e(a_)),o_},e}();function w_(e,t){var n=e.length-t.length;if(n<0||n>1)throw g_.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var k_,E_,S_=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=w_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=w_("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw g_.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw g_.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw g_.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===b_&&(b_=new e),b_},e}();function T_(){return k_}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(E_||(E_={}));var I_=["firebase_","google_","ga_"],C_=new RegExp("^[a-zA-Z]\\w*$");function x_(){var e=__.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function N_(){switch(__.getInstance().document.visibilityState){case"visible":return E_.VISIBLE;case"hidden":return E_.HIDDEN;default:return E_.UNKNOWN}}function A_(){var e=__.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var P_="0.0.1",D_=!0,R_="FIREBASE_INSTALLATIONS_AUTH";function O_(e){var t=function(){var e=__.getInstance().localStorage;if(!e)return;var t=e.getItem(p_);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(d_);if(!r)return;try{return JSON.parse(r)}catch(fd){return}}();return t?(M_(t),Promise.resolve()):function(e){return function(){var e=S_.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+S_.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+S_.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:R_+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:S_.getInstance().getAppId(),app_version:u_,sdk_version:P_})});return fetch(r).then((function(e){if(e.ok)return e.json();throw g_.create("RC response not ok")}))})).catch((function(){y_.info(L_)}))}(e).then(M_).then((function(e){return function(e){var t=__.getInstance().localStorage;if(!e||!t)return;t.setItem(d_,JSON.stringify(e)),t.setItem(p_,String(Date.now()+60*S_.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var L_="Could not fetch config, will use default configs";function M_(e){if(!e)return e;var t=S_.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=D_,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=j_(t.tracesSamplingRate),t.logNetworkAfterSampling=j_(t.networkRequestsSamplingRate),e}function j_(e){return Math.random()<=e}var F_,U_=1;function V_(){return U_=2,F_=F_||function(){var e=__.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=S_.getInstance().installationsService.getId();return e.then((function(e){k_=e})),e}()})).then((function(e){return O_(e)})).then((function(){return q_()}),(function(){return q_()}))}function q_(){U_=3}var B_,z_=1e4,G_=3,K_=[],H_=!1;function W_(e){setTimeout((function(){if(0!==G_)return K_.length?void function(){var e=K_.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=S_.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||y_.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=z_;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(K_=(0,hi.ev)((0,hi.ev)([],t),K_),y_.info("Retry transport request later.")),G_=3,W_(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:S_.getInstance().logSource,log_event:t},e).catch((function(){K_=(0,hi.ev)((0,hi.ev)([],e),K_),G_--,y_.info("Tries left: "+G_+"."),W_(z_)}))}():W_(z_)}),e)}function J_(e){if(!e.eventTime||!e.message)throw g_.create("invalid cc log");K_=(0,hi.ev)((0,hi.ev)([],K_),[e])}function Q_(e,t){B_||(B_=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];J_({message:e.apply(void 0,t),eventTime:Date.now()})}}(Z_)),B_(e,t)}function X_(e){var t=S_.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&__.getInstance().requiredApisAvailable()&&(e.isAuto&&N_()!==E_.VISIBLE||(3===U_?Y_(e):V_().then((function(){return Y_(e)}),(function(){return Y_(e)}))))}function Y_(e){if(T_()){var t=S_.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Q_(e,1)}),0)}}function Z_(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:$_(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:$_(),trace_metric:t};return JSON.stringify(r)}(e)}function $_(){return{google_app_id:S_.getInstance().getAppId(),app_instance_id:T_(),web_app_info:{sdk_version:u_,page_url:__.getInstance().getUrl(),service_worker_status:x_(),visibility_state:N_(),effective_connection_type:A_()},application_process_state:0}}var ew=["_fp",h_,f_];var tw=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=__.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw g_.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw g_.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),X_(this)},e.prototype.record=function(e,t,n){if(e<=0)throw g_.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw g_.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,hi.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}X_(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(l_)&&ew.indexOf(n)>-1)&&n.startsWith("_"))throw g_.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&y_.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!I_.some((function(e){return n.startsWith(e)}))&&!!n.match(C_),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw g_.create("invalid attribute name",{attributeName:e});if(!i)throw g_.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,hi.pi)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=__.getInstance().getUrl();if(i){var o=new e(l_+i,!0),a=Math.floor(1e3*__.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(h_,Math.floor(1e3*u.startTime)),r&&o.putMetric(f_,Math.floor(1e3*r))}X_(o)}},e.createUserTimingTrace=function(t){X_(new e(t,!1,t))},e}();function nw(e){var t=e;if(t&&void 0!==t.responseStart){var n=__.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=S_.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Q_(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function rw(){T_()&&(setTimeout((function(){return function(){var e=__.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){tw.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),tw.createOobTrace(t,n,e))}))}else tw.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=__.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){nw(r[n])}e.setupObserver("resource",nw)}()}),0),setTimeout((function(){return function(){for(var e=__.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){iw(r[n])}e.setupObserver("measure",iw)}()}),0))}function iw(e){var t=e.name;t.substring(0,c_.length)!==c_&&tw.createUserTimingTrace(t)}var ow=function(){function e(e){this.app=e,__.getInstance().requiredApisAvailable()&&(0,ne.eu)().then((function(e){e&&(H_||(W_(5500),H_=!0),V_().then(rw,rw))})).catch((function(e){y_.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new tw(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return S_.getInstance().instrumentationEnabled},set:function(e){S_.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return S_.getInstance().dataCollectionEnabled},set:function(e){S_.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw g_.create("FB not default");if("undefined"===typeof window)throw g_.create("no window");return function(e){a_=e}(window),S_.getInstance().firebaseAppInstance=e,S_.getInstance().installationsService=t,new ow(e)};e.INTERNAL.registerComponent(new Np.wA("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",s_)}(te.Z);var aw,sw,uw="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(aw||(aw={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(sw||(sw={}));var cw,lw=new re.Yd("@firebase/analytics");function hw(e,t,n,r,i,o){return(0,hi.mG)(this,void 0,void 0,(function(){var a,s,u,c;return(0,hi.Jh)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),lw.error(c),[3,8];case 8:return e(aw.CONFIG,i,o),[2]}}))}))}function fw(e,t,n,r,i){return(0,hi.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f;return(0,hi.Jh)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=d.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(h=l[c],"break"!==u(h));c++);d.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return d.sent(),e(aw.EVENT,r,i||{}),[3,5];case 4:return f=d.sent(),lw.error(f),[3,5];case 5:return[2]}}))}))}function dw(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return(0,hi.mG)(this,void 0,void 0,(function(){var s;return(0,hi.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==aw.EVENT?[3,2]:[4,fw(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==aw.CONFIG?[3,4]:[4,hw(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(aw.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),lw.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var pw=((cw={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",cw["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",cw["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",cw["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cw["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",cw["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",cw["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",cw["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',cw["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',cw),vw=new ne.LL("analytics","Analytics",pw),mw=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function gw(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function yw(e){var t;return(0,hi.mG)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:gw(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw vw.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function bw(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=mw),(0,hi.mG)(this,void 0,void 0,(function(){var t,a,s,u,c,l,h;return(0,hi.Jh)(this,(function(f){switch(f.label){case 0:t=e.appId,a=e.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,_w(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return lw.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,yw(e)];case 5:return u=f.sent(),r.deleteThrottleMetadata(t),[2,u];case 6:if(!function(e){if(!(e instanceof ne.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(c=f.sent())){if(r.deleteThrottleMetadata(t),a)return lw.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?(0,ne.$s)(o,r.intervalMillis,30):(0,ne.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(t,h),lw.debug("Calling attemptFetch again in "+l+" millis"),[2,bw(e,h,n,r)];case 7:return[2]}}))}))}function _w(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(vw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var ww=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function kw(e,t,n,r,i,o){return(0,hi.mG)(this,void 0,void 0,(function(){var a,s,u,c,l,h,f;return(0,hi.Jh)(this,(function(d){switch(d.label){case 0:return a=function(e,t,n){return void 0===t&&(t=mw),(0,hi.mG)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return(0,hi.Jh)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw vw.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw vw.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new ww,setTimeout((function(){return(0,hi.mG)(c,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,bw({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&lw.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return lw.error(e)})),t.push(a),s=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e;return(0,hi.Jh)(this,(function(t){switch(t.label){case 0:return(0,ne.hl)()?[3,1]:(lw.warn(vw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,ne.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),lw.warn(vw.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(uw))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=uw+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(aw.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}var Ew,Sw,Tw={},Iw=[],Cw={},xw="dataLayer",Nw="gtag",Aw=!1;function Pw(e){if(Aw)throw vw.create("already-initialized");e.dataLayerName&&(xw=e.dataLayerName),e.gtagName&&(Nw=e.gtagName)}function Dw(e,t){!function(){var e=[];if((0,ne.ru)()&&e.push("This is a browser extension environment."),(0,ne.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=vw.create("invalid-analytics-context",{errorInfo:t});lw.warn(n.message)}}();var n=e.options.appId;if(!n)throw vw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw vw.create("no-api-key");lw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Tw[n])throw vw.create("already-exists",{id:n});if(!Aw){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xw);var r=dw(Tw,Iw,Cw,xw,Nw),i=r.wrappedGtag,o=r.gtagCore;Sw=i,Ew=o,Aw=!0}Tw[n]=kw(e,Iw,Cw,t,Ew,xw);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,hi.mG)(this,void 0,void 0,(function(){var o,a;return(0,hi.Jh)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(aw.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=(0,hi.pi)((0,hi.pi)({},r),{send_to:o}),e(aw.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Sw,Tw[n],e,t,r).catch((function(e){return lw.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(aw.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(aw.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Sw,Tw[n],e,t).catch((function(e){return lw.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i;return(0,hi.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(aw.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(aw.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Sw,Tw[n],e,t).catch((function(e){return lw.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,hi.mG)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,hi.Jh)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(aw.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(aw.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Sw,Tw[n],e,t).catch((function(e){return lw.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Tw[n],e).catch((function(e){return lw.error(e)}))},INTERNAL:{delete:function(){return delete Tw[n],Promise.resolve()}}};return a}var Rw="analytics";function Ow(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:if((0,ne.ru)())return[2,!1];if(!(0,ne.zI)())return[2,!1];if(!(0,ne.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,ne.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Np.wA(Rw,(function(e){return Dw(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Pw,EventName:sw,isSupported:Ow})),e.INTERNAL.registerComponent(new Np.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Rw).getImmediate().logEvent}}catch(t){throw vw.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.10")}(te.Z);var Lw,Mw=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),jw=((Lw={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Lw["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Lw["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Lw["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Lw["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Lw["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Lw["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Lw["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Lw["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Lw["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Lw["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Lw["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Lw["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Lw),Fw=new ne.LL("remoteconfig","Remote Config",jw);var Uw=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,h,f,d,p,v,m,g,y,b;return(0,hi.Jh)(this,(function(_){switch(_.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=_.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),_.label=2;case 2:return _.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return _.sent(),[4,c];case 4:return h=_.sent(),[3,6];case 5:throw f=_.sent(),d="fetch-client-network","AbortError"===f.name&&(d="fetch-timeout"),Fw.create(d,{originalErrorMessage:f.message});case 6:if(p=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];y=void 0,_.label=7;case 7:return _.trys.push([7,9,,10]),[4,h.json()];case 8:return y=_.sent(),[3,10];case 9:throw b=_.sent(),Fw.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=y.entries,g=y.state,_.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==p&&200!==p)throw Fw.create("fetch-status",{httpStatus:p});return[2,{status:p,eTag:v,config:m}]}var w}))}))},e}(),Vw=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),qw=["1","true","t","yes","y","on"],Bw=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&qw.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),zw=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=re.in.DEBUG;break;case"silent":this._logger.logLevel=re.in.SILENT;break;default:this._logger.logLevel=re.in.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:e=new Vw,setTimeout((function(){return(0,hi.mG)(r,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof ne.ZR&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,hi.mG)(this,void 0,void 0,(function(){return(0,hi.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,hi.pi)((0,hi.pi)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Bw("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Bw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Bw("static"))},e}();function Gw(e,t){var n=e.target.error||void 0;return Fw.create(t,{originalErrorMessage:n&&n.message})}var Kw="app_namespace_store";var Hw=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Gw(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Kw,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Kw],"readonly").objectStore(Kw),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Gw(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(u){i(Fw.create("storage-get",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,hi.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,hi.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Kw],"readwrite").objectStore(Kw),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Gw(e,"storage-set"))},u.onsuccess=function(){i()}}catch(c){o(Fw.create("storage-set",{originalErrorMessage:c&&c.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,hi.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Kw],"readwrite").objectStore(Kw),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Gw(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(u){i(Fw.create("storage-delete",{originalErrorMessage:u&&u.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Ww=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,hi.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function Jw(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Fw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Qw,Xw=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,hi.mG)(this,void 0,void 0,(function(){var t;return(0,hi.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,hi.mG)(this,void 0,void 0,(function(){var t,i,o;return(0,hi.Jh)(this,(function(a){switch(a.label){case 0:return[4,Jw(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof ne.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,ne.$s)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Yw="@firebase/remote-config";(Qw=te.Z).INTERNAL.registerComponent(new Np.wA("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Fw.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw Fw.create("registration-project-id");if(!s)throw Fw.create("registration-api-key");if(!u)throw Fw.create("registration-app-id");n=n||"firebase";var c=new Hw(u,r.name,n),l=new Ww(c),h=new re.Yd(Yw);h.logLevel=re.in.ERROR;var f=new Uw(i,Qw.SDK_VERSION,n,a,s,u),d=new Xw(f,c),p=new Mw(d,c,l,h),v=new zw(r,p,l,c,h);return v.ensureInitialized(),v}),"PUBLIC").setMultipleInstances(!0)),Qw.registerVersion(Yw,"0.1.37");te.Z.registerVersion("firebase","8.5.0","app");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),te.Z.registerVersion("firebase","8.5.0");function Zw(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=(0,t.useRef)(),o=a((0,t.useState)(""),2),s=o[0],u=o[1],c=a((0,t.useState)(""),2),l=c[0],h=c[1],f=a((0,t.useState)(""),2),d=f[0],p=f[1],v=a((0,t.useState)(""),2),m=v[0],g=v[1],y=a((0,t.useState)(""),2),b=y[0],_=y[1],w=a((0,t.useState)(""),2),k=w[0],E=w[1],S=a((0,t.useState)(""),2),T=S[0],I=S[1],C=a((0,t.useState)(""),2),x=C[0],N=C[1],A=a((0,t.useState)(!1),2),P=A[0],D=A[1],R=a((0,t.useState)(""),2),O=R[0],L=R[1],M=a((0,t.useState)(!1),2),j=M[0],F=M[1],U=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a((0,t.useState)(!0),2),r=n[0],i=n[1],o=a((0,t.useState)(!1),2),s=o[0],u=o[1],c=a((0,t.useState)(null),2),l=c[0],h=c[1],f=Fp().dispatch,d=a((0,t.useState)(!1),2),p=d[0],v=d[1],m=function(){var t=nm(em().mark((function t(n,r,o){var a;return em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),u(!0),h(null),t.prev=3,e?Dp.setPersistence(te.Z.auth.Auth.Persistence.LOCAL):Dp.setPersistence(te.Z.auth.Auth.Persistence.SESSION),t.next=7,Dp.createUserWithEmailAndPassword(n,r);case 7:if(a=t.sent){t.next=10;break}throw new Error("Could not complete signup");case 10:return t.next=12,a.user.updateProfile({displayName:o,photoURL:"https://robohash.org/guest"});case 12:f({type:"LOGIN",payload:a.user}),p||(h("Register successfull!"),u(!1),i(null)),t.next=23;break;case 16:if(t.prev=16,t.t0=t.catch(3),p){t.next=23;break}return i(t.t0.message),u(!1),h(null),t.abrupt("return",t.t0);case 23:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(e,n,r){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){v(!0)}}),[]),{signup:m,error:r,isPending:s,isSuccess:l}}(j),V=U.signup,q=am().validate,B=function(){h(""),g(""),E(""),I(""),D(!1),L("")},z=function(){var e=q("email",s);if(e)return h(e),e;var t=q("password",d);if(t)return g(t),t;var n=q("password",b);if(n)return E(n),n;var r=q("name",x);return r?(I(r),r):void 0},G=function(){var e=nm(em().mark((function e(t){var n,r;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=z())){e.next=5;break}return L(n),e.abrupt("return");case 5:if(d!==b){e.next=24;break}return e.prev=6,e.next=9,V(s,d,x);case 9:if(!(r=e.sent)){e.next=16;break}if("The email address is already in use by another account."!==r.message){e.next=15;break}throw Error("This email adress is already in use");case 15:throw Error("Couldn't create account");case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),D(!0),L(e.t0.message);case 22:e.next=28;break;case 24:D(!0),g(!0),E(!0),L("Passwords don't match");case 28:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){(l||m||k||T)&&D(!0)}),[l,m,k,T]),(0,Op.jsxs)("div",{className:"auth",children:[(0,Op.jsxs)("form",{className:"auth__form",onSubmit:G,children:[(0,Op.jsx)("div",{className:"auth__form-logo-wrapper",children:(0,Op.jsx)("h2",{className:"auth__form-logo-h2",children:"Sign Up"})}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:e,type:"text",className:"auth__form-input ".concat(s&&"auth__form-input--content"," ").concat(l?"auth__form-input--error":""),onChange:function(e){u(e.target.value),B()},value:s}),(0,Op.jsx)("span",{onClick:function(){return e.current.focus()},onMouseEnter:function(){return e.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return e.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(s&&"auth__form-input-span--content"),children:"Email adress*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:n,type:"password",className:"auth__form-input ".concat(d&&"auth__form-input--content"," ").concat(m?"auth__form-input--error":""),onChange:function(e){p(e.target.value),B()},value:d}),(0,Op.jsx)("span",{onClick:function(){return n.current.focus()},onMouseEnter:function(){return n.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return n.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(d&&"auth__form-input-span--content"),children:"Password*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:r,type:"password",className:"auth__form-input ".concat(b&&"auth__form-input--content"," ").concat(k?"auth__form-input--error":""),onChange:function(e){_(e.target.value),B()},value:b}),(0,Op.jsx)("span",{onClick:function(){return r.current.focus()},onMouseEnter:function(){return r.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return r.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(b&&"auth__form-input-span--content"),children:"Repeat password*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:i,type:"text",className:"auth__form-input ".concat(x&&"auth__form-input--content"," ").concat(T?"auth__form-input--error":""),onChange:function(e){N(e.target.value),B()},value:x}),(0,Op.jsx)("span",{onClick:function(){return i.current.focus()},onMouseEnter:function(){return i.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return i.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(x&&"auth__form-input-span--content"),children:"Display name"})]}),(0,Op.jsx)("p",{className:"auth__message",children:O}),(0,Op.jsxs)("label",{className:"auth__form-input-checkbox-label",children:[(0,Op.jsx)("input",{type:"checkbox",className:"auth__form-input-checkbox",onChange:function(){return F(!0)}}),(0,Op.jsx)("span",{className:"auth__form-input-checkbox-span",children:"Remember me"})]})]}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsx)("button",{disabled:P,className:"auth__form-submit ".concat(P?"auth__form-submit--disabled":""),children:(0,Op.jsx)("p",{className:"auth__form-submit-p",children:"SIGN UP"})}),(0,Op.jsx)("div",{className:"auth__form-buttons-wrapper",children:(0,Op.jsx)(X,{to:"/",className:"auth__form-link auth__form-link--signup",children:(0,Op.jsx)("p",{className:"auth__form-link-p",children:"Already have an account? Sign in"})})})]})]}),(0,Op.jsxs)("footer",{className:"copiright",children:["Copyright \xa9"," ",(0,Op.jsxs)("a",{className:"copiright__link",href:"https://github.com/MP-projects",rel:"noreferrer",target:"_blank",children:["Pawe\u0142 M\u0105czka"," "]}),"2022"]})]})}function $w(){var e=am().validate,n=(0,t.useRef)(),r=(0,t.useRef)(),i=a((0,t.useState)(""),2),o=i[0],s=i[1],u=a((0,t.useState)(""),2),c=u[0],l=u[1],h=a((0,t.useState)(""),2),f=h[0],d=h[1],p=a((0,t.useState)(""),2),v=p[0],m=p[1],g=a((0,t.useState)(!1),2),y=g[0],b=g[1],_=a((0,t.useState)(""),2),w=_[0],k=_[1],E=a((0,t.useState)(!1),2),S=E[0],T=E[1],I=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=a((0,t.useState)(null),2),r=n[0],i=n[1],o=a((0,t.useState)(!1),2),s=o[0],u=o[1],c=Fp().dispatch,l=a((0,t.useState)(!1),2),h=l[0],f=l[1],d=function(){var t=nm(em().mark((function t(){var n;return em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),u(!0),t.prev=2,e?Dp.setPersistence(te.Z.auth.Auth.Persistence.LOCAL):Dp.setPersistence(te.Z.auth.Auth.Persistence.SESSION),t.next=6,Dp.signInAnonymously();case 6:return n=t.sent,t.next=9,n.user.updateProfile({displayName:"GUEST",photoURL:"https://robohash.org/GUEST"});case 9:c({type:"LOGIN",payload:n.user}),h||(u(!1),i(null)),t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(2),h){t.next=19;break}return i(t.t0.message),u(!1),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){f(!0)}}),[]),{loginAnonymous:d,isPending:s,error:r}}(S),C=I.loginAnonymous,x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a((0,t.useState)(null),2),r=n[0],i=n[1],o=a((0,t.useState)(!1),2),s=o[0],u=o[1],c=Fp().dispatch,l=a((0,t.useState)(!1),2),h=l[0],f=l[1],d=function(){var t=nm(em().mark((function t(n,r){var o;return em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),u(!0),t.prev=2,e?Dp.setPersistence(te.Z.auth.Auth.Persistence.LOCAL):Dp.setPersistence(te.Z.auth.Auth.Persistence.SESSION),t.next=6,Dp.signInWithEmailAndPassword(n,r);case 6:o=t.sent,c({type:"LOGIN",payload:o.user}),h||(u(!1),i(null)),t.next=17;break;case 11:if(t.prev=11,t.t0=t.catch(2),h){t.next=17;break}return i(t.t0.message),u(!1),t.abrupt("return",t.t0);case 17:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,n){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){return function(){f(!0)}}),[]),{login:d,isPending:s,error:r}}(S),N=x.login,A=function(){l(""),m(""),b(!1),k("")},P=function(){var t=e("email",o);if(t)return l(t),t;var n=e("password",f);return n?(m(n),n):void 0},D=function(){var e=nm(em().mark((function e(){return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:if(!e.sent){e.next=6;break}throw Error("Couldn't login as guest");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=nm(em().mark((function e(t){var n;return em().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=P())){e.next=5;break}return k(n),e.abrupt("return");case 5:return e.prev=5,e.next=8,N(o,f);case 8:if(!e.sent){e.next=11;break}throw Error("Invalid email or password");case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),b(!0),k(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){(c||v)&&b(!0)}),[c,v]),(0,Op.jsxs)("div",{className:"auth",children:[(0,Op.jsxs)("form",{className:"auth__form",onSubmit:R,children:[(0,Op.jsx)("div",{className:"auth__form-logo-wrapper",children:(0,Op.jsx)("h2",{className:"auth__form-logo-h2",children:"Sign In"})}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:n,type:"text",className:"auth__form-input ".concat(o&&"auth__form-input--content"," ").concat(c?"auth__form-input--error":""),onChange:function(e){s(e.target.value),A()},value:o}),(0,Op.jsx)("span",{onClick:function(){return n.current.focus()},onMouseEnter:function(){return n.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return n.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(o&&"auth__form-input-span--content"),children:"Email adress*"})]}),(0,Op.jsxs)("div",{className:"auth__form-input-wrapper",children:[(0,Op.jsx)("input",{ref:r,type:"password",className:"auth__form-input ".concat(f&&"auth__form-input--content"," ").concat(v?"auth__form-input--error":""),onChange:function(e){d(e.target.value),A()},value:f}),(0,Op.jsx)("span",{onClick:function(){return r.current.focus()},onMouseEnter:function(){return r.current.classList.add("auth__form-input--hover")},onMouseLeave:function(){return r.current.classList.remove("auth__form-input--hover")},className:"auth__form-input-span ".concat(f&&"auth__form-input-span--content"),children:"Password*"})]}),(0,Op.jsx)("p",{className:"auth__message",children:w}),(0,Op.jsxs)("label",{className:"auth__form-input-checkbox-label",children:[(0,Op.jsx)("input",{type:"checkbox",className:"auth__form-input-checkbox",onChange:function(){return T(!0)}}),(0,Op.jsx)("span",{className:"auth__form-input-checkbox-span",children:"Remember me"})]})]}),(0,Op.jsxs)("div",{className:"auth__form-wrapper",children:[(0,Op.jsx)("button",{disabled:y,className:"auth__form-submit ".concat(y?"auth__form-submit--disabled":""),children:(0,Op.jsx)("p",{className:"auth__form-submit-p",children:"SIGN IN"})}),(0,Op.jsx)("p",{className:"auth__form-p",children:"OR"}),(0,Op.jsx)("button",{type:"button",className:"auth__form-submit",onClick:D,children:(0,Op.jsx)("p",{className:"auth__form-submit-p",children:"START AS GUEST"})}),(0,Op.jsxs)("div",{className:"auth__form-buttons-wrapper",children:[(0,Op.jsx)(X,{to:"/",className:"auth__form-link",children:(0,Op.jsx)("p",{className:"auth__form-link-p",children:"Forgot password?"})}),(0,Op.jsx)(X,{to:"/register",className:"auth__form-link auth__form-link--signup",children:(0,Op.jsx)("p",{className:"auth__form-link-p",children:"Don't have an account? Sign up"})})]})]})]}),(0,Op.jsxs)("footer",{className:"copiright",children:["Copyright \xa9"," ",(0,Op.jsxs)("a",{className:"copiright__link",href:"https://github.com/MP-projects",rel:"noreferrer",target:"_blank",children:["Pawe\u0142 M\u0105czka"," "]}),"2022"]})]})}var ek=function(){var e=Fp(),t=e.user,n=e.authIsReady,r=Bp().darkMode;return(0,Op.jsx)("main",{className:"app ".concat(r&&t?"darkMode--dark":""),children:n&&(0,Op.jsx)(Q,{children:(0,Op.jsxs)(z,{children:[(0,Op.jsx)(q,{path:"/task-managemenet-web-app",element:t?(0,Op.jsx)(V,{to:"/task-managemenet-web-app/home"}):(0,Op.jsx)($w,{})}),(0,Op.jsx)(q,{path:"register",element:t?(0,Op.jsx)(V,{to:"/task-managemenet-web-app/home"}):(0,Op.jsx)(Zw,{})}),(0,Op.jsx)(q,{path:"/task-managemenet-web-app/home/*",element:t?(0,Op.jsx)(Um,{}):(0,Op.jsx)(V,{to:"/"})}),(0,Op.jsx)(q,{path:"*",element:(0,Op.jsx)(V,{to:"/task-managemenet-web-app"})})]})})})},tk=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};(function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ov];return Vv.get(t,e)},set:function(t){var n=this[Ov];Vv.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ov];if(!i.P)switch(i.i){case 5:r(i)&&wv(i);break;case 4:n(i)&&wv(i)}}}function n(e){for(var t=e.t,n=e.k,r=jv(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Ov){var a=t[o];if(void 0===a&&!Xp(t,o))return!0;var s=n[o],u=s&&s[Ov];if(u?u.t!==a:!$p(s,a))return!0}}var c=!!t[Ov];return r.length!==jv(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};uv("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Fv(n);delete o[Ov];for(var a=jv(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:cv(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Ov,{value:o,writable:!0}),i},S:function(e,n,i){i?Hp(n)&&n[Ov].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ov];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)Jp(o,(function(t){t!==Ov&&(void 0!==i[t]||Xp(i,t)?a[t]||e(o[t]):(a[t]=!0,wv(n)))})),Jp(i,(function(e){void 0!==o[e]||Xp(o,e)||(a[e]=!1,wv(n))}));else if(5===s){if(r(n)&&(wv(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),h=0;h<l;h++)o.hasOwnProperty(h)||(a[h]=!0),void 0===a[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})})(),function(){function e(e,t){function n(){this.constructor=e}i(e,t),e.prototype=(n.prototype=t.prototype,new n)}function t(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function n(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(Wp(t)){var n=Ev(e.A.h,t,e);e.p.set(t,n),e.o.add(n)}else e.o.add(t)})))}function r(e){e.O&&Kp(3,JSON.stringify(nv(e)))}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},o=function(){function n(e,t){return this[Ov]={i:2,l:t,A:t?t.A:cv(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,O:!1},this}e(n,Map);var i=n.prototype;return Object.defineProperty(i,"size",{get:function(){return nv(this[Ov]).size}}),i.has=function(e){return nv(this[Ov]).has(e)},i.set=function(e,n){var i=this[Ov];return r(i),nv(i).has(e)&&nv(i).get(e)===n||(t(i),wv(i),i.D.set(e,!0),i.o.set(e,n),i.D.set(e,!0)),this},i.delete=function(e){if(!this.has(e))return!1;var n=this[Ov];return r(n),t(n),wv(n),n.t.has(e)?n.D.set(e,!1):n.D.delete(e),n.o.delete(e),!0},i.clear=function(){var e=this[Ov];r(e),nv(e).size&&(t(e),wv(e),e.D=new Map,Jp(e.t,(function(t){e.D.set(t,!1)})),e.o.clear())},i.forEach=function(e,t){var n=this;nv(this[Ov]).forEach((function(r,i){e.call(t,n.get(i),i,n)}))},i.get=function(e){var n=this[Ov];r(n);var i=nv(n).get(e);if(n.I||!Wp(i))return i;if(i!==n.t.get(e))return i;var o=Ev(n.A.h,i,n);return t(n),n.o.set(e,o),o},i.keys=function(){return nv(this[Ov]).keys()},i.values=function(){var e,t=this,n=this.keys();return(e={})[Lv]=function(){return t.values()},e.next=function(){var e=n.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},i.entries=function(){var e,t=this,n=this.keys();return(e={})[Lv]=function(){return t.entries()},e.next=function(){var e=n.next();if(e.done)return e;var r=t.get(e.value);return{done:!1,value:[e.value,r]}},e},i[Lv]=function(){return this.entries()},n}(),a=function(){function t(e,t){return this[Ov]={i:3,l:t,A:t?t.A:cv(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,O:!1,C:!1},this}e(t,Set);var i=t.prototype;return Object.defineProperty(i,"size",{get:function(){return nv(this[Ov]).size}}),i.has=function(e){var t=this[Ov];return r(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},i.add=function(e){var t=this[Ov];return r(t),this.has(e)||(n(t),wv(t),t.o.add(e)),this},i.delete=function(e){if(!this.has(e))return!1;var t=this[Ov];return r(t),n(t),wv(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},i.clear=function(){var e=this[Ov];r(e),nv(e).size&&(n(e),wv(e),e.o.clear())},i.values=function(){var e=this[Ov];return r(e),n(e),e.o.values()},i.entries=function(){var e=this[Ov];return r(e),n(e),e.o.entries()},i.keys=function(){return this.values()},i[Lv]=function(){return this.values()},i.forEach=function(e,t){for(var n=this.values(),r=n.next();!r.done;)e.call(t,r.value,r.value,this),r=n.next()},t}();uv("MapSet",{N:function(e,t){return new o(e,t)},T:function(e,t){return new a(e,t)}})}(),function(){function e(t){if(!Wp(t))return t;if(Array.isArray(t))return t.map(e);if(ev(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(tv(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return Xp(t,Rv)&&(n[Rv]=t[Rv]),n}function t(t){return Hp(t)?e(t):t}var n="add";uv("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,a=t,s=0;s<i.length-1;s++){var u=Qp(a),c=""+i[s];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||Kp(24),"function"==typeof a&&"prototype"===c&&Kp(24),"object"!=typeof(a=Yp(a,c))&&Kp(15,i.join("/"))}var l=Qp(a),h=e(r.value),f=i[i.length-1];switch(o){case"replace":switch(l){case 2:return a.set(f,h);case 3:Kp(16);default:return a[f]=h}case n:switch(l){case 1:return"-"===f?a.push(h):a.splice(f,0,h);case 2:return a.set(f,h);case 3:return a.add(h);default:return a[f]=h}case"remove":switch(l){case 1:return a.splice(f,1);case 2:return a.delete(f);case 3:return a.delete(r.value);default:return delete a[f]}default:Kp(17,o)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var a=e.t,s=e.o;Jp(e.D,(function(e,u){var c=Yp(a,e),l=Yp(s,e),h=u?Xp(a,e)?"replace":n:"remove";if(c!==l||"replace"!==h){var f=r.concat(e);i.push("remove"===h?{op:h,path:f}:{op:h,path:f,value:l}),o.push(h===n?{op:"remove",path:f}:"remove"===h?{op:n,path:f,value:t(c)}:{op:"replace",path:f,value:t(c)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var a=e.t,s=e.D,u=e.o;if(u.length<a.length){var c=[u,a];a=c[0],u=c[1];var l=[o,i];i=l[0],o=l[1]}for(var h=0;h<a.length;h++)if(s[h]&&u[h]!==a[h]){var f=r.concat([h]);i.push({op:"replace",path:f,value:t(u[h])}),o.push({op:"replace",path:f,value:t(a[h])})}for(var d=a.length;d<u.length;d++){var p=r.concat([d]);i.push({op:n,path:p,value:t(u[d])})}a.length<u.length&&o.push({op:"replace",path:r.concat(["length"]),value:a.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,a=e.o,s=0;o.forEach((function(e){if(!a.has(e)){var o=t.concat([s]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}s++})),s=0,a.forEach((function(e){if(!o.has(e)){var a=t.concat([s]);r.push({op:n,path:a,value:e}),i.unshift({op:"remove",path:a,value:e})}s++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===Dv?void 0:t}),r.push({op:"replace",path:[],value:e})}})}(),r.createRoot(document.getElementById("root")).render((0,Op.jsx)(jp,{children:(0,Op.jsx)(qp,{children:(0,Op.jsx)(ek,{})})})),tk()}()}();
//# sourceMappingURL=main.fd0e8151.js.map